/**
 * Level state.
 */
function Level() {
	Phaser.State.call(this);
}






var proto = Object.create(Phaser.State);
Level.prototype = proto;


var KYLIAIETHX=false;


var JHGHJAGCMC;
var MaquinaSinSSH
var MaquinaSSH;
var BBWEGOPQUF;
var RecienInstalado=false;

if (KYLIAIETHX==true){

	BBWEGOPQUF=10;
	//MaquinaSSH="https://b.xn--guiotepro-n6a.com"
	//MaquinaSinSSH="http://b.xn--guiotepro-n6a.com"
	//JHGHJAGCMC="https://b.xn--guiotepro-n6a.com"
	
	//MaquinaSSH="http://b.xn--guiotepro-n6a.com"
	//MaquinaSinSSH="http://b.xn--guiotepro-n6a.com"
	//JHGHJAGCMC="https://b.xn--guiotepro-n6a.com"
	JHGHJAGCMC="https://xn--guiotepro-n6a.es"
	//JHGHJAGCMC="https://b.xn--guiotepro-n6a.es"

	


}
else
{
	BBWEGOPQUF=150;
	JHGHJAGCMC='http://192.168.43.100:5000'		
}

//var TextoGeneral;
var BloqueoOrganizador=false;
var BloqueoIA=false;
var DesdeMinimizado=false;
var JDAHOQYHHV;
var emitterMagia;
var CUUKQAGFEB;
var BNMBJQQQQW;
var MNSLSOPOOP;
var PANPKTGSCV;
var HRGDCMPPKU;
var KAHCKJHQEO;
var TDRCQKMLDY;
var ANCNWHEHOW;
var MCABGEIGWI;
var RIHFCSEMIJ;
var HJKHDKJHWU;
var BMANCBQGIU;
var JCBAJIQEFK;
var BNBMCQOWKS;
var DCIKAAMXTU="";
var CBGXLQKDBG="";
var ETJWOWNABD="";	
var MBCAMBIWFF=0;
//var BBWEGOPQUF=15;
var GBROPWPVSK=false;
var WTCIGMLJUY;
var BRQFVLOBSF;
var AWUXXYKLPX;
var TPUQKKKNMX=0;
var NKJUWTDEWM="";
//var DUGDLNBOGK=false; 2.0.7
var AJFQVFUKAP;
var BNCAIUQIJJ=false
var JHHWEKWEJK=false;
var bmd;
var YMHIHSNADE;
var BNCXHHJGVW;
var UJHVBJDGJD;
var BNMZBXWIDW;
var JKCANKPQBB=0;
var SFKLFIJOIO='2.0.5';
var DJLLBCJWNT=true;
var socket;
var EVAILWGGKX=false; 
var HKCERVLWFB;
var NHLRWTHYVG=false;
var VKYLOUGFGR=false;
//var LogicalNoticia=false;
var inputField;
var ERQHLTPETK=false;
var BUJELVTIKU;
var ISVLSNLHWR=0;
var IJCSKNTKVH="";

var JLVDFTPUNI=101;
var MFENMIFPUA=1;

var EGSJHTESLW=true;
var RapidoEnDesconexiones=true;

var VBMSLTWABI=0;
var HLBMKNFUWL=1500;//1500 milisegundos
var GWFPRHAYQK=15;//chance 15 segundos

var MUIUIFIUWE;
var MNVOJWOOWV;
var HCNKWJHWXA;
var IUYCIUWOQB;
var HKJSHOWHOW;
var POWUIOFVDW;
var GHJGKGEIIE;
var KSDBOMSIWW;

var	HDKVJSOWVP;
var	JBJKACHKHQ;
var	NMBAIUWICW;
var	IUTWGTYUEW;	
var	YQRYRYCCPE;
var	NVBNVWUOWY;	
var	HJGAYUQIUQ;
var	NVFWIWOWQQ;


if (EGSJHTESLW==true)
{
	HLBMKNFUWL=150;//1500 milisegundos
	GWFPRHAYQK=0.2;//20 segundos
}


var RPHWVBBGIM='copas';
//console.log(RPHWVBBGIM.indexOf('copaas'))


var TUTWNSAGSX=true;
var LQBKIBHROQ=false;

var XIQDONAJMM;
var KVBNWXDTON;
var RCYRGXLWBR;

var MQUGCIUQII;

var EligiendoPareja=false;
var FSKHWVCMCA=false;
var TLGMUNNDGH=false;
var TDILLGNFGX=false;
var KKXJHKJGVG=[];
//var MazoBarajaBase2=[];
var FXGSEGRXKC=[];
var WUHRYVMYBE=[];
var SXFHAGTGJT=[];
var	CBCNHFGWLU=[];
var	KNVKGHHTYC=[];
var	TWJONOKGHC=[];
var	AGKVNAGGLB=[];
var	ETAUVLWEYR=[];
var VDKOVQXHON=[];
//var WSHPROHDIV=[]; 2.0.7
//var TTJKWKBPWO=[]; 2.0.7
var FBSDMRLVEL=[];
var KBESPOUXUK=[];
var JLOISTPAPQ=[];
var BRILHDFUSO=[];
var XYRJNHOCRB=[];
var HAJIKEVCFP=[];
var LSJCRLDUCH=[];
var EGPDVIEJEL=false;
var EHUHWTYXOS=false;
var	VUFCMULFSR;
var	QTQIWVWEOI;
var DDONCKKEVJ;
var	IXWMVXRIVW;
var	QFPBRSSRCY;
var MALHKNCITQ;
var	HCTVQVJJIB;
var	IWGTWFENXM;
var WPVNAOXVJH;
var	GHGYTYYGNN;
var	HJGJWOCUMN;
var NXXLHVGDFY;
var SNVWBLGBPJ=4;
var MEPQMUPTEH=1.5;
var RABUWLOKWX=0.9;
var XQNKTFDREN=1;
var QDTCADQEEX=1.5;
var PVQFVAAAEY=300; //500
var RXKKPILDQT;
var SYXHGDSJDY;
var BDRJVGFWQH;
var PBHYCULPGK;
var UOPIKJVEKS;
var WWFSQDQYYU;
var GSXGWASLIY;
var COTMMCVJWP;
var VTEVNYKAUB;
var BNWHJGHWUW;
var GHFGHSIWCV;
var POUWEIOUWQ;

//OJO CON ESTOS ArrayS AL LIMPIAR VARIABLES
var HMVFLEYPXM=[];
var REDYBSYSNN=[];
var ArrayBloqueoTareasBack=[];
//var RLEHYYGBGQ=[]; 2.0.7
var JSNTWHPRIL=[];
var XPBCVAGCDQ=[];
var QLNEIQGEDF=[];
var KYDWXPGHVY=[];
var NBEJWDVLLV=[];
//var ArrayJugadoresDesconectadosID=[];
//var XYXCEMMRDC=[];
var JEHYBALODM=[];
var DCOXIXEBRJ=[];

var PWMIBRSDCJ=[];
//var NKJHKJHHHE=[];
var ESKTEXAVHU;
var MYQBNBVHKU=false;
var HGMNXSIAPV=false;
var UYIUYIUYIU;
var BNVUWCOWEC;
var DHJGJHGWCY;
var GJHWUYGCBN;

var bolsa_dinero;
var moneda;

var YTUGCWECJC=true;

var NQMQGXXHIL = function(TKWCTNGROU,SSUNXNEEHN){
	this.AGTXFNIKQD=TKWCTNGROU
	this.SSUNXNEEHN=SSUNXNEEHN
};
var KTBOJTXFEU=[];
//var BSFNXQXOTD=[];
var LUCRWXJMDR=1;
var PNVKSWRTOJ=1;
var KKPQLKMIQR=[];
var HBFBHWJQSQ=false;
var YJNIRPCWEI;
var JKLJKLRIRI;

var NXNXBWBBWL='baraja_pro';
var XAXPEHVIAI=false;
var KEPPHQIJQR=0; //por algún motivo lo manda todo al 0
var AQONVWHHFT=0;
var BOLUEYFVYH=0;
var GAMFUXNGTH=0;
var JOWOYBTJSV=0;
var YAJVUBPNNW=15;
var DFBVDPETGO;
var IRXOKNWTLV=150;//120
var TFSXFTYVGQ;
var MDYSFNYPYP=250;
var BQUYYUASDK=350; 
//var RDBQUAVHEP=4;
var DVNRTQIWGL=1; //1.0.4
var	LimiteReconexiones=2; //Se sobreescribe después desde el server
var LimiteMinimizados=2; //Se sobreescribe después desde el server
var LimiteTiempoReconexion=20;
var vVecesMinimizado=0;
var vVecesReconectado=0;
var TGTQPBEQFR;
var NNXBXBHSHH;
var MMSJJSJSUW;
var OOQQOQOOID;
var QTQTQTQTQT;
var GSGGWGWGWG;
var HGJCWICPWQ;
var NBMNABHJCG;
var NXHWIWPWOW;

var BJHGSJHDGS;
var IUWYIUFYCW;
var NXWIWPWPQQ;
var NMSBGIVWOT;
var NNCHIEIEWW;
var PPWPWWODJF;
var HJGWIOWOVD;
var HQJHKJCHKW;


var JKHKJVHWPW;
var NBXIJWGIWP;
var JHWJFHWIWW;
var MNIIWIWIUD;

var DSCHJGSVHJ;
var UIWYCUIHWU;
var NBSHGWHGWW;
var EHIEHUIEHU;


var FJHJGFHGFO;
var HGHJGWKHAA;
var AAAAJGHJGW;
var UIWYIEUCWW;

var BBBJHKWOOW;
var MMSWJWIAHG;
var HJGSXHJGSW;
var YYYWCGWCGW;

//var MJBCTSKUIB;
//var RWPENUDCCR;
var PQUFIBKJJH;
var LJRRHVSVKD;
var LCYAHFBDTT;
var NEPGDYQDEI;
var HHBPAROITT;
var EWXBTDLSHW;
var BDEFDQUJJE;
var CKOUBGTDUF;
var JLFYUAKDIJ;
var UTIDOKPNXQ;
var BTLKBBAXSA;
var TTCLPDJAMD
var TKXWTMCBFU;
var UEIQAMIDWY;
var GCKCAMPPHX;
var CFFVTFENDF;
var PTHQXTTWIH;
var IRQUWMEVQL;
var HIFQJUUVEU;
var JKSTORAHAM;
var UHHXSNXXJK=0; 
var PXGXKDDNFK=0; 
var CNCCBHQJKL=0;
var JVQXQGYDHH=0;
var IEQDMBJCAY;
var PPTWRPRLSI=false;
var FOQUJVEYFC=[];
var YGTNAODFHW;
var UEHYPTREIH;
var IBECDOLWLN;
var EFKTQSXAMA;
var POEICHMHDL;
var LNJDKEVPQE;
var COIVBWRMCC=0;
var SXSHBRJFIR=0;
var QOVBONVJSP;
var IFMJVFFEQN;
//Phaser.Easing.Quadratic.Out;
//Phaser.Easing.Quartic;
var KYFMRVNHIQ=Phaser.Easing.Linear.Out;
var BSXWFYLCEW=Phaser.Easing.Linear.Out;
var QUXNHVVDDK=Phaser.Easing.Bounce.Out;
var PXEBTYBHGS=0;
var EHBNOAKBDQ=false;
var KOHYQKLAJO=false;
var PJRPWGXEYM=75;
var HUUCUYFBLW;
var HYSGUYGUYT;
var BGHJGDWJVI;
var TKXPPGUPVV;
//var PUBDSNTIUS;
var CVTBLMKIGL;
var MMCDRVCGAV;
var VEMBUOOHLM=true;
var UWROMBGGSY;
var HUPALFWPFI;
var BXYCJYDVRT;
var IRAIEARIWA;

var IDKJKASOTQ;
var MMKMYKBXGH;
var AQXDDTTNUH;
var JNMGJTHVNF;



var QYBDUBOCBT;
var BDQHBTUNWW;
var PRWBHVTUSC;
var BMWINQGWDD;

var NBHWGUGUWB;
var HGYGDVGQUY;
var XXGUGUYWUW;
var XKIOHWGJHG;

var XPLHSUIGIU;
var NHGUGUEUER;
var HGWUGIVGWP;
var HGWYUYGVWO;


var deb;


var WAAJJVPHTG=0;
var KKMUHEKLOC=0;

var JBXCGDTWYW;
var NSNUIQUYIU;
var JSJSHSHSSE;
var VKEJRPCHKN;
var LFWPDMQYKH;
var Snd20;
var BHLJBCKLKE;
var SFVDEVFFCR;
var KMBKTLXURD;
var UIYIEWUHCI;
var DPCNHOBNRM;
var UHKVCVBOMD;
var LKGDBLGIEP;
var GMKJKKAKMH;
var VPGBDEHDIT;
var KFDIGGAMBI;
var MWLXRMDQXK;
var DPIDINSQVF;
var GERQISACAV;
var TSXDMBDDID;
var VLVITFRSLA;
var LSQGNFJBGH;
var CVJDMGILKI;
var JDPOTVNRCT;
var PDSPWPACWB;
var NEKUUPJKUV;
var MIKBDMVLOR;
var HKHCMJEIUU;
var LKGDBLGIEP;
var JHGVBSHGIW;
var IUIUOPPWCC;
var JBCWHUIWCW;
var NBIQIUICLA;

var	NSNSNSWGIU;
var LWHWUIWHIL;
var UWYIUWJHGS;
var	NNXHHWHWWW;
var	UUUUDJWJAJ;
var	UUQGJQGJAM;
var	NXHWHHWQQE;
var	OOUOIWJDDD;
var	NBSMNBHWOW;
var	HJGWHJDGJP;		
var	SndCremallera;	
var	SndMonedas;	
//var	SndCayendoMoneda;	
		
		
var QETACVSHAR;
var JHJEWHFWNL=false;

var UIYIUHCWVX;
var UUYECMNSZZ;
var ZZJJJUHIHI;
var LEUSNCUWAA;
var AAAAJKGHKC;
var HKJHVUHWUO;
var BVUWCEFEGY;
var NUSHIUSPKE;
var UIYIUWCHCW;
var AZZHJKWPLD;
var HGJCHGAJGC;
var MSJIWCUWCU;
var LOIYUIYIUC;	

//1.0.8 //Solo lPermisoDesconectado se modifica desde el servidor, sin que haga falta salir y entrar.
//var lPermisoHabilitado=true; //Controla usuarios que deshabilito
//var VXEWRTCPMM=true;
//var lPermisoDesconectado=true;
//1.0.8

var TiempoAntesDesconexion=0;
var PWGIQBBAWX=true;
var ATTUXTNNKX;
var XQDPVWOUII;
var TextGbits;
var TextGbitsIndicador;
var GBitsLocalSemaforo=false;
var GBitsLocal=0;
var GbitsPendientes=0;
var GbitsPendientesNuevoDiaSemaforo=false; //es un semáforo.
//var cambiar=1;

var ObjetoG;

var UVYJLLYCYD=function(SSUNXNEEHN,AURESXCGMK)
{
	this.SSUNXNEEHN=SSUNXNEEHN
	this.AURESXCGMK=AURESXCGMK
}








		
		
	

var AWXPNWRCHC = function(WWKVHIMWYD,BONQVNOXDP,QHHQPXWFNG,EJOYNSESRD,IRQGAFESIC,FFRVOEAXTF,BDYYDTFQAO,UHYGLMAUNK,DNQIYVAFPR,XCXKVEEIOO,BUJELVTIKU,NBJHGSFSJS,MBMWBWUYUY,OIUIOWCHVW,NHWYTYUSYG,NMABCQQCDD,
	AMBCNABIQQ,gprd,LimiteReconexiones,LimiteMinimizados,LimiteTiempoReconexion,GbitsResultado,GbitsDiario,GbitsPlus,NuevoDia,PuntuaciondePRO){
	this.WWKVHIMWYD=WWKVHIMWYD
	this.BONQVNOXDP=BONQVNOXDP
	this.QHHQPXWFNG=QHHQPXWFNG
	this.EJOYNSESRD=EJOYNSESRD
	this.IRQGAFESIC=IRQGAFESIC
	this.FFRVOEAXTF=FFRVOEAXTF
	this.BDYYDTFQAO=BDYYDTFQAO
	this.UHYGLMAUNK=UHYGLMAUNK
	this.DNQIYVAFPR=DNQIYVAFPR
	this.XCXKVEEIOO=XCXKVEEIOO
	this.BUJELVTIKU=BUJELVTIKU
	this.NBJHGSFSJS=NBJHGSFSJS
	this.MBMWBWUYUY=MBMWBWUYUY
	this.OIUIOWCHVW=OIUIOWCHVW
	this.NHWYTYUSYG=NHWYTYUSYG
	this.NMABCQQCDD=NMABCQQCDD
	this.AMBCNABIQQ=AMBCNABIQQ
	this.gprd=gprd
	this.LimiteReconexiones=LimiteReconexiones
	this.LimiteMinimizados=LimiteMinimizados
	this.LimiteTiempoReconexion=LimiteTiempoReconexion
	this.GbitsResultado=GbitsResultado
	this.GbitsDiario=GbitsDiario
	this.GbitsPlus=GbitsPlus
	this.NuevoDia=NuevoDia
	this.PuntuaciondePRO=PuntuaciondePRO
	
	this.OBTBPOULAV=FFRVOEAXTF+"-"+BDYYDTFQAO;
	
};

CierraChat=function()
{
	
	/*var d=document.getElementById('nchat');
	d.style.display='none'	
	
	var d=document.getElementById('gamer');
	d.style.display='block'*/
	//alert("jj")
	var d=document.getElementById('bchat');
	d.focus()
	d.click();
	
	var d=document.getElementById('nchat');
	d.style.display='none'	
	
	var d=document.getElementById('gamer');
	d.style.display='block'
	
	//Keyboard.hide();
}

CierraChat2=function()
{
	
	/*var d=document.getElementById('nchat');
	d.style.display='none'	
	
	var d=document.getElementById('gamer');
	d.style.display='block'*/
	//alert("jj")
	
	//Keyboard.hide();
}

function HMNHQKBORK(FXGSEGRXKC,NPYBJSHIFL,x,y) {

	this.FXGSEGRXKC=FXGSEGRXKC;
	this.NPYBJSHIFL=NPYBJSHIFL
	this.x=x;
    this.y=y;    
}

KGLYPJHYGL=function(){
	//alert("KGLYPJHYGL");
	////console.log("JJJ");
	//EABXADHEVT("TKYUFYJRRA");
}


JYJFGKVAQI=function()
{
	//var MatameApp = YMHIHSNADE.time.create(false);
	//		MatameApp.add(5000, function(){
				//FHKOYDXPCL(); //2.0.7
				//MHELAUXKXR(); //2.0.7
				UJHVBJDGJD=new Date(Date.now());				
				MatarConexionPrueba(); //2.0.7
				
				
				//XEMENNVXGV();
				//YMHIHSNADE.state.start("Level");
		//	}
		//);
		//MatameApp.start();
	
}

GTRVLWPSYL=function()
{
	//var MatameApp = YMHIHSNADE.time.create(false);
	//		MatameApp.add(5000, function(){
				//FHKOYDXPCL();
				//MHELAUXKXR();
				//XEMENNVXGV(); 
				//window.location.reload(); //2.0.7
				ConectaServidorPrueba();  //2.0.7
		//	}
		//);
		//MatameApp.start();
	
}

JHGWGJHVVN=function()
{
	if (QYBDUBOCBT==undefined)
	{
		
		
		
		
		QYBDUBOCBT= YMHIHSNADE.add.image(0*(-1),0*(-1),'general','desconocido');
		QYBDUBOCBT.inputEnabled = true;
		QYBDUBOCBT.events.onInputDown.add( function(){ RWANTPBSQE(1); } );
		QYBDUBOCBT.anchor.setTo(0.5,0.5);
		
		
		BDQHBTUNWW= YMHIHSNADE.add.image(0*(-1),0*(-1),'general','desconocido');
		BDQHBTUNWW.inputEnabled = true;
		BDQHBTUNWW.events.onInputDown.add( function(){ RWANTPBSQE(2); } );
		BDQHBTUNWW.anchor.setTo(0.5,0.5);
		
		
		PRWBHVTUSC= YMHIHSNADE.add.image(0*(-1),0*(-1),'general','desconocido');
		PRWBHVTUSC.inputEnabled = true;
		PRWBHVTUSC.events.onInputDown.add(  function(){ RWANTPBSQE(3); } );	
		PRWBHVTUSC.anchor.setTo(0.5,0.5);
		
		
		BMWINQGWDD= YMHIHSNADE.add.image(0*(-1),0*(-1),'general','desconocido');
		BMWINQGWDD.inputEnabled = true;
		BMWINQGWDD.events.onInputDown.add( function(){ RWANTPBSQE(4); } );
		BMWINQGWDD.anchor.setTo(0.5,0.5);
						
		NBHWGUGUWB = YMHIHSNADE.add.image(0+0,0+55,'general','medalla');
		HGYGDVGQUY = YMHIHSNADE.add.image(0+0,0+55,'general','medalla'); //-55
		XXGUGUYWUW = YMHIHSNADE.add.image(0+0,0+55,'general','medalla'); //-55
		XKIOHWGJHG = YMHIHSNADE.add.image(0+0,0+55,'general','medalla');//75	

		XPLHSUIGIU = YMHIHSNADE.add.image(0+0,0-35,'general','imagen_turno');	
		NHGUGUEUER = YMHIHSNADE.add.image(0+0,0-35,'general','imagen_turno');
		HGWUGIVGWP = YMHIHSNADE.add.image(0+0,0-35,'general','imagen_turno');
		HGWYUYGVWO = YMHIHSNADE.add.image(0+0,0-35,'general','imagen_turno');		
		
		UWROMBGGSY=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteAmarilla', 'BitmapText', 22);
		UWROMBGGSY.anchor.set(0.5,0.5)

		HUPALFWPFI=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteAmarilla', 'BitmapText', 22);
		HUPALFWPFI.anchor.set(0.5,0.5)

		BXYCJYDVRT=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteAmarilla', 'BitmapText', 22);
		BXYCJYDVRT.anchor.set(0.5,0.5)

		IRAIEARIWA=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteAmarilla', 'BitmapText', 22);
		IRAIEARIWA.anchor.set(0.5,0.5)
	}
	
	MMNXBIJWIW();

}

MMNXBIJWIW=function()
{
	

	
	QYBDUBOCBT.kill();
	BDQHBTUNWW.kill();
	PRWBHVTUSC.kill();
	BMWINQGWDD.kill();
	
	NBHWGUGUWB.kill();	
	HGYGDVGQUY.kill();	
	XXGUGUYWUW.kill();	
	XKIOHWGJHG.kill();	
	
	XPLHSUIGIU.kill();
	NHGUGUEUER.kill();
	HGWUGIVGWP.kill();
	HGWYUYGVWO.kill();
	
	UWROMBGGSY.kill();
	HUPALFWPFI.kill();
	BXYCJYDVRT.kill();
	IRAIEARIWA.kill();
	
	if (YMHIHSNADE.cache.checkImageKey('imagen1'))
	{				
		YMHIHSNADE.cache.removeImage('imagen1');
	}
	
	if (YMHIHSNADE.cache.checkImageKey('imagen2'))
	{				
		YMHIHSNADE.cache.removeImage('imagen2');
	}

	if (YMHIHSNADE.cache.checkImageKey('imagen3'))
	{				
		YMHIHSNADE.cache.removeImage('imagen3');
	}

	if (YMHIHSNADE.cache.checkImageKey('imagen4'))
	{				
		YMHIHSNADE.cache.removeImage('imagen4');
	}	
			
}
Level.prototype.create=function(){


	this.game.onPause.add(JYJFGKVAQI, this); //1.0.8 Sobra
	this.game.onResume.add(GTRVLWPSYL, this);

	BNCXHHJGVW=true;



	
//this.JHCGSIWICI.graphic.beginFill(this.JHCGSIWICI.color, 1);
//this.JHCGSIWICI.graphic.drawRect(0, 0, this.JHCGSIWICI.size, this.JHCGSIWICI.size);
		
	//log(false, Math.floor(Math.random() * 360) + 1   );	
	if (YMHIHSNADE==undefined)
	{
		YMHIHSNADE=this;
		if (Phaser.Device.firefox)	 //2.0.1 Con firefox a veces no cargan las letras
		{
			YMHIHSNADE.load.bitmapFont('MiFuenteAmarilla', 'assets/fonts/font.png', 'assets/fonts/font.fnt');
			YMHIHSNADE.load.bitmapFont('MiFuenteNegra', 'assets/fonts/fontblack.png', 'assets/fonts/fontblack.fnt');
		}
			
	}
	else
	{
		UIYIUCHWUH();
	}
	
	/*	if (YMHIHSNADE.cache.checkBitmapFontKey('MiFuenteNegra')==false)
	{	
		
		console.log("no existe la letra");
	}
	else
	{
		console.log("existe la letra");
	}*/

	
	
	if (BRQFVLOBSF==undefined)
	{
		//BRQFVLOBSF.destroy();
	
	
		BRQFVLOBSF=YMHIHSNADE.add.image(-200,-200,'baraja_pro','1_oros');
	}
	
	
	if (JBXCGDTWYW==undefined)
	{
		//JBXCGDTWYW.destroy();
		JBXCGDTWYW=YMHIHSNADE.add.bitmapText(YMHIHSNADE.world.centerX, YMHIHSNADE.world.centerY-50, 'MiFuenteAmarilla', 'BitmapText', 50);
		JBXCGDTWYW.anchor.set(0.5,0.5);
	}
	
	JBXCGDTWYW.text='Esperando jugadores';
	
	//YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
	
	JBXCGDTWYW.kill();
	
	if (NSNUIQUYIU==undefined)
	{
		//NSNUIQUYIU.destroy();
		NSNUIQUYIU=YMHIHSNADE.add.bitmapText(YMHIHSNADE.world.centerX, YMHIHSNADE.world.centerY-50, 'MiFuenteAmarilla', 'BitmapText', 50);
		NSNUIQUYIU.anchor.set(0.5,0.5);		
	}

	NSNUIQUYIU.text='Un momento por favor...\n Esperando al resto de compañeros.'
	
	//VTEVNYKAUB.add(NSNUIQUYIU);
	//YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
	//NSNUIQUYIU.bringToTop();
	NSNUIQUYIU.kill();
	//log(true,"Se crea el mensaje");

	
	
	ACGJHQWGVB();
	
	//if (RXKKPILDQT==undefined)
	//{

		/*RXKKPILDQT = YMHIHSNADE.add.group();
		SYXHGDSJDY = YMHIHSNADE.add.group();
		BDRJVGFWQH = YMHIHSNADE.add.group();
		PBHYCULPGK = YMHIHSNADE.add.group();
		GSXGWASLIY = YMHIHSNADE.add.group();
		UOPIKJVEKS = YMHIHSNADE.add.group();
		WWFSQDQYYU = YMHIHSNADE.add.group();
		COTMMCVJWP = YMHIHSNADE.add.group();
		BNWHJGHWUW = YMHIHSNADE.add.group();
		VTEVNYKAUB=YMHIHSNADE.add.group();//1.0.9
		*/
	//}
	
	/*if (KYLIAIETHX==false)
	{
		MaliDetect2();
	}*/
	//YMHIHSNADE.tweens.frameBased=false;
	//YMHIHSNADE.forceSingleUpdate=false;
	//console.log(YMHIHSNADE.forceSingleUpdate);
	
	
	
	DFBVDPETGO=Math.floor(Math.random());
	YJEISFVFQY();
	
	if (window.innerHeight/window.innerWidth<0.68)
	{	
		JHJEWHFWNL=false;
	}
	else
	{
		JHJEWHFWNL=true;
		QDTCADQEEX=1.7;
	}
	
	
	if( window.plugins)
	{
		window.plugins.googleplus.trySilentLogin(
				{
				 // 'scopes': '... ', // optional, space-separated list of scopes, If not included or empty, defaults to `profile` and `email`.
				  //'webClientId': 'client id of the web app/server side', // optional clientId of your Web application from Credentials settings of your project - On Android, this MUST be included to get an idToken. On iOS, it is not required.
				  'offline': true, // optional, but requires the webClientId - if set to true the plugin will also return a serverAuthCode, which can be used to grant offline access to a non-Google server
				},
				function (obj) {
					ObjetoG=obj;	
				}
				,
				function (msg) {
				 }
		);
	}


	
	if (BMANCBQGIU==undefined) //2.0.1 clave:rehuse
	{
		VKEJRPCHKN = YMHIHSNADE.add.audio('VKEJRPCHKN');
		LFWPDMQYKH = YMHIHSNADE.add.audio('LFWPDMQYKH');
		BHLJBCKLKE = YMHIHSNADE.add.audio('BHLJBCKLKE');
		Snd20 = YMHIHSNADE.add.audio('Snd20'); //2.0.1 20180204 
		SFVDEVFFCR = YMHIHSNADE.add.audio('SFVDEVFFCR');
		KMBKTLXURD = YMHIHSNADE.add.audio('KMBKTLXURD');
		UIYIEWUHCI = YMHIHSNADE.add.audio('UIYIEWUHCI');
		DPCNHOBNRM = YMHIHSNADE.add.audio('DPCNHOBNRM');
		GMKJKKAKMH = YMHIHSNADE.add.audio('GMKJKKAKMH');
		UHKVCVBOMD = YMHIHSNADE.add.audio('UHKVCVBOMD');
		LKGDBLGIEP = YMHIHSNADE.add.audio('LKGDBLGIEP');
		VPGBDEHDIT = YMHIHSNADE.add.audio('VPGBDEHDIT');
		KFDIGGAMBI = YMHIHSNADE.add.audio('KFDIGGAMBI');
		MWLXRMDQXK = YMHIHSNADE.add.audio('SndArrastro2');
		DPIDINSQVF = YMHIHSNADE.add.audio('DPIDINSQVF');
		GERQISACAV = YMHIHSNADE.add.audio('GERQISACAV');
		TSXDMBDDID = YMHIHSNADE.add.audio('TSXDMBDDID');
		VLVITFRSLA = YMHIHSNADE.add.audio('VLVITFRSLA');
		LSQGNFJBGH = YMHIHSNADE.add.audio('LSQGNFJBGH');
		CVJDMGILKI = YMHIHSNADE.add.audio('CVJDMGILKI');
		NEKUUPJKUV = YMHIHSNADE.add.audio('NEKUUPJKUV');
		MIKBDMVLOR = YMHIHSNADE.add.audio('MIKBDMVLOR');
		HKHCMJEIUU = YMHIHSNADE.add.audio('SndTabazo2');
		JDPOTVNRCT=YMHIHSNADE.add.audio('JDPOTVNRCT');
		JHGVBSHGIW=YMHIHSNADE.add.audio('JHGVBSHGIW');
		IUIUOPPWCC=YMHIHSNADE.add.audio('IUIUOPPWCC');
		JBCWHUIWCW=YMHIHSNADE.add.audio('JBCWHUIWCW');
		NBIQIUICLA=YMHIHSNADE.add.audio('NBIQIUICLA');
		
	
	//1.0.6
		UIYIUHCWVX=YMHIHSNADE.add.audio('UIYIUHCWVX');
		UUYECMNSZZ=YMHIHSNADE.add.audio('UUYECMNSZZ');
		ZZJJJUHIHI=YMHIHSNADE.add.audio('ZZJJJUHIHI');
		LEUSNCUWAA=YMHIHSNADE.add.audio('LEUSNCUWAA');
		AAAAJKGHKC=YMHIHSNADE.add.audio('AAAAJKGHKC');
		HKJHVUHWUO=YMHIHSNADE.add.audio('HKJHVUHWUO');
		BVUWCEFEGY=YMHIHSNADE.add.audio('BVUWCEFEGY');
		NUSHIUSPKE=YMHIHSNADE.add.audio('NUSHIUSPKE');
		UIYIUWCHCW=YMHIHSNADE.add.audio('UIYIUWCHCW');
		AZZHJKWPLD=YMHIHSNADE.add.audio('AZZHJKWPLD');
		HGJCHGAJGC=YMHIHSNADE.add.audio('HGJCHGAJGC');
		MSJIWCUWCU=YMHIHSNADE.add.audio('MSJIWCUWCU');
		LOIYUIYIUC=YMHIHSNADE.add.audio('LOIYUIYIUC');	
		
		//2.0.1
		NSNSNSWGIU=YMHIHSNADE.add.audio('NSNSNSWGIU');
		LWHWUIWHIL=YMHIHSNADE.add.audio('LWHWUIWHIL');
		UWYIUWJHGS=YMHIHSNADE.add.audio('UWYIUWJHGS');
		NNXHHWHWWW=YMHIHSNADE.add.audio('NNXHHWHWWW');
		UUUUDJWJAJ=YMHIHSNADE.add.audio('UUUUDJWJAJ');
		UUQGJQGJAM=YMHIHSNADE.add.audio('UUQGJQGJAM');
		NXHWHHWQQE=YMHIHSNADE.add.audio('NXHWHHWQQE');
		OOUOIWJDDD=YMHIHSNADE.add.audio('OOUOIWJDDD');
		NBSMNBHWOW=YMHIHSNADE.add.audio('NBSMNBHWOW');
		HJGWHJDGJP=YMHIHSNADE.add.audio('HJGWHJDGJP');	

		SndCremallera=YMHIHSNADE.add.audio('SndCremallera');	
		SndMonedas=YMHIHSNADE.add.audio('SndMonedas');	
		//SndCayendoMoneda=YMHIHSNADE.add.audio('SndCayendoMoneda');	
		

		
	}
	
	//1.0.6
	
	
	//PDSPWPACWB= YMHIHSNADE.add.audio('PDSPWPACWB');
	
	////console.log(YMHIHSNADE.sound.usingAudioTag);
	/*////console.log("No audio "+YMHIHSNADE.sound.noAudio);
	VKEJRPCHKN.play();
	////console.log("Audio Tag: "+VKEJRPCHKN.usingAudioTag);
	////console.log("WebAudio Tag: "+VKEJRPCHKN.usingWebAudio);
	////console.log("Sonando: "+VKEJRPCHKN.isPlaying);*/

	//SUMEMLHUFX(false); //1.0.6
	
	NHLRWTHYVG=false;
	VKYLOUGFGR=false;
	//LogicalNoticia=false;
	//SndBatalla = YMHIHSNADE.add.audio('SndBatalla');
	//SndBatalla.play();
	//if (window.innerHeight/window.innerWidth<0.55)
	//{
		 WAAJJVPHTG=1300;
		 KKMUHEKLOC=622;
		////console.log("PC");
		//var alto=300;
	//}
	//else
	//{
		//var ancho=window.innerWidth;
		//var alto=window.innerHeight;
		
	//	 WAAJJVPHTG=1200;
	//	 KKMUHEKLOC=750;
	//	////console.log("IPAD");
	//}
	
	//XIQDONAJMM=this.game.add.tileSprite(0, 0, YMHIHSNADE.world.width, YMHIHSNADE.world.height, 'FondoPrincipal');
	
	//if (XIQDONAJMM==undefined) //2.0.1 clave:rehuse
	//{
		//console.log("back tapete "+KVBNWXDTON);
		if (KVBNWXDTON==undefined)
		{
			//KVBNWXDTON.destroy();
			//XIQDONAJMM.destroy();
		
			if (JHJEWHFWNL==false)
			{
				
				//2.0.1 01/02/2018 KVBNWXDTON=YMHIHSNADE.game.add.tileSprite(0, 0, YMHIHSNADE.world.width, YMHIHSNADE.world.height, 'IRQGAFESIC'); //IRQGAFESIC tileSprite
				KVBNWXDTON=YMHIHSNADE.game.add.image(0, 0,  'IRQGAFESIC'); //IRQGAFESIC tileSprite
				XIQDONAJMM=YMHIHSNADE.add.image(0, 0, 'general','fondo_principal'); //fondo_principal
				
				
			}
			else
			{
				//2.0.1 01/02/2018 KVBNWXDTON=YMHIHSNADE.game.add.tileSprite(0, 0, YMHIHSNADE.world.width, YMHIHSNADE.world.height, 'Tapete_43');
				KVBNWXDTON=YMHIHSNADE.game.add.image(0, 0, 'Tapete_43');
				XIQDONAJMM=YMHIHSNADE.add.image(0, 0, 'general','fondo_principal_43');
			}
		}

		
		XIQDONAJMM.revive();		
		KVBNWXDTON.kill();
	//}	
	
	COIVBWRMCC=BRQFVLOBSF.width;
	MKSLYEWQQS=BRQFVLOBSF.height;
	SXSHBRJFIR=BRQFVLOBSF.width*QDTCADQEEX;
	PPLOSJIWHO=BRQFVLOBSF.height*QDTCADQEEX;
	PXEBTYBHGS=((YMHIHSNADE.world.height-MKSLYEWQQS-PPLOSJIWHO+COIVBWRMCC)/2)+(COIVBWRMCC)-25;
	SUMEMLHUFX("D");
	
	
	
	DibujaTurnos();
	JHGWGJHVVN();

		var x=(( YMHIHSNADE.world.width-AQONVWHHFT-((SXSHBRJFIR*6)) - (YAJVUBPNNW*5)  +  SXSHBRJFIR  )    /2)+      (2 *(SXSHBRJFIR+
	YAJVUBPNNW))+COIVBWRMCC;
	
	//console.log("B7 "+YGTNAODFHW);
	
	if (YGTNAODFHW==undefined)
	{
		//YGTNAODFHW.destroy();
	
		YGTNAODFHW=YMHIHSNADE.add.button(x , YMHIHSNADE.world.height-45, 'general', function(){ QPGADJGDVQ(TFSXFTYVGQ) }, this, 'cambiar 7 gris','cambiar 7 gris','cambiar 7 gris','cambiar 7 gris');
		YGTNAODFHW.anchor.setTo(0.5,0.5);
		YGTNAODFHW.width=YGTNAODFHW.width*1.2;
		YGTNAODFHW.height=YGTNAODFHW.height*1.2;
	}
	YGTNAODFHW.kill();	

	
	//YGTNAODFHW.frameName='cambiar 7';
	NMABWIWAAA();
	
	//console.log("F1");
	QETACVSHAR=(( YMHIHSNADE.world.width-AQONVWHHFT-((SXSHBRJFIR*6)) - (YAJVUBPNNW*5)  +  SXSHBRJFIR  )    /2)+      (2 *(SXSHBRJFIR+
	YAJVUBPNNW))+COIVBWRMCC+250;
	
	if (JHJEWHFWNL==true)
	{
		QETACVSHAR=QETACVSHAR+40;
	}
	
	/*	QETACVSHAR=(( YMHIHSNADE.world.width-AQONVWHHFT-((SXSHBRJFIR*6)) - (YAJVUBPNNW*5)  +  SXSHBRJFIR  )    /2)+      (19 *(SXSHBRJFIR+
	YAJVUBPNNW))+COIVBWRMCC;
	*/

	//CUUKQAGFEB= YMHIHSNADE.add.button(QETACVSHAR ,  YMHIHSNADE.world.height-45, 'salir', Salir , this, 2, 1, 0);
	if (CUUKQAGFEB==undefined)
	{
		//CUUKQAGFEB.destroy();
	
	
		CUUKQAGFEB= YMHIHSNADE.add.button(QETACVSHAR ,  YMHIHSNADE.world.height-45, 'general', Salir , this, 'salir','salir','salir');
		CUUKQAGFEB.anchor.setTo(0.5,0.5);
		CUUKQAGFEB.width=CUUKQAGFEB.width*1.2;
		CUUKQAGFEB.height=CUUKQAGFEB.height*1.2;
	}	
	
	CUUKQAGFEB.revive();	

	
	PPWJOWHOIW();
//console.log("F2");
					
	//PUBDSNTIUS = YMHIHSNADE.time.create(false);	
	
	
	//YJNIRPCWEI = YMHIHSNADE.add.text(0, 0, ""); 1.0.9

	
	
	
	
	
		
		
	
	//PQUFIBKJJH=YMHIHSNADE.add.tween(YJNIRPCWEI).to( { alpha: 1 }, 1, KYFMRVNHIQ, true);
	//LJRRHVSVKD=YMHIHSNADE.add.tween(YJNIRPCWEI).to( { alpha: 1 }, 1, KYFMRVNHIQ, true);
	//LCYAHFBDTT=YMHIHSNADE.add.tween(YJNIRPCWEI).to( { alpha: 1 }, 1, KYFMRVNHIQ, true);
	//NEPGDYQDEI=YMHIHSNADE.add.tween(YJNIRPCWEI).to( { alpha: 1 }, 1, KYFMRVNHIQ, true);
	
	/*for (var i=1;i<=40;i++)
	{
		
		var XCKJMDNBYC;
					
					if (i<=10)
					{
						XCKJMDNBYC=(i-0)+"_oros";
					}
					else
					{
						if (i<=20)
						{
							XCKJMDNBYC=(i-10)+"_copas";
						}
						else
						{
							if (i<=30)
							{
								XCKJMDNBYC=(i-20)+"_espadas";
							}
							else
							{
								XCKJMDNBYC=(i-30)+"_bastos";
							}
						}
						
					}
					
		YMHIHSNADE.add.image(0, YMHIHSNADE.world.centerY/2, 'baraja_pro',XCKJMDNBYC);
		
	}*/
	// console.log("F3");
	/*if (BRQFVLOBSF==undefined)
	{
		//BRQFVLOBSF.destroy();
	
	
		BRQFVLOBSF=YMHIHSNADE.add.image(-200,-200,'baraja_pro','1_oros');
	}*/

	
	//console.log("F4");
		var HOGPTRLBYH='20 espadas'; //1.0.8 Creo que es el error de algunos dispositivos
		
		var BocadilloTemp=YMHIHSNADE.add.image(-300,-300, 'general',HOGPTRLBYH);
		JCBAJIQEFK=BocadilloTemp.height;
		BNBMCQOWKS=BocadilloTemp.width;		
		//BocadilloTemp.destroy(); //2.0.1 clave:rehuse
	//console.log("F5");
	if (BMANCBQGIU==undefined)
	{
		//BMANCBQGIU.destroy();
		BMANCBQGIU=YMHIHSNADE.add.image(YMHIHSNADE.world.width+500,YMHIHSNADE.world.centerY, 'general','copa'); //2.0.1 clave:rehuse
		BMANCBQGIU.anchor.setTo(0.5,0.5);
	}
	
	
	
	
	//console.log("viva "+BMANCBQGIU.alive);
	BMANCBQGIU.kill();
	//console.log("viva2 "+BMANCBQGIU.alive);			
	//BMANCBQGIU.revive();
	//console.log("viva3 "+BMANCBQGIU.alive);			

	//var Ori=FBSDMRLVEL[FBSDMRLVEL.length-1].TNFAGGMKXD;

	//console.log("F6");
	/*if (POUWEIOUWQ==undefined)
	{
		//POUWEIOUWQ.destroy();
		POUWEIOUWQ= YMHIHSNADE.add.image(100, 100, NXNXBWBBWL, 1);
		POUWEIOUWQ.events.onInputDown.add( function(){ SVHMCOYULR("¡Triunfo "+TGTQPBEQFR+ "!" )});	
		POUWEIOUWQ.inputEnabled = true;
		POUWEIOUWQ.alpha=0;
		POUWEIOUWQ.scale.setTo(0.4,0.4);
		POUWEIOUWQ.anchor.setTo(0.5,0.5);	
	}	*/
	
	//console.log("F7");
	
	
	if (MUIUIFIUWE==undefined)
	{
		MUIUIFIUWE=YMHIHSNADE.add.image(0,0, 'general', 'bocadillo_l'); //2.0.7 bocadillo_l
	}
	
	if (HCNKWJHWXA==undefined)
	{
		HCNKWJHWXA=YMHIHSNADE.add.image(0,0, 'general', 'bocadillo_l');
	}
	
	if (HKJSHOWHOW==undefined)
	{
		HKJSHOWHOW=YMHIHSNADE.add.image(0,0, 'general', 'bocadillo_r');
	}
	
	if (GHJGKGEIIE==undefined)
	{
		GHJGKGEIIE=YMHIHSNADE.add.image(0,0, 'general', 'bocadillo_u');
	}
	
	if (MNVOJWOOWV==undefined)
	{
		//console.log("crea el chat")
		MNVOJWOOWV=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteNegra', 'BitmapText', 24);
		MNVOJWOOWV.anchor.set(0,0);
	}
	
	if (IUYCIUWOQB==undefined)
	{
		IUYCIUWOQB=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteNegra', 'BitmapText', 24);
		IUYCIUWOQB.anchor.set(0,0);
	}
	
	if (POWUIOFVDW==undefined)
	{
		POWUIOFVDW=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteNegra', 'BitmapText', 24);
		POWUIOFVDW.anchor.set(0,0);		
	}
	
	if (KSDBOMSIWW==undefined)
	{
		KSDBOMSIWW=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteNegra', 'BitmapText', 24);
		KSDBOMSIWW.anchor.set(0,0);	
	}
	
	MUIUIFIUWE.kill();
	HCNKWJHWXA.kill();
	HKJSHOWHOW.kill();
	GHJGKGEIIE.kill();
	MNVOJWOOWV.kill();
	IUYCIUWOQB.kill();
	POWUIOFVDW.kill();
	KSDBOMSIWW.kill();


	if (HDKVJSOWVP==undefined)
	{	
		HDKVJSOWVP=YMHIHSNADE.add.image(0,0, 'general', '20 bastos');
		HDKVJSOWVP.anchor.setTo(0.5, 0.5);
	}
	
	if (JBJKACHKHQ==undefined)
	{	
		JBJKACHKHQ=YMHIHSNADE.add.image(0,0, 'general', '20 bastos');
		JBJKACHKHQ.anchor.setTo(0.5, 0.5);
	}	
	
	if (NMBAIUWICW==undefined)
	{	
		NMBAIUWICW=YMHIHSNADE.add.image(0,0, 'general', '20 bastos');
		NMBAIUWICW.anchor.setTo(0.5, 0.5);
	}
	
	if (IUTWGTYUEW==undefined)
	{	
		IUTWGTYUEW=YMHIHSNADE.add.image(0,0, 'general', '20 bastos');
		IUTWGTYUEW.anchor.setTo(0.5, 0.5);
	}		
	
	if (YQRYRYCCPE==undefined)
	{	
		YQRYRYCCPE=YMHIHSNADE.add.image(0,0, 'general', '20 bastos');
		YQRYRYCCPE.anchor.setTo(0.5, 0.5);
	}
	
	if (NVBNVWUOWY==undefined)
	{	
		NVBNVWUOWY=YMHIHSNADE.add.image(0,0, 'general', '20 bastos');
		NVBNVWUOWY.anchor.setTo(0.5, 0.5);
	}			

	if (HJGAYUQIUQ==undefined)
	{	
		HJGAYUQIUQ=YMHIHSNADE.add.image(0,0, 'general', '20 bastos');
		HJGAYUQIUQ.anchor.setTo(0.5, 0.5);
	}
	
	if (NVFWIWOWQQ==undefined)
	{	
		NVFWIWOWQQ=YMHIHSNADE.add.image(0,0, 'general', '20 bastos');
		NVFWIWOWQQ.anchor.setTo(0.5, 0.5);
	}

	HDKVJSOWVP.kill();
	JBJKACHKHQ.kill();
	NMBAIUWICW.kill();
	IUTWGTYUEW.kill();	
	YQRYRYCCPE.kill();
	NVBNVWUOWY.kill();	
	HJGAYUQIUQ.kill();
	NVFWIWOWQQ.kill();
	
	/*if (TextoGeneral!=undefined)
	{
		TextoGeneral.destroy();
	}		
	TextoGeneral=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteAmarilla', 'BitmapText', 5);
	TextoGeneral.text="";
	TextoGeneral.anchor.set(0.5,0.5);
	TextoGeneral.x=YMHIHSNADE.world.centerX;
	TextoGeneral.y=YMHIHSNADE.world.centerY-25*/
	//console.log("F8");
	
	//var IQVAAXFOXW = { font: "bold 18px Arial", fill: "#fff", boundsAlignH: "center", boundsAlignV: "middle" , wordWrap: true, wordWrapWidth: 160};	

	if (XQDPVWOUII==undefined)
	{
		//XQDPVWOUII.destroy();
		XQDPVWOUII=YMHIHSNADE.add.bitmapText(950, YMHIHSNADE.world.height-(PPLOSJIWHO*2), 'MiFuenteAmarilla', 'BitmapText', 25);
		XQDPVWOUII.anchor.set(0.5,0.5)
	}
	//console.log("F9");
	
	XQDPVWOUII.text="Ntros:\nEllos:"
	XQDPVWOUII.kill();

	//console.log("F10");
	
	/*var styleMarcador = { font: "bold 30px Arial", fill: "#fff", boundsAlignH: "left", boundsAlignV: "middle" , wordWrap: true, wordWrapWidth: 160};	
	ATTUXTNNKX=YMHIHSNADE.add.text(0, 0, "", styleMarcador);
	ATTUXTNNKX.kill();
	ATTUXTNNKX.stroke = '#961918';
    ATTUXTNNKX.strokeThickness = 4;
    ATTUXTNNKX.fill = '#F8E600';		
	ATTUXTNNKX.setTextBounds(990,YMHIHSNADE.world.height-(PPLOSJIWHO*2),300,100)*/

	if (ATTUXTNNKX==undefined)
	{
		//ATTUXTNNKX.destroy();
		ATTUXTNNKX=YMHIHSNADE.add.bitmapText(1060, YMHIHSNADE.world.height-(PPLOSJIWHO*2), 'MiFuenteAmarilla', 'BitmapText', 25);
		ATTUXTNNKX.anchor.set(0.5,0.5)
	}
	
	
	
	//ATTUXTNNKX.kill();
	ATTUXTNNKX.kill(); //2.0.1 rehuse
	//console.log("F11");
	
	
	if (TextGbits==undefined)
	{
		//JKLJKLRIRI.destroy();
		TextGbits=YMHIHSNADE.add.bitmapText(-100, 100, 'MiFuenteAmarilla', 'BitmapText', 30);
		TextGbits.anchor.set(0.5,0.5)
		TextGbits.kill();
	}
	
	if (TextGbitsIndicador==undefined)
	{
		//JKLJKLRIRI.destroy();
		TextGbitsIndicador=YMHIHSNADE.add.bitmapText(-100, 100, 'MiFuenteRoja', 'BitmapText', 30);
		//TextGbitsIndicador.font='MiFuenteAmarilla';
		TextGbitsIndicador.anchor.set(0.5,0.5)
		TextGbitsIndicador.kill();
	}
	
	if (JKLJKLRIRI==undefined)
	{
		//JKLJKLRIRI.destroy();
		JKLJKLRIRI=YMHIHSNADE.add.bitmapText(-100, 145, 'MiFuenteAmarilla', 'BitmapText', 24);
		JKLJKLRIRI.anchor.set(0.5,0.5)
	}
	
	
	
	if (YJNIRPCWEI==undefined)
	{
		//YJNIRPCWEI.destroy();
	
	
		YJNIRPCWEI=YMHIHSNADE.add.bitmapText(10, 100, 'MiFuenteAmarilla', 'BitmapText', 44);		
		YJNIRPCWEI.anchor.set(0.5,0.5)
		//VTEVNYKAUB.add(YJNIRPCWEI);
	}	

	YJNIRPCWEI.text="";

	YJNIRPCWEI.kill();
	
//console.log("F12");

	var x=(( YMHIHSNADE.world.width-AQONVWHHFT-((SXSHBRJFIR*6)) - (YAJVUBPNNW*5)  +  SXSHBRJFIR  )    /2)+      (0 *(SXSHBRJFIR+
	YAJVUBPNNW))+COIVBWRMCC;

	if (IEQDMBJCAY==undefined)
	{
		//IEQDMBJCAY.destroy();
		IEQDMBJCAY= YMHIHSNADE.add.button(x, YMHIHSNADE.world.height-45, 'general', function(){ VSBOFQVPVQ(TFSXFTYVGQ); }, this,'cantar gris','cantar gris','cantar gris');
		IEQDMBJCAY.anchor.setTo(0.5,0.5);
		IEQDMBJCAY.width=IEQDMBJCAY.width*1.2;
		IEQDMBJCAY.height=IEQDMBJCAY.height*1.2;
	}
	
	
	IEQDMBJCAY.kill();

//console.log("F13");
	PAHJCWBNJH();

	if (BNMBJQQQQW==undefined)
	{
		//BNMBJQQQQW.destroy();
		BNMBJQQQQW= YMHIHSNADE.add.button(50+YAJVUBPNNW, 130, 'general', function(){ SonidoOff(true) } , this, 'sound_on','sound_on','sound_on');
		BNMBJQQQQW.anchor.setTo(0.5,0.5)
	}
	
	//console.log("F14");
	
	BNMBJQQQQW.kill();
	
	if (MNSLSOPOOP==undefined)
	{
		//MNSLSOPOOP.destroy();
		MNSLSOPOOP= YMHIHSNADE.add.button(50+YAJVUBPNNW, 130, 'general', function(){ SonidoOn(true) }, this, 'sound_off','sound_off','sound_off');
		MNSLSOPOOP.anchor.setTo(0.5,0.5)
	}
		
	//console.log("F15");
	
	MNSLSOPOOP.revive();

	if (HRGDCMPPKU==undefined)
	{
		//HRGDCMPPKU.destroy();
		HRGDCMPPKU= YMHIHSNADE.add.button(150+YAJVUBPNNW, 50, 'general', function(){	startRecognition(); }, this, 'micro_off','micro_off','micro_off');	
		HRGDCMPPKU.anchor.setTo(0.5,0.5)
	}
	
	
		//HRGDCMPPKU.kill();	
		//PANPKTGSCV.revive(); 
		
	//console.log("F16");
	HRGDCMPPKU.kill();
	
	if (KAHCKJHQEO==undefined)
	{
		//KAHCKJHQEO.destroy();
		//KAHCKJHQEO= YMHIHSNADE.add.button(150+YAJVUBPNNW,130, 'general', function(){document.getElementById("bdenuncia").click();
		KAHCKJHQEO= YMHIHSNADE.add.button(250+YAJVUBPNNW,50, 'general', function(){document.getElementById("bdenuncia").click();
	
		},this,'policia','policia','policia');
		KAHCKJHQEO.anchor.setTo(0.5,0.5)
	}
	
	
		
	
	KAHCKJHQEO.kill();
	
	if (IFMJVFFEQN==undefined)
	{
		//IFMJVFFEQN.destroy();
		IFMJVFFEQN = YMHIHSNADE.add.button(50+YAJVUBPNNW, 50, 'general', function(){		document.getElementById("bchat").click();
	
		},this,'teclado','teclado','teclado');
		IFMJVFFEQN.anchor.setTo(0.5,0.5)
	
	}
	
	

	
	IFMJVFFEQN.kill();	
	
	if (PANPKTGSCV==undefined)
	{
		//PANPKTGSCV.destroy();
		PANPKTGSCV= YMHIHSNADE.add.button(150+YAJVUBPNNW, 50, 'general', function(){
		//HRGDCMPPKU.revive();	
		//PANPKTGSCV.kill();
		StopRecognition(); 
		}, this, 'micro_on','micro_on','micro_on');
		PANPKTGSCV.anchor.setTo(0.5,0.5)
	}

	
	
	PANPKTGSCV.kill();	
	
	
	
	
	
	
	if (BNCXHHJGVW==true)
	{
		BNMBJQQQQW.revive();
		MNSLSOPOOP.kill();
	}


    this.stage.backgroundColor = '#2d2d2d';

	//this.CAYLTXOAMJ=0;
	



	/*if (TDRCQKMLDY==undefined)
	{
		//TDRCQKMLDY.destroy();
		TDRCQKMLDY= YMHIHSNADE.add.button(900, 0, 'spr_cantar', function(){ 
		JTQKCQEDPC();
		}, this, 2, 1, 0);
	}	
	console.log("F20");
	TDRCQKMLDY.kill();*/

/*	
TDRCQKMLDY= YMHIHSNADE.add.button(900, 0, 'spr_cantar', function(){ 
						BHWUWOPQCB(DFBVDPETGO,1,40,"oros", EVAILWGGKX,(JVQXQGYDHH+CNCCBHQJKL),XPBCVAGCDQ[1-1].OBTBPOULAV,XPBCVAGCDQ[1-1].AURESXCGMK, XPBCVAGCDQ[1-1].WWKVHIMWYD) ;
});

TDRCQKMLDY= YMHIHSNADE.add.button(950, 0, 'spr_cantar', function(){ 
						BHWUWOPQCB(DFBVDPETGO,1,20,"copas", EVAILWGGKX,(JVQXQGYDHH+CNCCBHQJKL),XPBCVAGCDQ[1-1].OBTBPOULAV,XPBCVAGCDQ[1-1].AURESXCGMK, XPBCVAGCDQ[1-1].WWKVHIMWYD) ;

});

TDRCQKMLDY= YMHIHSNADE.add.button(1000, 0, 'spr_cantar', function(){ 
						BHWUWOPQCB(DFBVDPETGO,3,40,"espadas", EVAILWGGKX,(JVQXQGYDHH+CNCCBHQJKL),XPBCVAGCDQ[3-1].OBTBPOULAV,XPBCVAGCDQ[3-1].AURESXCGMK, XPBCVAGCDQ[3-1].WWKVHIMWYD) ;
});
*/
	
	//SIGUIENTE BLOQUE PRUEBAS
	/*if (ANCNWHEHOW==undefined)
	{
		//ANCNWHEHOW.destroy();
		ANCNWHEHOW= YMHIHSNADE.add.button(1100, 0, 'spr_cantar', function(){ 
		
			console.log("TAMAÑO "+HMVFLEYPXM.length+" Control "+ESKTEXAVHU+" partida "+MQUGCIUQII)

			//HMVFLEYPXM.sort(sort_by('EBAPPJFYSW', false));	
			if (HMVFLEYPXM.length>0)
			{	
				var	m="SOY "+TFSXFTYVGQ+" "+DVNRTQIWGL+" "+LUCRWXJMDR+"\n";
				for (var i=0;i<=HMVFLEYPXM.length-1;i++)
				{
					//console.log("Tareas: "+HMVFLEYPXM[i].UHTPGPRUJA+ " "+HMVFLEYPXM[i].AGTXFNIKQD+" "+HMVFLEYPXM[i].SJVCMXWVVI+" "+HMVFLEYPXM[i].RHOLNWBOXR+" "+HMVFLEYPXM[i].OYJAHGADFQ)
					m=m+HMVFLEYPXM[i].UHTPGPRUJA+ " "+HMVFLEYPXM[i].AGTXFNIKQD+" "+HMVFLEYPXM[i].SJVCMXWVVI+" "+HMVFLEYPXM[i].RHOLNWBOXR+" "+HMVFLEYPXM[i].OYJAHGADFQ+" "+HMVFLEYPXM[i].EBAPPJFYSW+"\n";
				}
				if (KYLIAIETHX==false)
				{
					MensajeError2(m);
				}
			}
			
			
			if (AGKVNAGGLB.length>0)
			{		
				for (var i=0;i<=AGKVNAGGLB.length-1;i++)
				{
					//console.log("AGKVNAGGLB: "+AGKVNAGGLB[i].TNFAGGMKXD.name)
				}
			}
			
			if (KNVKGHHTYC.length>0)
			{		
				for (var i=0;i<=KNVKGHHTYC.length-1;i++)
				{
					//console.log("KNVKGHHTYC: "+KNVKGHHTYC[i].TNFAGGMKXD.name)
				}
			}
			
			if (CBCNHFGWLU.length>0)
			{		
				for (var i=0;i<=CBCNHFGWLU.length.length-1;i++)
				{
					//console.log("MazoRlength: "+CBCNHFGWLU[i].TNFAGGMKXD.name)
				}
			}		
			
			
			if (TWJONOKGHC.length>0)
			{		
				for (var i=0;i<=TWJONOKGHC.length-1;i++)
				{
					//console.log("MazoRlength: "+TWJONOKGHC[i].TNFAGGMKXD.name)
				}
			}			
			
		}, this, 2, 1, 0);
	}		
	
	
	JFRRFIXASB= YMHIHSNADE.add.button(800, 0, 'spr_cantar', function(){ 
		OGGWQECXBK("Mierder",false,false);
	
	}
	);
	
		BotonBorrar2= YMHIHSNADE.add.button(300, 0, 'spr_cantar', function(){ 
		GIDSSFEUNT();
	
	}
	);
	
	//ANCNWHEHOW.kill();
	
	//addq();
	if (MCABGEIGWI==undefined)
	{
		//MCABGEIGWI.destroy();
			
	MCABGEIGWI= YMHIHSNADE.add.button(1100, 100, 'spr_cantar', function(){ 
		
		LVEMXLIFKA(null);
		
		
			
		}, this, 2, 1, 0);
	}
	MCABGEIGWI.kill();
	*/
	
	
	if (UEHYPTREIH==undefined)
	{
		//UEHYPTREIH.destroy();
		UEHYPTREIH= YMHIHSNADE.add.button(YMHIHSNADE.world.centerX - 120, YMHIHSNADE.world.height-170, 'general', OCSBJTDODP, this, 'jugar_solo','jugar_solo','jugar_solo');
		UEHYPTREIH.width=UEHYPTREIH.width;
		UEHYPTREIH.height=UEHYPTREIH.height;
		UEHYPTREIH.anchor.setTo(0.5,0.5)
		
		if (JHJEWHFWNL==true)
		{
			UEHYPTREIH.width=UEHYPTREIH.width*1.4;
			UEHYPTREIH.height=UEHYPTREIH.height*1.4;
			UEHYPTREIH.y=UEHYPTREIH.y-90;
			UEHYPTREIH.x=UEHYPTREIH.x-45;
		}
	}		
	
	UEHYPTREIH.kill();

	/*BotonTeclado= YMHIHSNADE.add.button(YMHIHSNADE.world.centerX - 300, YMHIHSNADE.world.height-170, 'general', function(){
		try
		{
			Keyboard.hide();
		}
		catch(e)
		{
			socket.emit('Consola teclado '+e)
		}
		
	}, this, 'jugar_solo','jugar_solo','jugar_solo');
		
	BotonTeclado.width=UEHYPTREIH.width;
	BotonTeclado.height=UEHYPTREIH.height;
	BotonTeclado.anchor.setTo(0.5,0.5)
	BotonTeclado.kill();
	
		BotonTeclado2= YMHIHSNADE.add.button(YMHIHSNADE.world.centerX + 500, YMHIHSNADE.world.height-170, 'general', function(){
		try
		{
			Keyboard.hideFormAccessoryBar(true);;
		}
		catch(e)
		{
			socket.emit('Consola teclado '+e)
		}
		
	}, this, 'jugar_solo','jugar_solo','jugar_solo');
		
	BotonTeclado2.width=UEHYPTREIH.width;
	BotonTeclado2.height=UEHYPTREIH.height;
	BotonTeclado2.anchor.setTo(0.5,0.5)
	BotonTeclado2.kill();*/
	

	if (RIHFCSEMIJ==undefined)
	{
		//RIHFCSEMIJ.destroy();
		RIHFCSEMIJ= YMHIHSNADE.add.button(YMHIHSNADE.world.width-100, YMHIHSNADE.world.height-30, 'general', function(){RSHJSKMBRP(5)}, this, 'contacta','contacta','contacta');
		RIHFCSEMIJ.anchor.setTo(0.5,0.5);
	
	}		
	RIHFCSEMIJ.kill();
	
	

	
	if (IBECDOLWLN==undefined)
	{
		//IBECDOLWLN.destroy();
		IBECDOLWLN= YMHIHSNADE.add.button(YMHIHSNADE.world.centerX + 120, YMHIHSNADE.world.height-170, 'general', JVEHDHOEEM, this, 'jugar_online','jugar_online','jugar_online');
		
		IBECDOLWLN.width=IBECDOLWLN.width;
		IBECDOLWLN.height=IBECDOLWLN.height;
		IBECDOLWLN.anchor.setTo(0.5,0.5);
		
		if (JHJEWHFWNL==true)
		{
			IBECDOLWLN.width=IBECDOLWLN.width*1.4;
			IBECDOLWLN.height=IBECDOLWLN.height*1.4;
			IBECDOLWLN.y=IBECDOLWLN.y-90;
			IBECDOLWLN.x=IBECDOLWLN.x+45;
		}
	}	
	
	IBECDOLWLN.kill();

	
	
	
	//1.0.8
	if (POEICHMHDL==undefined)
	{
		//POEICHMHDL.destroy();
		POEICHMHDL= YMHIHSNADE.add.button(YMHIHSNADE.world.centerX + 420, YMHIHSNADE.world.centerY-80, 'general', SolicitaClasificacion, this, 'boton_ranking','boton_ranking','boton_ranking');
				
		POEICHMHDL.width=POEICHMHDL.width;
		POEICHMHDL.height=POEICHMHDL.height;
		POEICHMHDL.anchor.setTo(0.5,0.5);
		
		if (JHJEWHFWNL==true)
		{
			POEICHMHDL.width=POEICHMHDL.width;
			POEICHMHDL.height=POEICHMHDL.height;
			POEICHMHDL.y=POEICHMHDL.y-110;
			POEICHMHDL.x=POEICHMHDL.x+70;
		}			
	
	}		
	
	POEICHMHDL.kill();

	
	
	//1.0.8
	
	if (EFKTQSXAMA==undefined)
	{
		//EFKTQSXAMA.destroy();
		//console.log("Es raro");
		EFKTQSXAMA= YMHIHSNADE.add.button(YMHIHSNADE.world.centerX -120 , YMHIHSNADE.world.height-170-1000, 'general', LLKJWWDFFF, this, 'jugar_mundo','jugar_mundo','jugar_mundo');
		
		EFKTQSXAMA.width=EFKTQSXAMA.width;
		EFKTQSXAMA.height=EFKTQSXAMA.height;
		EFKTQSXAMA.anchor.setTo(0.5,0.5)
		
		if (JHJEWHFWNL==true)
		{
			EFKTQSXAMA.width=EFKTQSXAMA.width*1.4;
			EFKTQSXAMA.height=EFKTQSXAMA.height*1.4;
			EFKTQSXAMA.y=EFKTQSXAMA.y-90;
			EFKTQSXAMA.x=EFKTQSXAMA.x-45;
		}		
	}	
	
	EFKTQSXAMA.kill();

	

	
	if (LNJDKEVPQE==undefined)
	{
		//LNJDKEVPQE.destroy();
		LNJDKEVPQE= YMHIHSNADE.add.button(YMHIHSNADE.world.centerX +120+1000 , YMHIHSNADE.world.height-170, 'general', YIQDWVLKWG, this, 'jugar_con_amigos','jugar_con_amigos','jugar_con_amigos');
		
		LNJDKEVPQE.width=LNJDKEVPQE.width;
		LNJDKEVPQE.height=LNJDKEVPQE.height;
		LNJDKEVPQE.anchor.setTo(0.5,0.5)		
		
		if (JHJEWHFWNL==true)
		{
			LNJDKEVPQE.width=LNJDKEVPQE.width*1.4;
			LNJDKEVPQE.height=LNJDKEVPQE.height*1.4;
			LNJDKEVPQE.y=LNJDKEVPQE.y-90;
			LNJDKEVPQE.x=LNJDKEVPQE.x+45;
		}		
	}	
	
	LNJDKEVPQE.kill();

	
	
	
		
	
	
	if (HJKHDKJHWU==undefined)
	{
		//HJKHDKJHWU.destroy();
		HJKHDKJHWU= YMHIHSNADE.add.button(YMHIHSNADE.world.centerX+35  , YMHIHSNADE.world.centerY+150, 'general', YPCWDEBGAS, this, 'completar_robots','completar_robots','completar_robots');
		
		HJKHDKJHWU.width=HJKHDKJHWU.width;
		HJKHDKJHWU.height=HJKHDKJHWU.height;
		HJKHDKJHWU.anchor.setTo(0.5,0.5)		
	}	

	HJKHDKJHWU.kill();

	
	//1.0.8 Error de los 20
	/*bmd = YMHIHSNADE.add.bitmapData(YMHIHSNADE.world.width,YMHIHSNADE.world.height);
	bmd.ctx.beginPath();
	bmd.ctx.rect(0,0,YMHIHSNADE.world.width,YMHIHSNADE.world.height);
	bmd.ctx.fillStyle = '#000000';
	bmd.ctx.fill();*/
	//1.0.8
	
	if (WTCIGMLJUY==undefined)
	{
		//WTCIGMLJUY.destroy();
		
	
		if (JHJEWHFWNL==true)
		{
			WTCIGMLJUY = YMHIHSNADE.add.image(0, 0, 'general','negro_43');
		}
		else
		{
			WTCIGMLJUY = YMHIHSNADE.add.image(0, 0, 'general','negro');
			
		}
		
		WTCIGMLJUY.anchor.setTo(0.5, 0.5)
		//console.log(YMHIHSNADE.world.width);
		WTCIGMLJUY.scale.setTo(2, 2);
		
		//WTCIGMLJUY.width=YMHIHSNADE.world.width;
		//WTCIGMLJUY.height=YMHIHSNADE.world.height;
		
		
		WTCIGMLJUY.alpha=0;
	}

	WTCIGMLJUY.kill();
	
	MITSNADNQS();

	//IEQDMBJCAY.kill();
	
	////console.log("ANTES INTENTA CONEXION");
	
	if (BUJELVTIKU==undefined)
	{
		//BUJELVTIKU.destroy();
			
		BUJELVTIKU=YMHIHSNADE.add.button(x , YMHIHSNADE.world.height-45, 'general', DMLSYYQBXI , this, 'imagen_turno');
		BUJELVTIKU.anchor.setTo(0.5,0.5);
		BUJELVTIKU.x=230;
		BUJELVTIKU.y=-500;
	}
	BUJELVTIKU.kill();

	
	


	if (JDAHOQYHHV==undefined)
	{
		/*try //Fallaba al usar el botón salir. Es como si el emitter cuando acaba mata la variable
		{
			JDAHOQYHHV.destroy();
		}catch(e){}*/
		JDAHOQYHHV = YMHIHSNADE.add.emitter(YMHIHSNADE.world.centerX, -50, 100);
	}

	if (emitterMagia==undefined)
	{	
		emitterMagia = YMHIHSNADE.add.emitter(YMHIHSNADE.world.width-200, 45, 2);
	}
	

	//LLSSKSKSKQ();
	


	////console.log("Conectado "+socket.socket.connected);
	if (JKCANKPQBB<=2)
	{
		PWGIQBBAWX=true;
		//console.log("Debe intentarlo");
	}
	else
	{		
		PWGIQBBAWX=false;	
	}
	
	
	//if (PWGIQBBAWX==true)
	/*	try{
		socket.disconnect();
		}
		catch(e){}*/
		// || JKCANKPQBB<=4
	//console.log("Primera vez "+TUTWNSAGSX);
	if(SNJCSVWFCC()==false && TUTWNSAGSX==true)
	{
		
		try
		{
			
			////console.log("Conecta: Llamada level")	
			//console.log("Y lo intento");			
			//XEMENNVXGV();
			if (SNJCSVWFCC()==true)
			{
					//alert("ko");			
				//socket.emit('EOMOFODTKB', socket.id,SFKLFIJOIO) ;
				
				if (PWMIBRSDCJ.length>0)
				{
					var JugadorPubli=PWMIBRSDCJ[0].WWKVHIMWYD;
					var JugadorFullPubli=PWMIBRSDCJ[0].FFRVOEAXTF + '-'+ PWMIBRSDCJ[0].BDYYDTFQAO;
					socket.emit('EOMOFODTKB', socket.id,SFKLFIJOIO,ObjetoG) ;
				}
				else
				{
					socket.emit('EOMOFODTKB', socket.id,SFKLFIJOIO,ObjetoG) ;
				}
				
				
				
				//rave socket.emit('SNEESSIXBK', SFKLFIJOIO);

			}
		}
		catch (e){};
		////console.log("INTENTA CONEXION");
		
		if(ERQHLTPETK==false)
		{
			////console.log("Llamada level2")		
			CMREMHOJIN();
		}
	}
	else
	{
		if (SNJCSVWFCC()==true) //2.0.1
		{
			socket.emit('EOMOFODTKB', socket.id,SFKLFIJOIO,ObjetoG) ;
		}
	}
	
	TUTWNSAGSX=false;
	
	
	/*if (JKCANKPQBB<=2)
	{
		PWGIQBBAWX=true;
	
	}
	else
	{		
		PWGIQBBAWX=false;	
	}*/
	
	
	
	
	ERQHLTPETK=false;

	if (SNJCSVWFCC()==true)
	{
		if (SNJCSVWFCC()==true)
		{
			socket.emit('JKHWJKHIWF');
		}
	}	
	

	YJNIRPCWEI.x=YMHIHSNADE.world.centerX;
	YJNIRPCWEI.y=YMHIHSNADE.world.centerY+30
	
	/*
	if (JBXCGDTWYW==undefined)
	{
		//JBXCGDTWYW.destroy();
		JBXCGDTWYW=YMHIHSNADE.add.bitmapText(YMHIHSNADE.world.centerX, YMHIHSNADE.world.centerY-50, 'MiFuenteAmarilla', 'BitmapText', 50);
		JBXCGDTWYW.anchor.set(0.5,0.5);
	}
	
	JBXCGDTWYW.text='Esperando jugadores';
	
	//YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
	
	JBXCGDTWYW.kill();
	
	if (NSNUIQUYIU==undefined)
	{
		//NSNUIQUYIU.destroy();
		NSNUIQUYIU=YMHIHSNADE.add.bitmapText(YMHIHSNADE.world.centerX, YMHIHSNADE.world.centerY-50, 'MiFuenteAmarilla', 'BitmapText', 50);
		NSNUIQUYIU.anchor.set(0.5,0.5);		
	}

	NSNUIQUYIU.text='Un momento por favor...\n Esperando al resto de compañeros.'
	
	//VTEVNYKAUB.add(NSNUIQUYIU);
	//YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
	//NSNUIQUYIU.bringToTop();
	NSNUIQUYIU.kill();
	//log(true,"Se crea el mensaje");
	*/

	VTEVNYKAUB.add(JBXCGDTWYW);
	YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
	VTEVNYKAUB.add(NSNUIQUYIU);
	YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
    
	

	//JSJSHSHSSE = YMHIHSNADE.add.text(YMHIHSNADE.world.centerX, YMHIHSNADE.world.centerY-50, 'Eligiendo pareja');
	
	if (JSJSHSHSSE==undefined)
	{
		//JSJSHSHSSE.destroy();
		JSJSHSHSSE=YMHIHSNADE.add.bitmapText(YMHIHSNADE.world.centerX, YMHIHSNADE.world.centerY-50, 'MiFuenteAmarilla', 'BitmapText', 44);
		JSJSHSHSSE.anchor.set(0.5,0.5);
	}	

	JSJSHSHSSE.kill();

		IFMJVFFEQN.kill();
		
		KKAHAHAHWJ();

	
	
	if (UEHYPTREIH.alive==true && IBECDOLWLN.alive==true)
	{
		CUUKQAGFEB.x=QETACVSHAR;
		CUUKQAGFEB.kill();
	}
	
	if (bolsa_dinero==undefined)
	{
		bolsa_dinero=YMHIHSNADE.add.image(YMHIHSNADE.world.width-200 ,60, 'general', 'bolsa_dinero');
		bolsa_dinero.anchor.setTo(0.5, 0.5)
		bolsa_dinero.frameName='bolsa_dinero'
		bolsa_dinero.kill();
	}
	
	//XEMENNVXGV();
	
	MuestraGBits(false);
	
	//console.log("FIN");
	
};

EsNuevoDia=function()
{
	var NuevoDia=0;
	console.log("ENTRA A ESNUEVO DIA "+GbitsPendientesNuevoDiaSemaforo);
	if (GbitsPendientesNuevoDiaSemaforo==false)
	{
		console.log("ME HA VENIDO COMO NUEVO DIA "+PWMIBRSDCJ[0].NuevoDia)
		if (PWMIBRSDCJ[0].NuevoDia==true)
		{
			NuevoDia=2;
			GbitsPendientesNuevoDiaSemaforo=true; //es un semáforo
		}
	}
	
	return NuevoDia;
}

MuestraGBits=function()
{
	if (PWMIBRSDCJ.length>0)
	{

		
		if (GBitsLocalSemaforo==false) //Manejo las monedas en local hasta que salgo y entro
		{
			console.log("lo puntual mal");
			GBitsLocal=PWMIBRSDCJ[0].GbitsResultado+PWMIBRSDCJ[0].GbitsDiario+PWMIBRSDCJ[0].GbitsPlus;
			GBitsLocalSemaforo=true;
		}
		
		

		
		TextGbits.text="x "+GBitsLocal;
		TextGbits.x = YMHIHSNADE.world.width-160+(TextGbits.textWidth/2 );
		TextGbits.align = 'left';
		TextGbits.x=YMHIHSNADE.world.width-200;
		TextGbits.x = 1;
		TextGbits.y=60;
		TextGbits.revive();
		

		
		
		
		//GbitsPendientes=-2;
		if (GbitsPendientes!=0)
		{
			EfectoGbitsIndicador();
			console.log("lo puntual bien");
			if (GbitsPendientes>0)
			{
				EfectoSubirMarcador(GbitsPendientes);
			}
			else
			{
				EfectoBajarMarcador(GbitsPendientes);
			}
			
			//GBitsLocal=GBitsLocal+GbitsPendientes;
			//GbitsPendientes=0;

		}
		else
		{
			bolsa_dinero.revive();
			bolsa_dinero.frameName='bolsa_dinero';
			TextGbits.text="x "+GBitsLocal;
			TextGbits.x = YMHIHSNADE.world.width-160+(TextGbits.textWidth/2 );
			//TextGbits.text="x "+5;
		}
		
		
		
	}
}

EfectoGbitsIndicador=function()
{
	TextGbitsIndicador.x=YMHIHSNADE.world.width -300;
	if(GbitsPendientes>0)
	{
		TextGbitsIndicador.y=60;
		TextGbitsIndicador.font='MiFuenteAmarilla';
	}
	else
	{
		TextGbitsIndicador.y=70;
		TextGbitsIndicador.font='MiFuenteRoja';
	}
	TextGbitsIndicador.fontSize=70;
	
	TextGbitsIndicador.width=0;
	TextGbitsIndicador.height=0;
	TextGbitsIndicador.alpha=1;
	
	var twGbits1
		twGbits1 = YMHIHSNADE.add.tween(TextGbitsIndicador.scale);
		twGbits1.to( {x:1
		,y:1
		}
		, 300,KYFMRVNHIQ,false,0);
		
		twGbits1.onComplete.add(function()
		{
			twGbits2 = YMHIHSNADE.add.tween(TextGbitsIndicador);
			twGbits2.to({ alpha: 0 }, 1500, KYFMRVNHIQ, true,1000);	
			twGbits2.start();
		});
		
		
		twGbits1.start();
		
		
		
	var CadenaIndicador=""
	if (GbitsPendientes>0)
	{
		CadenaIndicador="+";
	}
	
	TextGbitsIndicador.text=CadenaIndicador+GbitsPendientes;
	TextGbitsIndicador.revive();
}
EfectoSubirMarcador=function(Cantidad)
{
	var timerBolsa;
	
	bolsa_dinero.revive();
	bolsa_dinero.frameName='bolsa_dinero';	
	
	TextGbits.text="x "+GBitsLocal;
	TextGbits.x = YMHIHSNADE.world.width-160+(TextGbits.textWidth/2 );
		
	timerBolsa=YMHIHSNADE.time.create(false);
	timerBolsa.add(500, function()
	{		
		Reproduce('SndMonedas');	

		GBitsLocal=GBitsLocal+GbitsPendientes;
		GbitsPendientes=0;		
		TextGbits.text="x "+GBitsLocal;
		TextGbits.x = YMHIHSNADE.world.width-160+(TextGbits.textWidth/2 );
		
		emitterMagia.maxParticles=10;
		emitterMagia.makeParticles('general','magia');
		emitterMagia.y=45;
		emitterMagia.setRotation(0, 0);
		emitterMagia.setAlpha(0.3, 0.8);
		emitterMagia.setScale(0.5, 1);
		emitterMagia.gravity = 200;

		emitterMagia.minParticleSpeed.setTo(-300, 30);
		emitterMagia.maxParticleSpeed.setTo(300, 100);
			
		emitterMagia.flow(0, 1000, emitterMagia.maxParticles, 10);
	});
	timerBolsa.start();	
}

EfectoBajarMarcador=function(Cantidad)
{
	var timerBolsaRota;
	var timerBolsa;
	
	var monedasrestar=GbitsPendientes*(-1);
	
		
	bolsa_dinero.revive();
	bolsa_dinero.frameName='bolsa_dinero';	
	TextGbits.text="x "+GBitsLocal;
	TextGbits.x = YMHIHSNADE.world.width-160+(TextGbits.textWidth/2 );
	

	
	
	timerBolsaRota=YMHIHSNADE.time.create(false);
	timerBolsaRota.add(500, function()
	{		
		Reproduce('SndCremallera');
		bolsa_dinero.frameName='bolsa_dinero_rota';	
		GBitsLocal=GBitsLocal+GbitsPendientes;
		GbitsPendientes=0;
		TextGbits.text="x "+GBitsLocal;
		TextGbits.x = YMHIHSNADE.world.width-160+(TextGbits.textWidth/2 );
		
		emitterMagia.maxParticles=monedasrestar;
		emitterMagia.makeParticles('general','moneda');

		/*emitterMagia.setRotation(0, 0);
		emitterMagia.setAlpha(0.3, 0.8);
		emitterMagia.setScale(0.5, 1);*/
		emitterMagia.setRotation(1, 1);
		emitterMagia.setAlpha(1, 1);
		emitterMagia.setScale(1, 1)
		emitterMagia.gravity = 200;
		emitterMagia.y=75;
		emitterMagia.minParticleSpeed.setTo(-300, 30);
		emitterMagia.maxParticleSpeed.setTo(300, 100);
			
		emitterMagia.flow(0, 1000, (monedasrestar/2),monedasrestar);	
	
		timerBolsa=YMHIHSNADE.time.create(false);
		timerBolsa.add(1500, function()
		{
			bolsa_dinero.frameName='bolsa_dinero';	
		}
		);
		timerBolsa.start();	
	
	
	}
	);
	timerBolsaRota.start();	

 
	

}

LLSSKSKSKQ=function()
{
	var i;
	
	if (YMHIHSNADE.cache.checkImageKey('publi')==true)
	{
		//console.log("hay cache");
		var Items=YMHIHSNADE.cache.getFrameCount('publi');
		var ArrayItems=[]
		for (i=1;i<=Items;i++)
		{
			ArrayItems.push(i);
		}
		//console.log("hay cache2 "+i);
		JDAHOQYHHV.makeParticles('publi',ArrayItems);
		JDAHOQYHHV.minParticleSpeed.setTo(-300, 30);
		JDAHOQYHHV.maxParticleSpeed.setTo(300, 100);
	  //  emitter.minParticleScale = 0.1;
	   // emitter.maxParticleScale = 0.5;
		JDAHOQYHHV.gravity = 250;
		//emitter.flow(2000, 500, 15, -1);   
	   JDAHOQYHHV.flow(3000, 1000, 10, 40);
		//YMHIHSNADE.time.events.add(2000, destroyEmitter, this);
	}
	else
	{
		console.log("no hay cache");
	}

    

}

/*function destroyEmitter() {

    emitter.kill();
	emitter.revive();
	//emitter.destroy

}*/

QMLHULBGCA=function()
{
	HRGDCMPPKU.kill();	
	PANPKTGSCV.revive();
	SonidoOff(false);
}

ACJHOIXLOV=function()
{
	HRGDCMPPKU.revive();	
	PANPKTGSCV.kill();
	SonidoOn(false);
}


PermisoMicro=function()
{
	var permiso;
		permiso=window.plugins.speechRecognition.requestPermission(
		function(){
			FHKOYDXPCL();
			MHELAUXKXR();
			XEMENNVXGV();
			JVEHDHOEEM();
		}
		)
	
	/*if (permiso==true)
	{
		socket.emit('Consola',"Hay permiso");
	}
	else
	{
		socket.emit('Consola',"No Hay permiso");
	}*/
}	
		
		
function startRecognition(){
	
	NKJUWTDEWM="";
	
	
	
	if (window.plugins)
	{
		
		
		//PermisoMicro();
		
		
		//HRGDCMPPKU.kill();	
		//PANPKTGSCV.revive();
		QMLHULBGCA();
		
		/*try
		{
		//socket.emit('Consola',"Habla");
			var SpeechRecognition = window.plugins.speechRecognition;
		    AWUXXYKLPX = new SpeechRecognition();
			AWUXXYKLPX.onresult = function(event) {
				if (event.results.length > 0) {
					BYBYBFHBOX(TFSXFTYVGQ,event.results[0][0].transcript ,false); 
					//q.form.submit();
				}
			}
		}
		catch(e)
		{
			socket.emit('Consola',"Error 1 "+e);
			SVHMCOYULR("Opción no "+e);
			//HRGDCMPPKU.revive();	
			//PANPKTGSCV.kill();
			ACJHOIXLOV();			
		}*/
		
		//SISTEMA VIEJO
		try
		{
		//socket.emit('Consola',"Habla");
		window.plugins.speechRecognition.startListening(function(result){
			// Show results in the console


					BYBYBFHBOX(TFSXFTYVGQ,result[0] ,false);
			
					ACJHOIXLOV();

				//}
				
			}, function(err){
				//socket.emit('Consola',"Error 2 "+err);
				//SVHMCOYULR("Tienes que dar permisos.\nDesinstala e instala la app.\n"+"Te los volveremos a solicitar.")
				//console.error(err);
					//HRGDCMPPKU.revive();	
					//PANPKTGSCV.kill();
					ACJHOIXLOV();
				//socket.emit('Consola',"Error "+err);
				
			}, {
				language: "es-ES",
				showPopup: false
			});
		}
		catch(e)
		{
			socket.emit('Consola',"Error 1 "+e);
			SVHMCOYULR("Opción no disponible en tu dispositivo");
			//HRGDCMPPKU.revive();	
			//PANPKTGSCV.kill();
			ACJHOIXLOV();			
		}
	}
	else
	{
		
		try
		{
		//	alert("s");
				//HRGDCMPPKU.kill();	
				//PANPKTGSCV.revive();
				QMLHULBGCA();
					
			var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition
			AWUXXYKLPX = new SpeechRecognition();

			AWUXXYKLPX.lang = "es-ES";
			AWUXXYKLPX.continuous = false;
			AWUXXYKLPX.interimResults = true;

			AWUXXYKLPX.onresult = function(event) {
				NKJUWTDEWM="";
			  for (var i = event.resultIndex; i < event.results.length; i++) {
				if(event.results[i].isFinal){
				  //document.getElementById("text").innerHTML += event.results[i][0].transcript;
				  NKJUWTDEWM += event.results[i][0].transcript;
					//HRGDCMPPKU.revive();	
					//PANPKTGSCV.kill();
				}
				}
				////console.log("FIN "+NKJUWTDEWM);
			}
			AWUXXYKLPX.onstart = function(event) { 
				////console.log("empezando");
				////console.log(event); 
			}
			AWUXXYKLPX.onerror = function(event) { 
				SVHMCOYULR("Tienes que dar permisos al micrófono");
				//HRGDCMPPKU.revive();	
				//PANPKTGSCV.kill();
				ACJHOIXLOV();
				////console.log(event);
			}
			AWUXXYKLPX.onend = function(event) {
				
				if (NKJUWTDEWM!="")
				{
					BYBYBFHBOX(TFSXFTYVGQ,NKJUWTDEWM ,false);
				}
				
				//HRGDCMPPKU.revive();	
				//PANPKTGSCV.kill();
				ACJHOIXLOV();
					
				////console.log("FIN2 "+NKJUWTDEWM);
				////console.log(event); 
			}
		}
		catch(e)
		{
			//	alert("n");
			SVHMCOYULR("Opción no disponible en tu dispositivo");
			//HRGDCMPPKU.revive();	
			//PANPKTGSCV.kill();	
			ACJHOIXLOV();
			// Handle results			
		}	
		
		
		//console.log("Se mete a hablar");
		try
		{
			AWUXXYKLPX.start()
		}
		catch(e)
		{
			SVHMCOYULR("Opción no disponible en tu dispositivo");
			//HRGDCMPPKU.revive();	
			//PANPKTGSCV.kill();
			ACJHOIXLOV();
		}

	}
	
}

function StopRecognition()
{
	if (window.plugins)
	{
		//HRGDCMPPKU.revive();	
		//PANPKTGSCV.kill();	
		ACJHOIXLOV();
	
		try
		{

			
			window.plugins.speechRecognition.stopListening(function(result){
				//socket.emit('Consola',"¡Parado! "+err);
			}
			, function(err){
				console.error(err);
				//HRGDCMPPKU.revive();	
				//PANPKTGSCV.kill();		
				ACJHOIXLOV();
				//socket.emit('Consola',"Error parando 1 "+err);
			});
		}
		catch(e)
		{
			//HRGDCMPPKU.revive();	
			//PANPKTGSCV.kill();
			ACJHOIXLOV();
			//socket.emit('Consola',"Error parando 2 "+e);
			
		}
	}
	else
	{
		try{
			AWUXXYKLPX.stop();	
		}
		catch(e)
		{}
		
	}
}
		
SolicitaClasificacion=function()
{
	var OBTBPOULAV;
	
	if (checkConnection()==true)
	{
		if (PWMIBRSDCJ.length>0)
		{
			//console.log("EO "+PWMIBRSDCJ[0].OBTBPOULAV)
			//console.log("EO "+PWMIBRSDCJ[0]);
			OBTBPOULAV=PWMIBRSDCJ[0].OBTBPOULAV;
		}
		else
		{
			OBTBPOULAV=null;
		}
		
		
		if (SNJCSVWFCC()==true)
		{
			
			socket.emit('WHGHJCGWWQ',socket.id,OBTBPOULAV);	
		}
		else
		{
			XEMENNVXGV();
			socket.emit('WHGHJCGWWQ',socket.id,OBTBPOULAV);	
		}
	}
}

YPCWDEBGAS=function()
{
	console.log("le doy");
	if (EGPDVIEJEL==true)
	{
		if(SNJCSVWFCC()==true)
		{
			console.log("llega a rellenar "+DFBVDPETGO+" "+XPBCVAGCDQ[TFSXFTYVGQ-1].OBTBPOULAV);
			socket.emit('NZBSUWWZXX',DFBVDPETGO,XPBCVAGCDQ[TFSXFTYVGQ-1].OBTBPOULAV)
		}
	}
}

SonidoOff=function(DesdeClick)
{
	//if (DesdeClick==true)
	//{
		LQBKIBHROQ=BNCXHHJGVW;
	//}
	BNCXHHJGVW=false;	
	BNMBJQQQQW.kill();
	MNSLSOPOOP.revive();
}

SonidoOn=function(DesdeClick)
{
	if (DesdeClick==false && LQBKIBHROQ==false)
	{
		//No hagas nada
	}
	else
	{
		BNCXHHJGVW=true;
		BNMBJQQQQW.revive();
		MNSLSOPOOP.kill();
	}
}

DMLSYYQBXI=function()
{
	BUJELVTIKU.kill();
}

YIQDWVLKWG=function()
{
	
	/*if ( lPermisoHabilitado==false )
	{
		return false;
	}*/
	
	if (checkConnection()==true)
	{	
		NFARLTEOCI();
		if (EGPDVIEJEL==true)
		{
			socket.emit('ETJNHPEGJR') ;
		}
	}
}


PermisoParaTomarControl=function(UHTPGPRUJA)
{
	return (EGPDVIEJEL==true &&  TFSXFTYVGQ==ESKTEXAVHU && UEWYIUWIVW(UHTPGPRUJA)==false    )   
	
}

WTERKRAPBE=function(ABWBCAJRXQ,KXAWTTIEGG,SPWYNLHQXU,PAXBGDCANU,VRCARVJJPF,VGVSETFAFF,As,WJIXAEXYTP)
{
	
	//ABWBCAJRXQ=TFSXFTYVGQ;

	if (ABWBCAJRXQ==TFSXFTYVGQ || PermisoParaTomarControl(ABWBCAJRXQ)  )    
	{
		var XJARYUVBCB=XPBCVAGCDQ[ABWBCAJRXQ-1].XJARYUVBCB;
		var FUAQHEGBCV=XPBCVAGCDQ[ABWBCAJRXQ-1].OBTBPOULAV;
		var Name=XPBCVAGCDQ[ABWBCAJRXQ-1].WWKVHIMWYD;
		var Socket=XPBCVAGCDQ[ABWBCAJRXQ-1].AURESXCGMK;
		//var Socket=""; //2.0.7
		////console.log(ABWBCAJRXQ+" Mi Socket: "+Socket);
		var Sala=XPBCVAGCDQ[ABWBCAJRXQ-1].Sala;
		var Amigo=XPBCVAGCDQ[ABWBCAJRXQ-1].Amigo;
		var NBJHGSFSJS=XPBCVAGCDQ[ABWBCAJRXQ-1].NBJHGSFSJS;
		
		var Idas;

		if (SPWYNLHQXU==true)
		{	
			Idas='v';
		}
		else
		{
			Idas='i';
		}
		
		//if (XPBCVAGCDQ[ABWBCAJRXQ-1].XJARYUVBCB==true)
		//{
		//	Idas='d';
		//}
		
		var ObjetoMoneda=null;
		if (PAXBGDCANU>0)
		{
			var ObjetoMoneda=CalculaGBits();
		}
		
		socket.emit('IUYWUIHCVW',FUAQHEGBCV,Name,Socket,Sala,KXAWTTIEGG,Idas,XJARYUVBCB,PAXBGDCANU,VRCARVJJPF,VGVSETFAFF,As,WJIXAEXYTP,Amigo,MQUGCIUQII,NBJHGSFSJS,ObjetoMoneda)
	}
}

TJDBATCOYY=function(XGSWBEHNKH)
{
	var i;
	var RHOLNWBOXR="";
	
	IICHSQQWTF(XGSWBEHNKH);
	
}

IICHSQQWTF=function(XGSWBEHNKH)
{
	var i;
	var table = document.getElementById("TablaSalas");
	// Create an empty <tr> element and add it to the 1st position of the table:
	var row; 
	var cell1;
	var cell2;
	var cell3;
	
	// Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
	
	////console.log("Tamaño amigos "+XGSWBEHNKH.length);
	
	NGHJWGJHWG();

	//var tableRows = table.getElementsByTagName('tr');
	var rowCount = table.rows.length;
//alert(rowCount);
	for (var i = 1; i < rowCount; i++) {
	  
		table.deleteRow(1);
	}


	
	var d=document.getElementById('DivSalasAmigos');
	d.style.display = 'block';
	//d.style.zIndex=-100;
						
	for (i=0;i<=XGSWBEHNKH.length-1;i++)
	{
		row=table.insertRow(i+1);
		//row.onclick = function(){alert(XGSWBEHNKH[i].Sala);};
		cell1 = row.insertCell(0);
		cell2 = row.insertCell(1);
		cell3 = row.insertCell(2);
		cell3.style.display = 'none';
		//cell3 = row.insertCell(2);
		
		
		cell1.innerHTML = XGSWBEHNKH[i].Sala;
		cell2.innerHTML = XGSWBEHNKH[i].Creador;
		//cell3.innerHTML =  "<img src='" + Data[i].Usuario[0][0] + "' style='max-width:100%' >";
		cell3.innerHTML = (XGSWBEHNKH[i].OBTBPOULAV.substring(0, XGSWBEHNKH[i].OBTBPOULAV.indexOf('-',1))+46);
		//cell3.style.visibility = "hidden";
		
		row.onclick = (function() { // closure
            var cnt = i; // save the counter to use in the function
            return function() {
			OQDXNSPREQ(this.cells[0].innerHTML, this.cells[2].innerHTML)
			//KKJJKHAJHK(1,this.cells[2].innerHTML);
            //  alert("row"+cnt+" data="+this.cells[2].innerHTML);
			  
            }    
        })(i);
		
		
		
		
		//cell1.onclick=function(){alert(this.rowIndex);};
		
		//cell3.innerHTML = XGSWBEHNKH[i].Sala;
		//cell3.style.visibility = "hidden";
		
		
	}
}

ETTNDBLRCS=function()
{
	BUJELVTIKU.kill();
	var d=document.getElementById('DivSalasAmigos');
	d.style.display = 'none';
	
}

BHJGQASXXS=function()
{
	var d=document.getElementById('DivClasificacionContenedor');
	d.style.display = 'none';
	HEUDCWFSMP();
}

LOIUJDIWPD=function(){
	
	var d=document.getElementById('DivCrearSala');
	document.getElementById("sala").value="";
	document.getElementById("pass").value=""
	d.style.display = 'block';
	//d.style.zIndex="101";
}


BHWJGHJGWI=function(){
	
	var d=document.getElementById('DivCrearSala');
	d.style.display = 'none';
	//d.style.zIndex=-100;
}

CerrarGPRD=function(){
	
	var d=document.getElementById('DivGPRD');
	d.style.display = 'none';
	//d.style.zIndex=-100;
}


MostrarGPRD=function(){
	
	var d=document.getElementById('DivGPRD');
	d.style.display = 'block';
	//d.style.zIndex=-100;
}

XHSDDIIBGG=function(VideoJuego)
{
	
	var RHOLNWBOXR="";
	var JHOWHOCWOO="";
	
	if (VideoJuego==true)
	{
		JHOWHOCWOO=" del videojuego";
	}
	
	//YHNMANDWLT();
	
	if (EGPDVIEJEL==false)
	{
		RHOLNWBOXR="¿Realmente desea Salir"+JHOWHOCWOO+"?";
	}
	else
	{
		if (XPBCVAGCDQ!=undefined)
		{
			if (XPBCVAGCDQ.length!=4)
			{
				RHOLNWBOXR="¿Realmente desea Salir"+JHOWHOCWOO+"?";
			}
			else
			{
				RHOLNWBOXR="¿Realmente desea Salir"+JHOWHOCWOO+"? Salir Implica una derrota.";
			}
		}
		else
		{
			RHOLNWBOXR="¿Realmente desea Salir"+JHOWHOCWOO+"?";
		}
	}
	
	var a=document.getElementById("lblSalir") 
	//var b=a.labels[0];
	a.textContent = RHOLNWBOXR;
	var d=document.getElementById('DivSalir');
	d.style.display = 'block';
	
	
}

VVCDGUUDWR=function(MuestraDIV)
{
	
	var i;
	var JHCGSIWICI="";
	var NBIUIUCWUE="";
	var UUYYYYCEWE="";
	var IIIQIIQCKC="";
	var KJHWJKHKJH="";
	var IIIIUUWWWI="";
	var vueltas=0;
	
	////console.log("Soy "+TFSXFTYVGQ)
		
	JKLJKLRIRI.kill();
	
	for (i=0;i<=XPBCVAGCDQ.length-1;i++)
	{
		//if (XPBCVAGCDQ[i].XJARYUVBCB==false || (XPBCVAGCDQ[i].XJARYUVBCB==true  && XPBCVAGCDQ[1].XJARYUVBCB==false ))
		//{
			if ((i+1)!=TFSXFTYVGQ)
			{
				if (vueltas==0)
				{
					JHCGSIWICI=XPBCVAGCDQ[i].WWKVHIMWYD;
					IIIQIIQCKC=XPBCVAGCDQ[i].AURESXCGMK;				
				}
				if (vueltas==1)
				{
					NBIUIUCWUE=XPBCVAGCDQ[i].WWKVHIMWYD;
					KJHWJKHKJH=XPBCVAGCDQ[i].AURESXCGMK;				
				}
				if (vueltas==2)
				{
					UUYYYYCEWE=XPBCVAGCDQ[i].WWKVHIMWYD;
					IIIIUUWWWI=XPBCVAGCDQ[i].AURESXCGMK;				
				}
				vueltas++;
			}
		//}
		
	}
	
	
	//for (i=0;i<=XPBCVAGCDQ.length-1;i++)
	//{
		////console.log("-----"+XPBCVAGCDQ[i].XJARYUVBCB);
	//}
	
	var a=document.getElementById("lblPareja") 
	//var b=a.labels[0];
	a.textContent = "Elige a tu pareja";
	a=document.getElementById("Pareja1") 	
	a.style.display = 'inline-block';
	a=document.getElementById("Pareja2") 	
	a.style.display =  'inline-block';
	a=document.getElementById("Pareja3") 	
	a.style.display = 'inline-block';	
	
	
	a=document.getElementById("Pareja1") 
	//var b=a.labels[0];
	a.textContent = JHCGSIWICI;
	
	//if (XPBCVAGCDQ[0].XJARYUVBCB==true && XPBCVAGCDQ[2].XJARYUVBCB==false)	{
	//	a.style.display = 'none';
	//}
	
	a=document.getElementById("Pareja2") 
	//var b=a.labels[0];
	a.textContent = NBIUIUCWUE;
	
	//if (XPBCVAGCDQ[1].XJARYUVBCB==true)
	//{
	//	a.style.display = 'none';
	//}
	
	a=document.getElementById("Pareja3") 
	//var b=a.labels[0];
	a.textContent = UUYYYYCEWE;	
	
	//if (XPBCVAGCDQ[2].XJARYUVBCB==true  && XPBCVAGCDQ[0].XJARYUVBCB==false)
	//{
	//	a.style.display = 'none';
	//}
	
	if (MuestraDIV==true)
	{	
		var d=document.getElementById('DivEligePareja');
		d.style.display = 'block';
		
		var JHKSJDHVKJ=7;
		
		HYSGUYGUYT.loop(1000, function(){	
		
			
		
			if (JHKSJDHVKJ<=0)
			{
				HYSGUYGUYT.stop();
				if (SNJCSVWFCC()==true)
				{
					NXVIOTGLQV(2);
				}
				else
				{
					console.log("Matar 1");
					FHKOYDXPCL();					
					MHELAUXKXR();
					XEMENNVXGV();					
				}
			}
			else
			{
				JHKSJDHVKJ=JHKSJDHVKJ-1;
			}
		
			
		});
		HYSGUYGUYT.start();
		
	}
}

NCTURHDRYW=function()
{
	HYSGUYGUYT.stop();
	var d=document.getElementById('DivEligePareja');
	d.style.display = 'none';
}

HEUDCWFSMP=function()
{
	var d=document.getElementById('DivFace');
	d.style.display = 'inline-block';	
	//d.style.display = 'none';	
}

NGHJWGJHWG=function()
{
	var d=document.getElementById('DivFace');
	d.style.display = 'none';	
}

NXVIOTGLQV=function(AHGGSIUEBA)
{
	
	var i;
	var RDAEBQGCGW;
	//KKUYGYRGYG
	var d=document.getElementById('DivEligePareja');
	d.style.display = 'none';
	
	EligiendoPareja=false; 
	
	if (SNJCSVWFCC()==false)
	{
		console.log("Matar 2");
		FHKOYDXPCL();
		MHELAUXKXR();
		XEMENNVXGV();		
	}
	else
	{
		
	//LKKDKDNMNR	
		
		if (TFSXFTYVGQ==1)
		{
			RDAEBQGCGW=3;
		
			if (AHGGSIUEBA==1)
			{
				POPEWFWERV=2;
			}
			if (AHGGSIUEBA==2)
			{
				POPEWFWERV=3;
			}
			if (AHGGSIUEBA==3)
			{
				POPEWFWERV=4;
			}
		}
		if (TFSXFTYVGQ==2)
		{
			RDAEBQGCGW=4;
			if (AHGGSIUEBA==1)
			{
				POPEWFWERV=1;
			}
			if (AHGGSIUEBA==2)
			{
				POPEWFWERV=3;
			}
			if (AHGGSIUEBA==3)
			{
				POPEWFWERV=4;
			}
		}
		if (TFSXFTYVGQ==3)
		{
			RDAEBQGCGW=1;
			if (AHGGSIUEBA==1)
			{
				POPEWFWERV=1;
			}
			if (AHGGSIUEBA==2)
			{
				POPEWFWERV=2;
			}
			if (AHGGSIUEBA==3)
			{
				POPEWFWERV=4;
			}		
		}
		if (TFSXFTYVGQ==4)
		{
			RDAEBQGCGW=2;
			if (AHGGSIUEBA==1)
			{
				POPEWFWERV=1;
			}
			if (AHGGSIUEBA==2)
			{
				POPEWFWERV=2;
			}
			if (AHGGSIUEBA==3)
			{
				POPEWFWERV=3;
			}		
		}	

		
		////console.log("Soy "+TFSXFTYVGQ+" Ha seleccionado: "+AHGGSIUEBA+" Mi pareja "+POPEWFWERV);
		
		
		var OrdenDelModificado=XPBCVAGCDQ[POPEWFWERV-1].KKUYGYRGYG;
		////console.log("Orden del modificado "+OrdenDelModificado);
		

		////console.log("Pareja Original "+RDAEBQGCGW);
		XPBCVAGCDQ[POPEWFWERV-1].KKUYGYRGYG=RDAEBQGCGW;
		
		
		XPBCVAGCDQ[RDAEBQGCGW-1].KKUYGYRGYG=OrdenDelModificado;
		console.log("Parejas longitud: "+XPBCVAGCDQ.length+" Control:"+ESKTEXAVHU+" Ej.: "+XPBCVAGCDQ[0].AURESXCGMK)
		
		//console.log("JSKXXDPSDS pareja Control: "+ESKTEXAVHU+" "+XPBCVAGCDQ.length);
		////console.log()
	//	try
	//	{
			var JKGHWJKGJW=0;
			if (ESKTEXAVHU>0)
			{
				var JKGHWJKGJW=XPBCVAGCDQ[ESKTEXAVHU-1].AURESXCGMK;
			}
	/*	}
		catch(e)
		{
			console.log("Matar 3");
			FHKOYDXPCL(); //Cuando desconectas y no estás conectado eligiendo pareja
			MHELAUXKXR();
			XEMENNVXGV();			
		}*/
		
		XPBCVAGCDQ.sort(sort_by('KKUYGYRGYG', false, parseFloat));
		
		for (i=0;i<=XPBCVAGCDQ.length-1;i++)
		{
			if (EstaArray(XPBCVAGCDQ[i].AURESXCGMK,JKGHWJKGJW))
			{
				ESKTEXAVHU=(i+1);
				break;
			}
		}
		
		
		
		
		
		
		//Por ahora reparte siempre el último en entrar
		var GXNRNMAAKW=function( XPBCVAGCDQ,DFBVDPETGO, RDBQUAVHEP,WHNGHDAEUV,
			OYJAHGADFQ,OJPXTRQDKS,LYHKNIMVEB,RHOLNWBOXR){
			 this.XPBCVAGCDQ=XPBCVAGCDQ
			 this.DFBVDPETGO=DFBVDPETGO
			 this.RDBQUAVHEP=RDBQUAVHEP
			 this.WHNGHDAEUV=WHNGHDAEUV

												 
			 this.OYJAHGADFQ=OYJAHGADFQ
			 this.OJPXTRQDKS=OJPXTRQDKS
			 this.LYHKNIMVEB=LYHKNIMVEB
			 this.RHOLNWBOXR=RHOLNWBOXR
			 
			 this.EBAPPJFYSW=new Date(Date.now());
		 }
		var QPHHGPRJAI=[];
		QPHHGPRJAI.splice(0,1000);

			
		var OYJAHGADFQ=Math.random()*100000;
		var KCPHFPSPLQ=new GXNRNMAAKW(XPBCVAGCDQ,DFBVDPETGO,4,POPEWFWERV,
			OYJAHGADFQ,socket.id,DFBVDPETGO,'IWOWOOKJKJ');
		NBEJWDVLLV.push(KCPHFPSPLQ);
		QPHHGPRJAI.push(KCPHFPSPLQ);


		socket.emit('IWOWOOKJKJ',QPHHGPRJAI[0],
		 function(XQLEOGMJYG)
		 {			 
			EXBCVLOIYJ(XQLEOGMJYG,'IWOWOOKJKJ');
		 }
		);						
		QPHHGPRJAI.splice(0,1000);	
		
		
		KYDWXPGHVY.splice(0,1000) //Importante no quitarlo. Al hacer los giros con el array de jugadores, hay que volver a calcular los desconectados y por eso se limpia el array
		
		LRYVPILWKS();
		////console.log("Llamada 1")
		//IOJCRKJSRL();
	}
	
}

UAUDUHCLOB=function()
{
	var d=document.getElementById('DivSalir');
	d.style.display = 'none';
	//d.style.zIndex=-100;
}

RespuestaSalir=function(JSKXXDPSDS)
{
	var a=document.getElementById("lblSalir") 
	var textomensaje=a.textContent;
	
	UAUDUHCLOB();
	if (JSKXXDPSDS==true)
	{
		if (textomensaje.search('videojuego')>=0) 
		{
			navigator.app.exitApp();
		}
		else
		{
			if (textomensaje.search('derrota')>=0) 
			{
				SimularQuitarGBits();
			}
			
			FHKOYDXPCL();
			MHELAUXKXR();
			XEMENNVXGV();
		}
	}
	else
	{
		//alert("Se queda");
	}
}

SimularQuitarGBits=function()
{
	var restar;
	try
	{
		if (XPBCVAGCDQ[TFSXFTYVGQ-1].Amigo==false)
		{
			console.log("Puntuacion Especial "+PWMIBRSDCJ[0].PuntuaciondePRO);
			if(PWMIBRSDCJ!=undefined && PWMIBRSDCJ[0].PuntuaciondePRO)
			{
				restar=GbitsPendientes+-4
			}
			else
			{
				
				restar=-2
			}
			
			if (GBitsLocal+restar>=0)
			{
				GbitsPendientes=GbitsPendientes+restar;
			}
		}
	}
	catch(e){}
}
PTBEWVCTBF=function(BXDXCOKIHE)
{
	socket.emit("AXPTYWMEOH",BXDXCOKIHE);
	NFARLTEOCI();
}
OQDXNSPREQ=function(NombreSala,Residual)
{
	ETTNDBLRCS();	
	var d=document.getElementById('DivPasswordSala');
	document.getElementById("sala_pass").value=NombreSala;
	document.getElementById("pass_pass").value="";
	
	////console.log("Residual "+Residual.substring(0, Residual.length-2));
	////console.log("Residual2 "+PWMIBRSDCJ[0].OBTBPOULAV.substring(0, PWMIBRSDCJ[0].OBTBPOULAV.indexOf('-',1)+0));
	a=Residual.substring(0, Residual.length-2);
	b=PWMIBRSDCJ[0].OBTBPOULAV.substring(0, PWMIBRSDCJ[0].OBTBPOULAV.indexOf('-',1)+0);
	
	////console.log(a.length);
	////console.log(b.length);
	
	if (PWMIBRSDCJ[0].UHYGLMAUNK==true || PWMIBRSDCJ[0].OBTBPOULAV.substring(0, PWMIBRSDCJ[0].OBTBPOULAV.indexOf('-',1)+0)==   Residual.substring(0, Residual.length-2)  )
	{
		////console.log("MUESTRA");
		//document.getElementById("btnEliminarSala").style.visibility = "none";
		document.getElementById("btnEliminarSala").style.display = "inline-block";
	}
	else
	{
		////console.log("OCULTA");
		//document.getElementById("btnEliminarSala").style.visibility = "hidden";
		document.getElementById("btnEliminarSala").style.display = "none";
	}
	
	//document.getElementById("idSalaHidden").value="";	
	d.style.display = 'block';
	//d.style.zIndex="101";
	
}

NFARLTEOCI=function()
{
	ETTNDBLRCS();	
	BHJGQASXXS();
	BHWJGHJGWI();
	RHNUCWDYDF();
	YHNMANDWLT();
	//NGHJWGJHWG();
}
RHNUCWDYDF=function(idSalaAmigo)
{
		
	var d=document.getElementById('DivPasswordSala');
	d.style.display = 'none';
	//d.style.zIndex="101";
	
}

RPEOWUSPJU=function(Sala,Pass)
{
	socket.emit('FNPXATLNEM', Sala, Pass) ;
	RHNUCWDYDF();
}

CrearSala=function(Sala,Pass)
{
	var XUWGVBCQPJ;
	var OBTBPOULAV;
	
	if (Sala!="")
	{
		if (EGPDVIEJEL==true)
		{
			if (PWMIBRSDCJ.length>0)
			{
				XUWGVBCQPJ=PWMIBRSDCJ[0].WWKVHIMWYD;
				OBTBPOULAV=PWMIBRSDCJ[0].FFRVOEAXTF + '-'+ PWMIBRSDCJ[0].BDYYDTFQAO;
			}
			else
			{
				XUWGVBCQPJ="";
				OBTBPOULAV="";
			}
			
			socket.emit('JYSMJTIHBJ', Sala.substring(0,30), Pass.substring(0,30), XUWGVBCQPJ,OBTBPOULAV) ;
			socket.emit('ETJNHPEGJR') ;
		
		}
	}
	BHWJGHJGWI();
}
MITSNADNQS=function()
{
	UEHYPTREIH.revive();
	IBECDOLWLN.revive();
	RIHFCSEMIJ.revive();
	RevivirTextCuentaMundo();
	HEUDCWFSMP();
	POEICHMHDL.revive(); //1.0.8
	
	NCTURHDRYW();
	EligiendoPareja=false;
	
	CUUKQAGFEB.kill(); //2.0.7
	
}

YBWXJFDOAW=function()
{
	
	EFKTQSXAMA.revive();
	LNJDKEVPQE.revive();
	RevivirTextCuentaMundo();
	HEUDCWFSMP();
	
	
	//CUUKQAGFEB.revive();

	APUVCXAYVN= YMHIHSNADE.world.centerX -120;
	PHMUHFKHBO=YMHIHSNADE.world.height-170;

	KYLVRIAAWF= YMHIHSNADE.world.centerX +120; 
	VLHOFXLPJS= YMHIHSNADE.world.height-170;


	if (JHJEWHFWNL==true)
	{
		//EFKTQSXAMA.width=EFKTQSXAMA.width*1.4;
		//EFKTQSXAMA.height=EFKTQSXAMA.height*1.4;
		//PHMUHFKHBO=EFKTQSXAMA.y-90;
		//APUVCXAYVN=EFKTQSXAMA.x-45;
		PHMUHFKHBO=VLHOFXLPJS-90;
		
	}
	
	if (JHJEWHFWNL==true)
	{
		//LNJDKEVPQE.width=LNJDKEVPQE.width*1.4;
		//LNJDKEVPQE.height=LNJDKEVPQE.height*1.4;
		//VLHOFXLPJS=LNJDKEVPQE.y-90;
		VLHOFXLPJS=LNJDKEVPQE.x+45;
		KYLVRIAAWF=KYLVRIAAWF+45;
	}	


	EFKTQSXAMA.x=YMHIHSNADE.world.centerX -120; 
	EFKTQSXAMA.y=YMHIHSNADE.world.height-170-1000;
	

	LNJDKEVPQE.x=YMHIHSNADE.world.centerX +120+1000;
	LNJDKEVPQE.y=YMHIHSNADE.world.height-170;
	
	
	if (JHJEWHFWNL==true)
	{
		EFKTQSXAMA.y=EFKTQSXAMA.y-90;
		EFKTQSXAMA.x=EFKTQSXAMA.x-45;
		
		LNJDKEVPQE.y=LNJDKEVPQE.y-90;
		LNJDKEVPQE.x=LNJDKEVPQE.x-45;
	}		
	
	var TXBFLEOYKI=YMHIHSNADE.add.tween(LNJDKEVPQE).to( { x: KYLVRIAAWF }, 400, BSXWFYLCEW);
	TXBFLEOYKI.start();

	var RDJFKUULTX=YMHIHSNADE.add.tween(EFKTQSXAMA).to( { y: PHMUHFKHBO  }, 400, KYFMRVNHIQ);
	RDJFKUULTX.start();
	

	
}


Abre=function(Tipo)
{
	
	var IAYGNIKSFI=true;
	var ref;
	////console.log(window.cordova);
	var isCordovaApp = document.URL.indexOf('http://') === -1
		&& document.URL.indexOf('https://') === -1;
  
	if (isCordovaApp==false)
	{
		switch (Tipo){	
		
			case 1 :		
			ref = window.open('/privacidad/privacidad.html', '_self');
					
			break;		
			
			case 2 :		
			ref = window.open('/privacidad/clasificacion_como.html', '_self');
			break;	
			
		
		}
	}
	else
	{
		switch (Tipo){	
		
		
			
			case 1 :		
			ref = cordova.InAppBrowser.open(JHGHJAGCMC+'/privacidad/privacidad.html', '_blank', 'location=no');
			break;	
			
			case 2 :		
			ref = cordova.InAppBrowser.open(JHGHJAGCMC+'/privacidad/clasificacion_como.html', '_blank', 'location=no');
			break;	
			
		
		}
		

	}
	
	
}


RSHJSKMBRP=function(Tipo)
{
	
	
	var IAYGNIKSFI=true;
	var ref;
	////console.log(window.cordova);
	var isCordovaApp = document.URL.indexOf('http://') === -1
		&& document.URL.indexOf('https://') === -1;
  
	if (isCordovaApp==false)
	{
		switch (Tipo){	
		
			case 1 :		
			ref = window.open('/auth/google', '_self');
					
			break;		
			
			case 2 :		
			ref = window.open('/auth/facebook', '_self');
			break;	
			
			case 3 :		
			ref = window.open('/auth/Instagram', '_self');
			break;	
			
			case 4 :		
			ref = window.open('/auth/Twitter', '_self');
			break;	
			
			case 5 :		
			IAYGNIKSFI=false;
			ref = window.open('/contacto');
			break;				
		}
	}
	else
	{
		switch (Tipo){	
		
			case 1 :		
			//ref = cordova.InAppBrowser.open(JHGHJAGCMC+'/auth/google', '_blank', 'location=no');
				IAYGNIKSFI=false;
			window.plugins.googleplus.login(
				{
				 // 'scopes': '... ', // optional, space-separated list of scopes, If not included or empty, defaults to `profile` and `email`.
				  //'webClientId': 'client id of the web app/server side', // optional clientId of your Web application from Credentials settings of your project - On Android, this MUST be included to get an idToken. On iOS, it is not required.
				  'offline': true, // optional, but requires the webClientId - if set to true the plugin will also return a serverAuthCode, which can be used to grant offline access to a non-Google server
				},
				function (obj) {
				MCFSLYOMHE();	
				//MITSNADNQS();
				ObjetoG=obj;	

				RecienInstalado=true;
				
				JVEHDHOEEM();
				
				
				//socket.emit('PIXQSCGEJH', DFBVDPETGO,socket.id, false,SFKLFIJOIO,ObjetoG) ;
				  //alert(JSON.stringify(obj)); // do something useful instead of alerting
				  //alert(obj);
				  /*alert(obj.email);
				  alert(obj.userId);
				  alert(obj.displayName);
				  alert(obj.familyName);
				  alert(obj.givenName);
				  alert(obj.imageUrl);*/
				  
				  /*alert(obj[0].email);
				  
					var a=JSON.stringify(obj);
					
					alert(a.email);
					alert(a[0].email);
					alert(a);*/
				},
				function (msg) {
				  alert('error: ' + msg);
				  MCFSLYOMHE();
				}
			);
			break;		
			
			case 2 :		
			ref = cordova.InAppBrowser.open(JHGHJAGCMC+'/auth/facebook', '_blank', 'location=no');
			break;	
			
			case 3 :		
			ref = cordova.InAppBrowser.open(JHGHJAGCMC+'/auth/Instagram', '_blank', 'location=no');
			break;	
			
			case 4 :		
			ref = cordova.InAppBrowser.open(JHGHJAGCMC+'/auth/Twitter', '_blank', 'location=no');
			break;	
			
			case 5 :		
			IAYGNIKSFI=false;
			ref = cordova.InAppBrowser.open(JHGHJAGCMC+'/contacto', '_blank', 'location=no');
			break;
		}
		
		if (IAYGNIKSFI==true)
		{
			ref.addEventListener('exit', function(e) {

				RecienInstalado=true;
				
				TDILLGNFGX=true;
				FHKOYDXPCL();
				MHELAUXKXR();
				XEMENNVXGV();
				
			});
			
			ref.addEventListener('loadstop', function(e) {
			var loc = e.url;
			//when url is changed check if the url contains your specific callbackURL
			////console.log("LOC "+loc);
			//if (loc.search('http://xn--guiotepro-n6a.es/?HKCERVLWFB=g')>=0) {
			//alert("a");	
			if (loc.search('HKCERVLWFB')>=0) {	
				
				//alert("b");	
				//SalirDesdeLogueo();	
				//alert("c");
				//JVEHDHOEEM();
				//YBWXJFDOAW();
				//alert("d");
				//MCFSLYOMHE();
				//JVEHDHOEEM(false);
				/*FHKOYDXPCL();
				var timerlogin = YMHIHSNADE.time.create(false);
				timerlogin.add(10000, function(){
				
				////console.log("IA DESDE mover mazo");
				JVEHDHOEEM();
				} );
				
				timerlogin.start();	*/
				//PermisoMicro();
				RecienInstalado=true;
				ref.close();
				RecienInstalado=true;
				//PermisoMicro();
				//JVEHDHOEEM();
				//YBWXJFDOAW();
			}
			});
		}
	}
	
	
	
	/*var myCallback = function(event) { alert(event.url); }
	ref.addEventListener('loadstart', myCallback);
	ref.removeEventListener('loadstart', myCallback);*/
	
}	

RespuestaAudioGoogle=function(res)
{
	
	var d=document.getElementById('DivAudioGoogle');
	d.style.display = 'none';
	
	if (res==true)
	{
		PermisoMicro();
	}
	RecienInstalado=false;
	JVEHDHOEEM();
}

RespuestaAudioOtros=function(res)
{
	
	var d=document.getElementById('DivAudioOtros');
	d.style.display = 'none';
	
	if (res==false)
	{
		TDILLGNFGX=true;
		FHKOYDXPCL();
		MHELAUXKXR();
		XEMENNVXGV();
	}
	else
	{
		PermisoMicro();
	}
}
	
	
JTQKCQEDPC=function()
{
	// window.open("http://xn--guiotepro-n6a.es/auth/google", '_system', 'location=yes');
	log(true,"Deteniendo tiempo: Es el Turno de "+DVNRTQIWGL+". Yo soy "+TFSXFTYVGQ);

	GBROPWPVSK=true;
	HUUCUYFBLW.stop();
	TKXPPGUPVV.stop();
	log(true,"Es el Turno de "+DVNRTQIWGL+". Yo soy "+TFSXFTYVGQ);


}

TRKOSJTLDX=function()
{
	var d;
	if (EHBNOAKBDQ==false)
	{
		d=document.getElementById('chat');
		d.style.display = 'block';
		/*d.style.zIndex=100;
		
		d.style.position = "absolute";
		d.style.left = YMHIHSNADE.world.x+'px';
		d.style.top = 10+'px';
		d.style.width =80+'px';*/
		
		
		EHBNOAKBDQ=true;
	}
	else
	{
		var d=document.getElementById('chat');
		d.style.display = 'none';
		//d.style.zIndex=-1;

		
		
		EHBNOAKBDQ=false;
	}
	
}


QDPPTWILGS=function()
{
	var d;
	if (EHBNOAKBDQ==false)
	{
		d=document.getElementById('Login');
		d.style.display = 'block';
		/*d.style.zIndex=100;
		
		d.style.position = "relative";
		d.style.left = 130+'px';
		d.style.top = 30+'px';*/
		
		
		KOHYQKLAJO=true;
	}
	else
	{
		var d=document.getElementById('Login');
		d.style.display = 'none';
		//d.style.zIndex=-1;
		KOHYQKLAJO=false;
	}
	
}


WFWTECIQSP=function()
{
	var d;
	
		d=document.getElementById('Login');
		d.style.display = 'block';
		//d.style.zIndex=100;
		
		d.style.position = "absolute";
		//d.style.left = 30+'px';
		//d.style.top = 30+'px';		

}


EfectoCante=function(twBocadilloCanteLocal1,twBocadilloCanteLocal2,FTBVKLREAE)
{
		twBocadilloCanteLocal1=YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 1 }, 1000, KYFMRVNHIQ, true);
		twBocadilloCanteLocal1.onComplete.add(  function(){
				twBocadilloCanteLocal2=YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 0 }, 500, KYFMRVNHIQ, true,1000,0);
				twBocadilloCanteLocal2.onComplete.add(  function(){
					try
					{
						
						//FTBVKLREAE.destroy();//2.0.1 clave:rehuse
						FTBVKLREAE.kill();
					}
					catch(e)
					{}
					//console.log("Destruido bocadillo de cante");
				})
			}
		);		
}
XIAPNYIGXV=function(UHTPGPRUJA,RPHWVBBGIM,NBWHWUQAAA,OMDVKATFLQ, desdeServer, TXLWIIINGQ)
{
	var HUJOOKLGRK;
	var GCTYDSCWXE;
	var YSMHGCUJFD;
	var textChat;
	var TDSYMKWUOC;
	var LQCVWFLTAG;
	var IQISGTBLTU
	var FTBVKLREAE;
	var IFJRJXGGFY;
	var CWWHRMDADQ;
	var HOGPTRLBYH;
	var i;
	var XLAXKBPPMF=false;
	var STLEOJDWSU=HHOPUSIABJ(UHTPGPRUJA);
	////console.log("SSUNXNEEHN que habla "+UHTPGPRUJA+ " "+STLEOJDWSU)
	var OTGBWFDOND=true;
	var Nosotros;
	//////////////
//NBWHWUQAAA=true;	

	try //a veces peta y no sé por qué
	{

	if (UHTPGPRUJA==undefined)
	{
		return false;
	}

	if (NBWHWUQAAA==true)
	{
		

		
		
		////console.log("VOY A CANTAR");
		HUCLBWTDFV(UHTPGPRUJA,RPHWVBBGIM,OMDVKATFLQ);
		//2.0.1 if (SRFFTPLVMJ(RPHWVBBGIM)==false || desdeServer==false) // desdeServer: Tema de que canta el que tiene el control dos veces..
		if (SRFFTPLVMJ(RPHWVBBGIM)==false) 
		{	
			FOQUJVEYFC.push(RPHWVBBGIM)
			
			////console.log("Va a cantarrrrr")
			
			
			
			if(TFSXFTYVGQ==1) {
				if(UHTPGPRUJA==2){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="El jugador de su derecha canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("R",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="El jugador de su derecha canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("R",40, TXLWIIINGQ);
					}
					Nosotros=false;
				}
				if(UHTPGPRUJA==3){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="Su compañero canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("N",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="Su compaero canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("N",40, TXLWIIINGQ);
					}
					Nosotros=true;
				}		
				if(UHTPGPRUJA==4){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="El jugador de su izquierda canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("R",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="El jugador de su izquierda canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("R",40, TXLWIIINGQ);
					}
					Nosotros=false;
				}	

				if(UHTPGPRUJA==1){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("N",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="Las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("N",40, TXLWIIINGQ);
					}
					Nosotros=true;
				}				
			}

			if(TFSXFTYVGQ==2) {
				if(UHTPGPRUJA==3){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="El jugador de su derecha canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("R",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="El jugador de su derecha canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("R",40, TXLWIIINGQ);
					}
					Nosotros=false;
				}
				if(UHTPGPRUJA==4){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="Su compaero canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("N",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="Su compaero canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("N",40, TXLWIIINGQ);
					}
					Nosotros=true;
				}		
				if(UHTPGPRUJA==1){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="El jugador de su izquierda canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("R",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="El jugador de su izquierda canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("R",40, TXLWIIINGQ);
					}
					Nosotros=false;
				}	

				if(UHTPGPRUJA==2){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("N",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="Las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("N",40, TXLWIIINGQ);
					}
					Nosotros=true;
				}			
			}
			
			if(TFSXFTYVGQ==3) {
				if(UHTPGPRUJA==4){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="El jugador de su derecha canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("R",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="El jugador de su derecha canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("R",40, TXLWIIINGQ);
					}
					Nosotros=false;
				}
				if(UHTPGPRUJA==1){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="Su compaero canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("N",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="Su compaero canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("N",40, TXLWIIINGQ);
					}
					Nosotros=true;
				}		
				if(UHTPGPRUJA==2){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="El jugador de su izquierda canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("R",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="El jugador de su izquierda canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("R",40, TXLWIIINGQ);
					}
					Nosotros=false;
				}	
				if(UHTPGPRUJA==3){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("N",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="Las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("N",40, TXLWIIINGQ);
					}
					Nosotros=true;
				}			
			}
			
			if(TFSXFTYVGQ==4) {
				if(UHTPGPRUJA==1){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="El jugador de su derecha canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("R",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="El jugador de su derecha canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("R",40, TXLWIIINGQ);
					}
					Nosotros=false;
				}
				if(UHTPGPRUJA==2){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="Su compaero canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("N",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="Su compaero canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("N",40, TXLWIIINGQ);
					}
					Nosotros=true;
				}		
				if(UHTPGPRUJA==3){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="El jugador de su izquierda canta 20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("R",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="El jugador de su izquierda canta las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("R",40, TXLWIIINGQ);
					}
					Nosotros=false;
				}	
				if(UHTPGPRUJA==4){
					if (OMDVKATFLQ==20)
					{
						//NJWWPODLWD="20 en "+ AWCCMSCOPO;
						RPHWVBBGIM="20 en "+RPHWVBBGIM;
						OTGBWFDOND=LQJEJOOAPH("N",20, TXLWIIINGQ);
					}
					else
					{
						//NJWWPODLWD="Las 40";
						RPHWVBBGIM="Las 40";
						OTGBWFDOND=LQJEJOOAPH("N",40, TXLWIIINGQ);
					}
					Nosotros=true;
				}			
			}
		}

	}

	
	//////////////
	
	//if (NBWHWUQAAA==false || (NBWHWUQAAA==true && OTGBWFDOND==true)) //2.0.1 vuelvo a lo de antes
	if ( (NBWHWUQAAA==false  ) || NBWHWUQAAA==true ) //2.0.1 No puedo poner OTGBWFDOND porque si no no suenan los cantes.
	{
		log(false,RPHWVBBGIM);
		
		HUJOOKLGRK=(RPHWVBBGIM.length*27)/2
		
		/* //2.0.1 sobra
		HOGPTRLBYH='20 espadas'; //1.0.8 Creo que es el error de algunos dispositivos
		var BocadilloTemp=YMHIHSNADE.add.image(-300,-300, 'general',HOGPTRLBYH);
		var JCBAJIQEFK=BocadilloTemp.height;
		var BNBMCQOWKS=BocadilloTemp.width;
		log(false,"ancho   ss "+BocadilloTemp.width);
		BocadilloTemp.destroy(); //2.0.1 clave:rehuse
		*/

		var SegundoBocadillo=false;
		if (STLEOJDWSU=="D")
		{
			if (NBWHWUQAAA==false)
			{
				GCTYDSCWXE=WIEVLYANFM("D_CHAT",0)-SXSHBRJFIR+150;
				YSMHGCUJFD=FIGQBSJQGA("D_CHAT",0)-PPLOSJIWHO*1.2;
				IFJRJXGGFY=GCTYDSCWXE+20+500; //20 cambioschat
				CWWHRMDADQ=YSMHGCUJFD+20;			
			}
			else
			{
				
				
				GCTYDSCWXE=YMHIHSNADE.world.centerX; //(( YMHIHSNADE.world.width-AQONVWHHFT-((SXSHBRJFIR*6)) - (YAJVUBPNNW*5)  +  SXSHBRJFIR  )    /2)+(SXSHBRJFIR*1.5);
				YSMHGCUJFD=YMHIHSNADE.world.height-(SXSHBRJFIR*2);
				//console.log("ES RUNNING "+JKHKJVHWPW.isRunning);
				if (JKHKJVHWPW!=undefined && (JKHKJVHWPW.isRunning==true || NBXIJWGIWP.isRunning==true || TTCLPDJAMD.isRunning==true))
				{
					GCTYDSCWXE=GCTYDSCWXE+200;
					log(false,"CORRIENDO");
					SegundoBocadillo=true;
				}

				
				IFJRJXGGFY=GCTYDSCWXE+(BNBMCQOWKS*2.7);
				CWWHRMDADQ=YSMHGCUJFD+(JCBAJIQEFK*1.8);	
				

				
				
				
			}

			HOGPTRLBYH= 'bocadillo_d';

		}	
		if (STLEOJDWSU=="U")
		{
			if (NBWHWUQAAA==false)
			{
				
				GCTYDSCWXE=WIEVLYANFM("U_CHAT",0);
				YSMHGCUJFD=FIGQBSJQGA("U_CHAT",0)-(MKSLYEWQQS/2);//+(MKSLYEWQQS/2);			
				IFJRJXGGFY=GCTYDSCWXE+20;
				CWWHRMDADQ=YSMHGCUJFD+45;
			}	
			else
			{
							
				GCTYDSCWXE=YMHIHSNADE.world.centerX; //(( YMHIHSNADE.world.width-AQONVWHHFT-((SXSHBRJFIR*6)) - (YAJVUBPNNW*5)  +  SXSHBRJFIR  )    /2)+(SXSHBRJFIR*1.5);
				YSMHGCUJFD=(MKSLYEWQQS)*1.5;	

				if (BBBJHKWOOW!=undefined && (BBBJHKWOOW.isRunning==true || MMSWJWIAHG.isRunning==true || TTCLPDJAMD.isRunning==true))
				{
					GCTYDSCWXE=GCTYDSCWXE+200;
					SegundoBocadillo=true;
				}
				
				IFJRJXGGFY=GCTYDSCWXE+(BNBMCQOWKS*2.7);
				CWWHRMDADQ=YSMHGCUJFD+(JCBAJIQEFK*1.8);	
				
			}

			HOGPTRLBYH= 'bocadillo_u';

		}
		if (STLEOJDWSU=="L")
		{
			if (NBWHWUQAAA==false)
			{
				GCTYDSCWXE=WIEVLYANFM("L_CHAT",0)+(COIVBWRMCC/2);
				YSMHGCUJFD=FIGQBSJQGA("L_CHAT",0)-COIVBWRMCC+100;		
				IFJRJXGGFY=GCTYDSCWXE+20;
				CWWHRMDADQ=YSMHGCUJFD+20;			
			}
			else
			{
				GCTYDSCWXE=(COIVBWRMCC*2.5);
				//YSMHGCUJFD=YMHIHSNADE.world.height/2-COIVBWRMCC;
				YSMHGCUJFD=YMHIHSNADE.world.centerY;
				
				if (DSCHJGSVHJ!=undefined && (DSCHJGSVHJ.isRunning==true || UIWYCUIHWU.isRunning==true || TTCLPDJAMD.isRunning==true))
				{
					YSMHGCUJFD=YSMHGCUJFD+100;
					SegundoBocadillo=true;
				}
				
				IFJRJXGGFY=GCTYDSCWXE+(BNBMCQOWKS*2.7);
				CWWHRMDADQ=YSMHGCUJFD+(JCBAJIQEFK*1.8);	
			}

			HOGPTRLBYH= 'bocadillo_l';
		}
		if (STLEOJDWSU=="R")
		{
			
			if (NBWHWUQAAA==false)
			{
				GCTYDSCWXE=WIEVLYANFM("R_CHAT",0)-(MKSLYEWQQS*2.3);
				YSMHGCUJFD=FIGQBSJQGA("R_CHAT",0)-100;		
				IFJRJXGGFY=GCTYDSCWXE+20;
				CWWHRMDADQ=YSMHGCUJFD+45;
			}
			else
			{
				GCTYDSCWXE=YMHIHSNADE.world.width-(COIVBWRMCC*2.5);
				//YSMHGCUJFD=YMHIHSNADE.world.height/2-COIVBWRMCC;	
				YSMHGCUJFD=YMHIHSNADE.world.centerY;
				
				if (FJHJGFHGFO!=undefined && (FJHJGFHGFO.isRunning==true || HGHJGWKHAA.isRunning==true || TTCLPDJAMD.isRunning==true))
				{
					YSMHGCUJFD=YSMHGCUJFD+100;
					SegundoBocadillo=true;
				}
				IFJRJXGGFY=GCTYDSCWXE+(BNBMCQOWKS*2.7);
				CWWHRMDADQ=YSMHGCUJFD+(JCBAJIQEFK*1.8);					
			}
			HOGPTRLBYH= 'bocadillo_r';
		}	
		
		//console.log("Cante "+NBWHWUQAAA+" OMDVKATFLQ "+OMDVKATFLQ+" RPHWVBBGIM "+RPHWVBBGIM);
		if (NBWHWUQAAA==true){
			if (OMDVKATFLQ==20)
			{
				//HOGPTRLBYH='Estallido';
				if (LUCRWXJMDR<=4)
				{
					if (RPHWVBBGIM.indexOf('oros')>=0)
					{
						HOGPTRLBYH='20 oros';
						EABXADHEVT("BNSLLGGORP");
					}
					
					if (RPHWVBBGIM.indexOf('copas')>=0)
					{
						//console.log("entra a copas");
						HOGPTRLBYH='20 copas';
						EABXADHEVT("TKYUFYJRRA");
					}
					else
					{
						//console.log("no entra a copas "+RPHWVBBGIM+" "+RPHWVBBGIM.indexOf('copas'));
					}
					
					if (RPHWVBBGIM.indexOf('espadas')>=0)
					{
						HOGPTRLBYH='20 espadas';
						EABXADHEVT("LFYAQLIDAI");
					}
					
					if (RPHWVBBGIM.indexOf('bastos')>=0)
					{
						HOGPTRLBYH='20 bastos';
						EABXADHEVT("CEDKIIHEHO");
					}
				}
				else
				{
					HOGPTRLBYH='20';
					EABXADHEVT("_Veinte");
				}
			
			}
			else
			{
				//HOGPTRLBYH='Estallido_40';
				HOGPTRLBYH='las 40';
				EABXADHEVT("CPBEWFVQIJ");
			}
			
			//1.0.8
			if (FReconectando(true)==false)
			{
				if(navigator.vibrate) {
					window.navigator.vibrate(300);
				}
			}
			
			log(false,"NPYBJSHIFL FTBVKLREAE: "+GCTYDSCWXE);
			
			
			
		
							
			 //1.0.8
			 
			if (TTCLPDJAMD!=undefined && TTCLPDJAMD.isRunning==false)
			{
				//var WTCIGMLJUY = YMHIHSNADE.add.image(0, 0, bmd);
				WTCIGMLJUY.revive();
				WTCIGMLJUY.alpha=0.7;
				WTCIGMLJUY.bringToTop();
				
				TTCLPDJAMD = YMHIHSNADE.add.tween(WTCIGMLJUY).to( { alpha: 0.7 }, 1000, KYFMRVNHIQ, true);
				TTCLPDJAMD.onComplete.add(  function(){
						TTCLPDJAMD = YMHIHSNADE.add.tween(WTCIGMLJUY).to( { alpha: 0 }, 500, KYFMRVNHIQ, false,1000,0);
						TTCLPDJAMD.onComplete.add(  function(){ 
							if (HOGPTRLBYH!='las 40')
							{
								EfectoMarcar20(Nosotros);
							}
							WTCIGMLJUY.kill();
						});
						TTCLPDJAMD.start();
						
						
						
						
					}
				);
			}
			else
			{
				if (HOGPTRLBYH!='las 40')
				{
					EfectoMarcar20(Nosotros);
				}
			}
			
			
			//2.0.1 FTBVKLREAE=YMHIHSNADE.add.image(GCTYDSCWXE,YSMHGCUJFD, 'general', HOGPTRLBYH);
			//2.0.1 FTBVKLREAE.anchor.setTo(0.5, 0.5);


			//YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
			//GrupoResidual.bringToTop();
			
			//FTBVKLREAE.bringToTop();
			var twBocadilloCanteLocal1;
			var twBocadilloCanteLocal2;
			//console.log("HOGPTRLBYH: "+HOGPTRLBYH);
			switch(STLEOJDWSU)
			{
				
				case "D":
			
					if (SegundoBocadillo==false)
					{
						twBocadilloCanteLocal1=JKHKJVHWPW;
						twBocadilloCanteLocal2=NBXIJWGIWP;
						HDKVJSOWVP.frameName=HOGPTRLBYH;
						HDKVJSOWVP.x=GCTYDSCWXE;
						HDKVJSOWVP.y=YSMHGCUJFD;
						FTBVKLREAE=HDKVJSOWVP;						
						HDKVJSOWVP.revive();
						//console.log("Deberia11");
						EfectoCante(JKHKJVHWPW,NBXIJWGIWP,HDKVJSOWVP);


					}
					else
					{
						twBocadilloCanteLocal1=JHWJFHWIWW;
						twBocadilloCanteLocal2=MNIIWIWIUD;	
						JBJKACHKHQ.frameName=HOGPTRLBYH
						JBJKACHKHQ.x=GCTYDSCWXE;
						JBJKACHKHQ.y=YSMHGCUJFD;						
						FTBVKLREAE=JBJKACHKHQ;								
						JBJKACHKHQ.revive();		
						//console.log("Deberia12");
						EfectoCante(JHWJFHWIWW,MNIIWIWIUD,JBJKACHKHQ);
								
					}
	
				
				break;

				case "L":
			
					if (SegundoBocadillo==false)
					{
						twBocadilloCanteLocal1=DSCHJGSVHJ;
						twBocadilloCanteLocal2=UIWYCUIHWU;
						YQRYRYCCPE.frameName=HOGPTRLBYH;
						YQRYRYCCPE.x=GCTYDSCWXE;
						YQRYRYCCPE.y=YSMHGCUJFD;
						FTBVKLREAE=YQRYRYCCPE;						
						YQRYRYCCPE.revive();
						EfectoCante(DSCHJGSVHJ,UIWYCUIHWU,YQRYRYCCPE);
					}
					else
					{
						twBocadilloCanteLocal1=NBSHGWHGWW;
						twBocadilloCanteLocal2=EHIEHUIEHU;	
						NVBNVWUOWY.frameName=HOGPTRLBYH
						NVBNVWUOWY.x=GCTYDSCWXE;
						NVBNVWUOWY.y=YSMHGCUJFD;						
						FTBVKLREAE=NVBNVWUOWY;								
						NVBNVWUOWY.revive();		
						EfectoCante(NBSHGWHGWW,EHIEHUIEHU,NVBNVWUOWY);						
					}
	
				
				break;


				case "R":
			
					if (SegundoBocadillo==false)
					{
						twBocadilloCanteLocal1=FJHJGFHGFO;
						twBocadilloCanteLocal2=HGHJGWKHAA;
						NMBAIUWICW.frameName=HOGPTRLBYH;
						NMBAIUWICW.x=GCTYDSCWXE;
						NMBAIUWICW.y=YSMHGCUJFD;
						FTBVKLREAE=NMBAIUWICW;						
						NMBAIUWICW.revive();
						EfectoCante(FJHJGFHGFO,HGHJGWKHAA,NMBAIUWICW);
					}
					else
					{
						twBocadilloCanteLocal1=AAAAJGHJGW;
						twBocadilloCanteLocal2=UIWYIEUCWW;	
						IUTWGTYUEW.frameName=HOGPTRLBYH
						IUTWGTYUEW.x=GCTYDSCWXE;
						IUTWGTYUEW.y=YSMHGCUJFD;						
						FTBVKLREAE=IUTWGTYUEW;								
						IUTWGTYUEW.revive();	
						EfectoCante(AAAAJGHJGW,UIWYIEUCWW,IUTWGTYUEW);						
					}
	
				
				break;


				case "U":
			
					if (SegundoBocadillo==false)
					{
						twBocadilloCanteLocal1=BBBJHKWOOW;
						twBocadilloCanteLocal2=MMSWJWIAHG;
						HJGAYUQIUQ.frameName=HOGPTRLBYH;
						HJGAYUQIUQ.x=GCTYDSCWXE;
						HJGAYUQIUQ.y=YSMHGCUJFD;
						FTBVKLREAE=HJGAYUQIUQ;						
						HJGAYUQIUQ.revive();
						EfectoCante(BBBJHKWOOW,MMSWJWIAHG,HJGAYUQIUQ);
					}
					else
					{
						twBocadilloCanteLocal1=HJGSXHJGSW;
						twBocadilloCanteLocal2=YYYWCGWCGW;	
						NVFWIWOWQQ.frameName=HOGPTRLBYH
						NVFWIWOWQQ.x=GCTYDSCWXE;
						NVFWIWOWQQ.y=YSMHGCUJFD;						
						FTBVKLREAE=NVFWIWOWQQ;								
						NVFWIWOWQQ.revive();		
						EfectoCante(HJGSXHJGSW,YYYWCGWCGW,NVFWIWOWQQ);								
					}
	
				
				break;
				
			}
			
			BNWHJGHWUW.add(FTBVKLREAE);
			YMHIHSNADE.world.bringToTop(BNWHJGHWUW);		
			


	

			

			
		}
		else
		{
			
			for (i=0; i<=QLNEIQGEDF.length-1;i++)
			{
				if(QLNEIQGEDF[i]==STLEOJDWSU)
				{
					XLAXKBPPMF=true;
				}
				
			}	
			
			if (XLAXKBPPMF==false)
			{
				//console.log("Pasa el AWCCMSCOPO "+RPHWVBBGIM);


				if (STLEOJDWSU=="D")
				{
					FTBVKLREAE=MUIUIFIUWE;
					textChat=MNVOJWOOWV;
				}
				
				if (STLEOJDWSU=="L")
				{
					FTBVKLREAE=HCNKWJHWXA;
					textChat=IUYCIUWOQB;
				}				
				
				if (STLEOJDWSU=="R")
				{
					FTBVKLREAE=HKJSHOWHOW;
					textChat=POWUIOFVDW;
				}		

				if (STLEOJDWSU=="U")
				{
					FTBVKLREAE=GHJGKGEIIE;
					textChat=KSDBOMSIWW;
				}
				
				FTBVKLREAE.kill()
				textChat.kill();		
				
				FTBVKLREAE.x=GCTYDSCWXE
				
				if (STLEOJDWSU=="D") //chapuza para desplazar el bocadillo del que habla.
				{
					FTBVKLREAE.x=FTBVKLREAE.x+500
				}
				
				
				FTBVKLREAE.y=YSMHGCUJFD
				FTBVKLREAE.alpha=0;
				FTBVKLREAE.revive();
				
				textChat.x=IFJRJXGGFY
				textChat.y=CWWHRMDADQ
				textChat.text=""
				textChat.alpha=0;
				textChat.revive();				
				
				//FTBVKLREAE=YMHIHSNADE.add.image(GCTYDSCWXE,YSMHGCUJFD, 'general', HOGPTRLBYH);
				BNWHJGHWUW.add(FTBVKLREAE);
				
				//textChat=YMHIHSNADE.add.bitmapText(IFJRJXGGFY, CWWHRMDADQ, 'MiFuenteNegra', 'BitmapText', 24);
				//textChat.anchor.set(0,0);
				
				BNWHJGHWUW.add(textChat);
				YMHIHSNADE.world.bringToTop(BNWHJGHWUW);
				BNWHJGHWUW.bringToTop;
				
				
			
				//esto es lo que pasa cuando tienes ganas de trabajar mucho
				RPHWVBBGIM=RPHWVBBGIM.substring(0,42);
				textChat.text=wordwrap(RPHWVBBGIM,15);
				textChat.alpha=0;

				switch(STLEOJDWSU)
				{
					case "D" :
					
						/*YMHIHSNADE.tweens.remove("NNXBXBHSHH");
						YMHIHSNADE.tweens.remove("MMSJJSJSUW");
						YMHIHSNADE.tweens.remove("BJHGSJHDGS");
						YMHIHSNADE.tweens.remove("IUWYIUFYCW");*/
						
						//console.log("kk "+NNXBXBHSHH);
						NNXBXBHSHH.pause();
						MMSJJSJSUW.pause();
						BJHGSJHDGS.pause();
						IUWYIUFYCW.pause();
						
						
						BJHGSJHDGS = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 1 }, 1500, KYFMRVNHIQ, true);
						BJHGSJHDGS.onComplete.add(  function(){
								IUWYIUFYCW = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,2000);
								IUWYIUFYCW.onComplete.add(  function(){
								//console.log("es raruno");
								//if (DQKYYAPEEN.isRunning==false && MJBCTSKUIB.isRunning==false)
								//{
									FTBVKLREAE.kill();//2.0.1 clave:rehuse
								//}
								//console.log("Destruido bocadillo de hablar imagen");
								})
							}
						
						);
						
						NNXBXBHSHH = YMHIHSNADE.add.tween(textChat).to( { alpha: 1 }, 1500, KYFMRVNHIQ, true);
						NNXBXBHSHH.onComplete.add(  function(){
								MMSJJSJSUW = YMHIHSNADE.add.tween(textChat).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,2000);
								MMSJJSJSUW.onComplete.add(  function(){
									
								//if (UMEOIIEQQD.isRunning==false && RWPENUDCCR.isRunning==false)
								//{
									//textChat.text="";
									textChat.kill();//2.0.1 clave:rehuse
									//console.log("Destruido bocadillo de hablar AWCCMSCOPO");
									
								//}
								
								})
							}
						
						);						
						
						/*DQKYYAPEEN=NNXBXBHSHH;
						MJBCTSKUIB=MMSJJSJSUW;
						UMEOIIEQQD=BJHGSJHDGS;
						RWPENUDCCR=IUWYIUFYCW;	*/	
						break;

					case "L" :
					
						/*YMHIHSNADE.tweens.remove("OOQQOQOOID");
						YMHIHSNADE.tweens.remove("QTQTQTQTQT");
						YMHIHSNADE.tweens.remove("NXWIWPWPQQ");
						YMHIHSNADE.tweens.remove("NMSBGIVWOT");*/
						
												
						OOQQOQOOID.pause();
						QTQTQTQTQT.pause();
						NXWIWPWPQQ.pause();
						NMSBGIVWOT.pause();
						
						NXWIWPWPQQ = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 1 }, 1500, KYFMRVNHIQ, true);
						NXWIWPWPQQ.onComplete.add(  function(){
								NMSBGIVWOT = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,2000);
								NMSBGIVWOT.onComplete.add(  function(){
								//console.log("es raruno");
								//if (DQKYYAPEEN.isRunning==false && MJBCTSKUIB.isRunning==false)
								//{
									FTBVKLREAE.kill();//2.0.1 clave:rehuse
								//}
								//console.log("Destruido bocadillo de hablar imagen");
								})
							}
						
						);
						
						OOQQOQOOID = YMHIHSNADE.add.tween(textChat).to( { alpha: 1 }, 1500, KYFMRVNHIQ, true);
						OOQQOQOOID.onComplete.add(  function(){
								QTQTQTQTQT = YMHIHSNADE.add.tween(textChat).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,2000);
								QTQTQTQTQT.onComplete.add(  function(){
									
								//if (UMEOIIEQQD.isRunning==false && RWPENUDCCR.isRunning==false)
								//{
									//textChat.text="";
									textChat.kill();//2.0.1 clave:rehuse
									//console.log("Destruido bocadillo de hablar AWCCMSCOPO");
									
								//}
								
								})
							}
						
						);						
						
						
						/*DQKYYAPEEN=OOQQOQOOID;
						MJBCTSKUIB=QTQTQTQTQT;
						UMEOIIEQQD=NXWIWPWPQQ;
						RWPENUDCCR=NMSBGIVWOT;	*/	
						break;						

					case "R":
								
						GSGGWGWGWG.pause();
						HGJCWICPWQ.pause();
						NNCHIEIEWW.pause();
						PPWPWWODJF.pause();
						
						NNCHIEIEWW = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 1 }, 1500, KYFMRVNHIQ, true);
						NNCHIEIEWW.onComplete.add(  function(){
								PPWPWWODJF = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,2000);
								PPWPWWODJF.onComplete.add(  function(){
								//console.log("es raruno");
								//if (DQKYYAPEEN.isRunning==false && MJBCTSKUIB.isRunning==false)
								//{
									FTBVKLREAE.kill();//2.0.1 clave:rehuse
								//}
								//console.log("Destruido bocadillo de hablar imagen");
								})
							}
						
						);
						
						GSGGWGWGWG = YMHIHSNADE.add.tween(textChat).to( { alpha: 1 }, 1500, KYFMRVNHIQ, true);
						GSGGWGWGWG.onComplete.add(  function(){
								HGJCWICPWQ = YMHIHSNADE.add.tween(textChat).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,2000);
								HGJCWICPWQ.onComplete.add(  function(){
									
								//if (UMEOIIEQQD.isRunning==false && RWPENUDCCR.isRunning==false)
								//{
									//textChat.text="";
									textChat.kill();//2.0.1 clave:rehuse
									//console.log("Destruido bocadillo de hablar AWCCMSCOPO");
									
								//}
								
								})
							}
						
						);								
						
						/*DQKYYAPEEN=GSGGWGWGWG;
						MJBCTSKUIB=HGJCWICPWQ;
						UMEOIIEQQD=NNCHIEIEWW;
						RWPENUDCCR=PPWPWWODJF;		*/
						break;
					
					case "U":
							
						NBMNABHJCG.pause();
						NXHWIWPWOW.pause();
						HJGWIOWOVD.pause();
						HQJHKJCHKW.pause();
						
						HJGWIOWOVD = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 1 }, 1500, KYFMRVNHIQ, true);
						HJGWIOWOVD.onComplete.add(  function(){
								HQJHKJCHKW = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,2000);
								HQJHKJCHKW.onComplete.add(  function(){
								//console.log("es raruno");
								//if (DQKYYAPEEN.isRunning==false && MJBCTSKUIB.isRunning==false)
								//{
									FTBVKLREAE.kill();//2.0.1 clave:rehuse
								//}
								//console.log("Destruido bocadillo de hablar imagen");
								})
							}
						
						);
						
						NBMNABHJCG = YMHIHSNADE.add.tween(textChat).to( { alpha: 1 }, 1500, KYFMRVNHIQ, true);
						NBMNABHJCG.onComplete.add(  function(){
								NXHWIWPWOW = YMHIHSNADE.add.tween(textChat).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,2000);
								NXHWIWPWOW.onComplete.add(  function(){
									
								//if (UMEOIIEQQD.isRunning==false && RWPENUDCCR.isRunning==false)
								//{
									//textChat.text="";
									textChat.kill();//2.0.1 clave:rehuse
									//console.log("Destruido bocadillo de hablar AWCCMSCOPO");
									
								//}
								
								})
							}
						
						);								
						
						/*DQKYYAPEEN=NBMNABHJCG;
						MJBCTSKUIB=NXHWIWPWOW;
						UMEOIIEQQD=HJGWIOWOVD;
						RWPENUDCCR=HQJHKJCHKW;	*/	
						break;				
					
				}
				
				YMHIHSNADE.world.bringToTop(BNWHJGHWUW);

	

			}
		}
	}
	
	if (NBWHWUQAAA==true)
	{
		console.log("RECUPERA_ Cantes");
		OGGWQECXBK(TXLWIIINGQ,false,false); //cantes
	}
	
	}
	catch(e){}
	
	
}

EsGuinote=function(key)
{
	if (key==1 || key==3 || key==11 || key==13 || key==21 || key==23 || key==31 || key==33)
	{
		return true;
	}
	else
	{
		return false;
	}
}
EfectoMarcar20=function(VIYQDHWIAA)
{
	var EDLRWACYRF=[];
	var GEFUYWBVWG=[];
	
	if (VIYQDHWIAA==true)
	{
		EDLRWACYRF=XYRJNHOCRB;
	}
	else
	{
		EDLRWACYRF=HAJIKEVCFP;
	}
	
	for (i=0;i<=EDLRWACYRF.length-1;i++)
	{
		GEFUYWBVWG.push(EDLRWACYRF[i]);
		//WWFSQDQYYU.add(GEFUYWBVWG[i])
		//NAYBJTKIKA(GEFUYWBVWG[i]);
		//GEFUYWBVWG[i].bringToTop();
	}
		
	var indiceCarta;
	var i;
	
	if (GEFUYWBVWG.length>0)
	{
		for (i=GEFUYWBVWG.length-1;i>=GEFUYWBVWG.length-1-3;i--)
		{
			console.log("KEY MARCAR: "+i+" "+GEFUYWBVWG[i].name+" "+GEFUYWBVWG[i].key);
			console.log("val "+ EsGuinote(GEFUYWBVWG[i].name)+" "+ GEFUYWBVWG[i].key.indexOf('baraja'))
			if( EsGuinote(GEFUYWBVWG[i].name)==false && GEFUYWBVWG[i].key.indexOf('baraja')!=0)
			{
				indiceCarta=i;
			}		
			
			

		}
		
		if (indiceCarta==undefined)
		{
			if (GEFUYWBVWG[GEFUYWBVWG.length-1].key.indexOf('baraja')==0)
			{
				indiceCarta=GEFUYWBVWG.length-2;
			}
			else
			{
				indiceCarta=GEFUYWBVWG.length-1;
			}
		}

		if (indiceCarta!=undefined)
		{
			var twDesplazaDerecha = YMHIHSNADE.add.tween(GEFUYWBVWG[indiceCarta]);
					twDesplazaDerecha.to( 
					{x:GEFUYWBVWG[GEFUYWBVWG.length-1].x+100}
					, MDYSFNYPYP, KYFMRVNHIQ);
					
					twDesplazaDerecha.onComplete.add( function(){
						GEFUYWBVWG[indiceCarta].bringToTop();
						NAYBJTKIKA(GEFUYWBVWG[indiceCarta]);
		
						var twDesplazaIzquierda=YMHIHSNADE.add.tween(GEFUYWBVWG[indiceCarta]);
						twDesplazaIzquierda.to( 
						{x:GEFUYWBVWG[indiceCarta].x-100}
						, MDYSFNYPYP, KYFMRVNHIQ);
						
						twDesplazaIzquierda.start();		
						
					});
					
					twDesplazaDerecha.start();		
		}
	}
			
		//	,y:PXEBTYBHGS,
		//		angle:0  
}


var wordwrap = function(long_string, max_char){
if (long_string== null) { return " "; }
else {

var sum_length_of_words = function(word_array){
    var out = 0;
    if (word_array.length!=0){
        for (var i=0; i<word_array.length; i++){
            var word = word_array[i];
            out = out + word.length;
        }
    };
    return out;
};


var chunkString = function (str, length){
    return str.match(new RegExp('.{1,' + length + '}', 'g'));
};

var splitLongWord = function (word, maxChar){
    var out = [];
    if( maxChar >= 1){
        var wordArray = chunkString(word, maxChar-1);// just one under maxChar in order to add the innerword separator '-'
        if(wordArray.length >= 1){
            // Add every piece of word but the last, concatenated with '-' at the end
            for(var i=0; i<(wordArray.length-1); i++){
                var piece = wordArray[i] + "-";
                out.push(piece);
            }
            // finally, add the last piece
            out.push(wordArray[wordArray.length-1]);
        }
    }
    // If nothing done, just use the same word
    if(out.length == 0) {
        out.push(word);
    }
    return out;
}

var split_out = [[]];
var split_string = long_string.split(' ');
for(var i=0; i<split_string.length; i++){
    var word = split_string[i];

    // If the word itself exceed the max length, split it,
    if(word.length > max_char){
        var wordPieces = splitLongWord(word, max_char);
        for(var j=0;j<wordPieces.length;j++){
            var wordPiece = wordPieces[j];
            split_out = split_out.concat([[]]);
            split_out[split_out.length-1] = split_out[split_out.length-1].concat(wordPiece);
        }

    } else {
        // otherwise add it if possible
        if ((sum_length_of_words(split_out[split_out.length-1]) + word.length+1) > max_char){
          split_out = split_out.concat([[]]);
        }

        split_out[split_out.length-1] = split_out[split_out.length-1].concat(word);
    }
}

for (var i=0; i<split_out.length; i++){
    split_out[i] = split_out[i].join(" ");
}

return split_out.join('\n');
};
}

BYBYBFHBOX=function(TFSXFTYVGQ,RPHWVBBGIM,NBWHWUQAAA)
{


	//window.location.hash = '#gamer';

	try
	{
		RPHWVBBGIM=RPHWVBBGIM.substring(0,60)
	}
	catch(e)
	{
		RPHWVBBGIM=""
	}
	//inputField.resetText();
	XIAPNYIGXV(TFSXFTYVGQ,RPHWVBBGIM,NBWHWUQAAA,false,false,false)
	if (EGPDVIEJEL==true && NBWHWUQAAA==false)
	{
		socket.emit('HXUNTIAKHM', RPHWVBBGIM,DFBVDPETGO,TFSXFTYVGQ,XPBCVAGCDQ[TFSXFTYVGQ-1].OBTBPOULAV,XPBCVAGCDQ[TFSXFTYVGQ-1].WWKVHIMWYD) ;
	}
}

XEMENNVXGV=function()
{
	
	try
	{
		//if (socket.id==undefined)
		if(SNJCSVWFCC()==false)
		{
			console.log("Se mete a conectar");
			socket = io.connect(JHGHJAGCMC,{reconnection: true,  
					reconnectionDelay: 2000,
					reconnectionDelayMax : 2500,
					reconnectionAttempts: BBWEGOPQUF,
					'max reconnection attempts' : BBWEGOPQUF,
					ForceNew : false,
					connect_timeout : 2000,
					timeout :2500
				//'connection timeout':5000
				//timeout :5
				// transports: ['websocket'],
				//'force new connection': true
			}
			);
			//IJCSKNTKVH
			
			
			BNCAIUQIJJ=false;
			////console.log("inicia setevent proxima");
			//if (BNCAIUQIJJ==false)
			//{
			//	//console.log("inicia setevent");
			//	BNCAIUQIJJ=true;
				setEventHandlers();				
			//}
			
		}
	}
	catch(err) 
	{
		console.log(err);
	}
	////console.log("Intento de reconexión "+JKCANKPQBB);

}

ConectaServidorPrueba=function()
{
	DesdeMinimizado=true;
	XEMENNVXGV();

}
JVEHDHOEEM=function(NoConectar){
	
	/*if ( lPermisoHabilitado==false )
	{
		return false;
	}*/
	if (RecienInstalado==true)
	{
		var d=document.getElementById('DivAudioGoogle');
		d.style.display = 'block';
		
		//socket.emit("RECIEN INSTALADO");
		//RecienInstalado=false;
	}
	else
	{
		if (checkConnection()==true)
		{	
			////console.log("inicio si");
			//BotonTeclado.revive();
			//BotonTeclado2.revive();
			JKCANKPQBB=0;
			CUUKQAGFEB.x=QETACVSHAR+150;
			CUUKQAGFEB.revive();
			//BNCAIUQIJJ=false;
			////console.log("Conecta: Llamada JVEHDHOEEM")		
		
			/*if (SNJCSVWFCC()==true)
			{
				YTUGCWECJC=false;
				try
				{
					socket.disconnect();
					socket=null; 
					DFBVDPETGO=Math.floor(Math.random());
				}
				catch(e){}
			}*/
			
			//if (NoConectar!=true) //Creaba sockets sin conocimiento
			//{
				XEMENNVXGV();
			//}
			
			DVNRTQIWGL=1; //1.0.4
			UEHYPTREIH.kill();
			IBECDOLWLN.kill();
			//POEICHMHDL.kill(); //1.0.8
			RIHFCSEMIJ.kill();
			//EFKTQSXAMA.kill();
			//LNJDKEVPQE.kill();
			
			EGPDVIEJEL=true;
			
			QSAXUCPASV();
			WNEWPCNXPA();
			log(true,"Entra en multijugador");
			
			
			//IEQDMBJCAY.frameName= 'cantar gris';		//asd
			//YGTNAODFHW.frameName='cambiar 7 gris';
			
			PAHJCWBNJH();
			NMABWIWAAA();
			//YGTNAODFHW.loadTexture('Boton_cambiar_7_off', 0);	//asd
			
			
			
			//log(false,User);

			////console.log("J");
			RevivirTextCuentaMundo();
			//JKLJKLRIRI.text="KK";
			
			
			if (SNJCSVWFCC()==true)
			{
				////console.log("Arriba");
				socket.emit('PIXQSCGEJH', DFBVDPETGO,socket.id, false,SFKLFIJOIO,ObjetoG) ;
				//socket.emit('WHGHJCGWWQ',socket.id);
				socket.emit('JKHWJKHIWF');
			
			}
			/*else 1.0.8
			{
				////console.log("Abajo");
				//console.log("Conecta: Llamada InicioMultiJugador2 ");			
				XEMENNVXGV();
				
			}*/

		}
		else
		{
			////console.log("inicio no");
		}
	}
}

KKJJKHAJHK=function(Modalidad,Sala)
{
	//NGHJWGJHWG(); //1.0.8
	
	if (FSKHWVCMCA==false)
	{	


		QSAXUCPASV();
		WNEWPCNXPA();	

		FSKHWVCMCA=true;
		var timerbotonesbloqueados=YMHIHSNADE.time.create(true);
		timerbotonesbloqueados.add(5000, function()
		{
			FSKHWVCMCA=false;
		});
		
		
		POEICHMHDL.kill();
		BUJELVTIKU.kill();
		CUUKQAGFEB.revive();
		//1.0.8 CUUKQAGFEB.x=QETACVSHAR;
		
		DVNRTQIWGL=1; //CHANCE antes ponia 1 //1.0.4

		NFARLTEOCI();
		
		if (SNJCSVWFCC()==true)
		{
			socket.emit('PRHGDXYEOQ', socket.id, true,Modalidad,Sala,SFKLFIJOIO,ObjetoG) ; //0: LXGKVFJUFT  1: Amigos
		}
	}
}

LLKJWWDFFF=function()
{
	
	/*if ( lPermisoHabilitado==false )
	{
		return false;
	}*/
	
	if (checkConnection()==true)
	{	
		KKJJKHAJHK(0,false);//LXGKVFJUFT
	}
}

CMREMHOJIN=function(){

		var HKCERVLWFB = getUrlVars()["HKCERVLWFB"];
		//alert(HKCERVLWFB);
		if (HKCERVLWFB=="g#" || HKCERVLWFB=="g")
		{
			//alert("entra");
			BNCAIUQIJJ=false;
			////console.log("Conecta: Llamada CMREMHOJIN");			
			JVEHDHOEEM(true);
		}

}

OCSBJTDODP=function(){
	
	/*if ( VXEWRTCPMM==false )
	{
		return false;
	}*/
		

	XEMENNVXGV();
	
	//if (DJLLBCJWNT==true)
	//{
		UEHYPTREIH.kill();
		IBECDOLWLN.kill();
		POEICHMHDL.kill(); //1.0.8
		RIHFCSEMIJ.kill();
		EFKTQSXAMA.kill();
		LNJDKEVPQE.kill();
		JKLJKLRIRI.kill();
		TextGbits.kill();
		TextGbitsIndicador.kill();
		bolsa_dinero.kill();
		
		
		EGPDVIEJEL=false;
		
		QSAXUCPASV();
		WNEWPCNXPA();	
		
		
		TFSXFTYVGQ=1;
		ESKTEXAVHU=1;
		MYQBNBVHKU=true;
		
		XIQDONAJMM.kill();
		KVBNWXDTON.revive();
			
		//ETKKAJPFXQ(4); //ILA RDBQUAVHEP
		KPQSPDMKJE(4);
		//JQSOOBSDDS()
		
		
		//IEQDMBJCAY.loadTexture('Boton_cantar_off', 0);		
		//YGTNAODFHW.loadTexture('Boton_cambiar_7_off', 0);		
		//IEQDMBJCAY.frameName= 'cantar gris';		//asd
		//YGTNAODFHW.frameName='cambiar 7 gris';
		PAHJCWBNJH();
		NMABWIWAAA();
			
	//}
	//else
	//{
	//	VSXSYEUABW("Versión Obsoleta. Actualícese.",false);
		
	//}

}



SVLGSBPKGJ=function() {
	var NJWWPODLWD;
	
	if (EGPDVIEJEL==false)
	{
		log(false,"DVNRTQIWGL en RTOSLKFWHC AWCCMSCOPO: "+DVNRTQIWGL)
		if(TFSXFTYVGQ==1) {
			if(DVNRTQIWGL==2){
				NJWWPODLWD="Es el turno del jugador de su derecha"
			}
			if(DVNRTQIWGL==3){
				NJWWPODLWD="Es el turno de su compañero"
			}		
			if(DVNRTQIWGL==4){
				NJWWPODLWD="Es el turno del jugador de su izquierda"
			}			
		}

		if(TFSXFTYVGQ==2) {
			if(DVNRTQIWGL==3){
				NJWWPODLWD="Es el turno del jugador de su derecha"
			}
			if(DVNRTQIWGL==4){
				NJWWPODLWD="Es el turno de su compañero"
			}		
			if(DVNRTQIWGL==1){
				NJWWPODLWD="Es el turno del jugador de su izquierda"
			}			
		}	
		
		if(TFSXFTYVGQ==3) {
			if(DVNRTQIWGL==4){
				NJWWPODLWD="Es el turno del jugador de su derecha"
			}
			if(DVNRTQIWGL==1){
				NJWWPODLWD="Es el turno de su compañero"
			}		
			if(DVNRTQIWGL==2){
				NJWWPODLWD="Es el turno del jugador de su izquierda"
			}			
		}	

		if(TFSXFTYVGQ==4) {
			if(DVNRTQIWGL==1){
				NJWWPODLWD="Es el turno del jugador de su derecha"
			}
			if(DVNRTQIWGL==2){
				NJWWPODLWD="Es el turno de su compañero"
			}		
			if(DVNRTQIWGL==3){
				NJWWPODLWD="Es el turno del jugador de su izquierda"
			}			
		}
	}
	else
	{
		NJWWPODLWD=" Es el turno de "+XPBCVAGCDQ[DVNRTQIWGL-1].WWKVHIMWYD
	}
	return NJWWPODLWD;
}


//2.0.1 01/02/2018
/*function dragUpdate(sprite, pointer, dragX, dragY, snapPoint) {

  	var index;
	 for ( var i = 0; i < AGKVNAGGLB.length; i++){
		if (AGKVNAGGLB[i].UUOPKETETA==sprite.name){
			index=i;
			break;
		}	 
	 }

	 //log(false,"Moviendo "+AGKVNAGGLB[index].HVCFEWNDRF+" de "+AGKVNAGGLB[index].SGCSHJVERI+" "+pointer.x)
	
	 for ( var i = 0; i < AGKVNAGGLB.length; i++){
		YMHIHSNADE.physics.arcade.overlap(AGKVNAGGLB[i].TNFAGGMKXD, AGKVNAGGLB[i], MDBPQGPDUY, null, this);
	}
	

}

MDBPQGPDUY=function(sprite, spriteColision) {
	log(false,"Colisionando ");
};*/

 
//2.0.1 01/02/2018 
/*Level.prototype.update=function(){
	
	try{
		SYXHGDSJDY.sort('y', Phaser.Group.SORT_ASCENDING);
		BDRJVGFWQH.sort('y', Phaser.Group.SORT_DESCENDING);	
	}
	catch(e){}


	
};*/





/*var JHIWUIUYCJ = function(AURESXCGMK,Sala){
	this.AURESXCGMK=AURESXCGMK
	this.Sala=Sala
};
*/

var JHIWUIUYCJ = function(AURESXCGMK,Sala,Cerrada,WWKVHIMWYD,BONQVNOXDP,QHHQPXWFNG,LIHWIHIUVH,XJARYUVBCB,ReconectadoFecha,EJOYNSESRD,IRQGAFESIC,Amigo,OBTBPOULAV,KKUYGYRGYG, LKKDKDNMNR,JJHFHGHSUI,UHYGLMAUNK,NBJHGSFSJS,
	OIUIOWCHVW,NHWYTYUSYG,NMABCQQCDD, AMBCNABIQQ){
		
	this.AURESXCGMK=AURESXCGMK;
	this.Sala=Sala;
	this.SalaCerrada=Cerrada;
	this.WWKVHIMWYD=WWKVHIMWYD;
	this.BONQVNOXDP=BONQVNOXDP;
	this.QHHQPXWFNG=QHHQPXWFNG;
	this.LIHWIHIUVH;
	this.XJARYUVBCB=XJARYUVBCB;
	this.ReconectadoFecha=ReconectadoFecha;
	this.EJOYNSESRD=EJOYNSESRD;
	this.IRQGAFESIC=IRQGAFESIC;
	this.Amigo=Amigo
	this.OBTBPOULAV=OBTBPOULAV
	this.KKUYGYRGYG=KKUYGYRGYG
	this.LKKDKDNMNR=LKKDKDNMNR
	this.UHYGLMAUNK=UHYGLMAUNK
	this.NBJHGSFSJS=NBJHGSFSJS
	this.OIUIOWCHVW=OIUIOWCHVW
	this.NHWYTYUSYG=NHWYTYUSYG	
	this.NMABCQQCDD=NMABCQQCDD; //2.0.1 20180210
	this.AMBCNABIQQ=AMBCNABIQQ
	
	this.Viva=true;
	this.Acabada=false;
	this.JugadorSalaAnterior=AURESXCGMK
	this.JJHFHGHSUI=JJHFHGHSUI
};

setEventHandlers = function () { //ESTE
  // Socket connection successful
  //YMHIHSNADE.add.text(390, 400,"laiolailo", { font: '16px Arial', fill: '#ffffff' });
  
  
  socket.on('connect', AYAOSXTCBR);
  
  socket.on('reconnect_attempt', function()
  {
	  JKCANKPQBB++;
	  //console.log("Intento de conexión "+JKCANKPQBB);
	
	if (EGPDVIEJEL==true)
	{
		//var timerErrorConexion = YMHIHSNADE.time.create(false);
		//timerErrorConexion.add(5000,function(){
		//	timerErrorConexion.stop();
		//	if (SNJCSVWFCC()==true)
		//	{

		//if (JKCANKPQBB==2)
		//{
			if (YTUGCWECJC==true)
			{
				SVHMCOYULR("Intentando reconectar..."+JKCANKPQBB);
			}
		//}
		YTUGCWECJC=true;
	
		//console.log("IYSEFXCNWF global "+BBWEGOPQUF);
		if (JKCANKPQBB>=BBWEGOPQUF)	
		{
			//FHKOYDXPCL(); 1.0.81
			//JHKWHCWKWC();
			FHKOYDXPCL(); //madremia
			MHELAUXKXR();
			XEMENNVXGV();	//2.0.7 Para seguir el mismo criterio que el resto de MHELAUXKXR.
			
		}
		
			
	}


	  
  });
  
  

  
  
  socket.on('reconnect', function()
  {
	  JKCANKPQBB=0;
	 console.log("RECONECTADO DE RECONECT");
	if (EGPDVIEJEL==true) //2.0.1 clave:papa
	{
		if (KYLIAIETHX==false)
		{
		  //socket.emit('Consola',"HE RECONECTADO");
		}
		//alert("oe");
		  
			
		  var i;
		  if (EFKTQSXAMA.alive==true || UEHYPTREIH.alive==true || XPBCVAGCDQ.length==0)
		  {
			  //MHELAUXKXR();
			  MYQBNBVHKU=true;
			  FHKOYDXPCL(); //madremia
			  MHELAUXKXR();
			  XEMENNVXGV();		  
		  }
		  else
		  {		 
			  
			  ////console.log("ARRAY DE LA SALA "+XPBCVAGCDQ);
			  //if (XPBCVAGCDQ.length>0) 
			  //{
				  SVHMCOYULR("¡Reconectado!"+ XPBCVAGCDQ[TFSXFTYVGQ-1].WWKVHIMWYD);
				console.log("Envio al server reconectando "+socket.id);
				//alert("Envio al server reconectando "+socket.id)
				  socket.emit("Reconectado", XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK,XPBCVAGCDQ[TFSXFTYVGQ-1].Sala,false,socket.id,MQUGCIUQII);	  
			  
			  //}
			  /*else
			  {
				   ////console.log("MUY RARO");
				  if (EGPDVIEJEL==true)
				  {
					//jojo FHKOYDXPCL();
					FHKOYDXPCL(); //madremia
					MHELAUXKXR();
					XEMENNVXGV();				
				  }
			  }*/
		  }
	}
  });

  socket.on('VOUQWLMKWW', CURCDCWNHB);
  socket.on('UAKKKJVTUK', DVCXGBTNWL);
  socket.on('BBDIWBRGXG', onSocketControl);
 
  socket.on('disconnect', RWOCHOBYJY);
 
  
  socket.on('OUPPFUDFTA', function(data,callback)
  {
	  ////console.log(data);
	  ////console.log("En OUPPFUDFTA toma el control "+data.QuienTomaControl)
  
	  if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
		  NSIRYROROW(data.JugadoresEnSala,data.SalaJoin,data.ArrayEnviar,data.ESKTEXAVHU,false)
		  return callback(data.OYJAHGADFQ);
	  }
	  else
	  {
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);
	  }
  }
  );
  
  
  
  socket.on('FFGKWCDVFE', function(data,callback)
  {
	  ////console.log(data);	  
	  //BorrarTareasObsoletas();
	  if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
		  KLDULSMKMA(data.data,data.RDBQUAVHEP,data.MQUGCIUQII,false)
		  return callback(data.OYJAHGADFQ);
	  }
	  else
	  {
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);
	  }
	  
	  
  }
  );
  
  socket.on('VMCFXIVSKH', function(data,callback)
  {
	  ////console.log(data);

	  
	  if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
		  XWGQYYRRQO(data.UHTPGPRUJA,data.SJVCMXWVVI,data.BBSGITWRQX,false)
		  return callback(data.OYJAHGADFQ);
	  }
	  else
	  {
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);
	  }
	  
  }
  );
  
 // socket.on('tareas_pendientes_desde_server', onSocketTareasPendientesDesdeServer);

  socket.on('PMXHPCMRIF',  function(data,callback)
  {   
	  //console.log("grrr 5 "+MazoOBuffer(data.UHTPGPRUJA,data.AGTXFNIKQD)+" "+ MoverCentroAjenoVerifica(data.UHTPGPRUJA,data.SJVCMXWVVI,data.Turno,data.QKVJASWVEO,false));
	  console.log("DATA DE CARTA "+data.MQUGCIUQII)
	  if (HMVFLEYPXM.length==0 && FReconectando()==false && MazoOBuffer(data.UHTPGPRUJA,data.AGTXFNIKQD)==true
		  && MoverCentroAjenoVerifica(data.UHTPGPRUJA,data.SJVCMXWVVI,data.AGTXFNIKQD,data.QKVJASWVEO,false)==true ) //data.Turno o data.AGTXFNIKQD
	  {
			NOGEVUYFEW(data.UHTPGPRUJA,data.SJVCMXWVVI,data.Turno,data.AGTXFNIKQD,data.QKVJASWVEO,false)
		   return callback(data.OYJAHGADFQ);
	  }
	  else
	  {
		 console.log("Al buffer " + data.SJVCMXWVVI+" con id "+data.OYJAHGADFQ);
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);
	  }
	  
  }
  );
 
  
  socket.on('VOJPSKOTNY', function(data,callback)
  {
	  ////console.log(data);
	  
	  if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
		  NUWTGXUUTS(false,false);
		return callback(data.OYJAHGADFQ);
	  }
	  else
	  {
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);
	  }
	  
	  
  }
  );

  socket.on('IPGXRVPSID',  function(data,callback)
  {
	  ////console.log(data);
	  if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
		TGLVJXEMKD(data.UHTPGPRUJA,data.OMDVKATFLQ,data.AWCCMSCOPO,false)
		 return callback(data.OYJAHGADFQ);
	  }
	  else
	  {
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);
	  }
	 
  }
  );  
  
  socket.on('RNLCJXJTGF', function(data,callback)
  {
	  ////console.log(data);
	  
	   if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
		  MBDMSUIWEH(data.UHTPGPRUJA,data.SJVCMXWVVI,false)
		  return callback(data.OYJAHGADFQ);
	  }
	  else
	  {
		  //console.log("Cambio 7 en buffer "+data.UHTPGPRUJA);
		  //console.log("Cambio 7 en buffer "+data.RHOLNWBOXR);
		  ////console.log("Metemos en array tareas jugador "+data[0].UHTPGPRUJA);
		 // //console.log("Metemos en array tareas "+data[0].RHOLNWBOXR);
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);
	  }
  }
  );
  
  
  socket.on('HKJSDHFUIW', function(data,callback)
  {
	  ////console.log(data);

	  
	  if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
		  MCMWUEHUWH(data.ArrayDelaPropiaSalaClienteOrdenada,data.RDBQUAVHEP)
		  return callback(data.OYJAHGADFQ);
	  }
	  else
	  {
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);;
	  }
	  
  }
  );
  
   socket.on('KJHKHEIEIE', function(data,callback)
  {
	  ////console.log(data);

	  
	  if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
		  BMNBIWEGUY();
		  return callback(data.OYJAHGADFQ);
	  }
	  else
	  {
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);
	  }
	  
  }
  );  
  
  socket.on('OYYQISPRTK', function(data,callback)
  {
	  ////console.log(data);
	  VMSUJQUAGD(data.data,data.QuienHabla)
	  return callback(data.OYJAHGADFQ);
  }
  );
  
  
  socket.on('GCOMOMYQBP', function(data,callback)
  {
	  ////console.log(data);
	  
	  
	  if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
	  GDRQVXOCBL(data.SSUNXNEEHN,data.WWKVHIMWYD,data.posicionJugador,data.EFWXTVMKRH,data.ESKTEXAVHU,false) //1.0.8 Añado EFWXTVMKRH
	  return callback(data.OYJAHGADFQ);
	   }
	  else
	  {
		  var Pasar=[];
		  Pasar.push(data)
		  LVEMXLIFKA(Pasar);
		  return (0);
	  }
  }
  );
  
  
 
 socket.on('TGUUXMBTHT', function(data,callback)
  {
	  
	  ////console.log(data);
	//if (data.NuevoId!=undefined)
	//{
	
	
		if (HMVFLEYPXM.length==0 && FReconectando()==false)
	  {
			   console.log("lo flipo1: "+data.NuevoId) //borrar
			  //KTBOJTXFEU.splice(0,1000); 2.0.7
			  BCVWETKAKG(data.SSUNXNEEHN,data.WWKVHIMWYD,data.posicionJugador,data.NuevoId, data.ArraySalaEnviar, data.ESKTEXAVHU,data.ArrayTareasServidor,false)
			  return callback(data.OYJAHGADFQ);
		}
		  else
		  {
			  console.log("lo flipo2: "+data.NuevoId) //borrar
			  var Pasar=[];
			  Pasar.push(data)
			  LVEMXLIFKA(Pasar);
			  return (0);
		  }
	//}
  }
  );


 //socket.on("connect_failed", FGRXSJFOOH); //2.0.1. Suficiente con el envento disconnect
 // socket.on("connect_error", MNTKNVATCM);  //2.0.1. Suficiente con el envento disconnect
  socket.on("ITHUWHNFDP", TJDBATCOYY);
  socket.on("IOWWFUHGJF", VSXSYEUABW);
  socket.on("XRIVHTTLDJ",QAFLUOOCBX);
  socket.on("QTDWAKRJNR", SRUKEMRQNI);
  
  socket.on('JWNXDMIDXW', onSocketErrorDesdeServer);
  
 
	socket.on('NNSGGWRWTY',HAJAHHHETE);
	
	/*socket.on('PPLWIHVSDV', function(data,callback)
	  {
		  ////console.log(data);
		  JHWIQQCLKD(data.DFBVDPETGO)
		  return callback(data.OYJAHGADFQ);
	  }
	  );*/
	  
	  socket.on('JHSJKVSKKW', function()
	  {
		  IFMJVFFEQN.kill();
		  PANPKTGSCV.kill();
		  HRGDCMPPKU.kill();
	  });

}; //ESTE

onSocketControl=function(QuienTomaControlServer)
{
	//console.log("Recibo el control "+QuienTomaControlServer)
	var ControlAnterior=ESKTEXAVHU;
	
	if (QuienTomaControlServer!=0)
	{
		ESKTEXAVHU=FHDOFSEVXQ(QuienTomaControlServer);
		
	}
	else
	{
		if (XPBCVAGCDQ.length>=4) //con app no recibe quien manda
		{
			ESKTEXAVHU=-1;
		}
	}
	
	/*if (ESKTEXAVHU!=ControlAnterior && FReconectando()==false)
	{
		TKXPPGUPVV.stop();
		HUUCUYFBLW.stop();
		GIDSSFEUNT(); //revision
	}*/
	
}

DesbloquearID=function(TXLWIIINGQ)
{
	var i;
	console.log("INTENTO DESBLOQUEO "+TXLWIIINGQ);

	
	i=REDYBSYSNN.length;
	while (i--)
	{
		if (REDYBSYSNN[i]==TXLWIIINGQ)
		{
			console.log("DESBLOQUEO "+TXLWIIINGQ);
			REDYBSYSNN.splice(i,1);							
		}			
	}
	
}
FLKJPGBHIN=function(TXLWIIINGQ)
{
	var i;
	var YDKUWQRCLM=false;
	
	
	
	if(REDYBSYSNN.length>0)
	{
		
		for (i=0;i<=REDYBSYSNN.length-1;i++)
		{
			console.log("ESTAN BLOQUEADAS LAS TAREAS "+REDYBSYSNN)
		}
		
		if ( HMVFLEYPXM[0].RHOLNWBOXR=="FFGKWCDVFE")
		{
			YDKUWQRCLM=true; //y no lo meto en el array de nuevo
		}
		else
		{
			YDKUWQRCLM=false;
		}
		
		
	}
	else
	{
		
		YDKUWQRCLM=true;		
		if (ArrayBloqueoTareasBack.includes(TXLWIIINGQ)==false)
		{
			REDYBSYSNN.push(TXLWIIINGQ)	
			ArrayBloqueoTareasBack.push(TXLWIIINGQ)
		}
	}
	
	return YDKUWQRCLM;	
}

/*GestorAccionesLibre=function(idAccion)
{
	var i;
	var YDKUWQRCLM=false;
	
	if(ArrayAcciones.length>0)
	{
		YDKUWQRCLM=false;
	}
	else
	{
		YDKUWQRCLM=true;
		ArrayAcciones.push(idAccion)	
	}
	
	return YDKUWQRCLM;	
}*/

DevuelveNombreCartaDebug=function(Key)
{
	var AWCCMSCOPO;
	var SGCSHJVERI;
	
switch (Key)
	{
		case 8:
			AWCCMSCOPO="sota";
			break;
		case 9:
			AWCCMSCOPO="caballo";
			break;	
		case 10:
			AWCCMSCOPO="rey";
			break;	
			
		case 18:
			AWCCMSCOPO="sota";
			break;
		case 19:
			AWCCMSCOPO="caballo";
			break;	
		case 20:
			AWCCMSCOPO="rey";
			break;	

		case 28:
			AWCCMSCOPO="sota";
			break;
		case 29:
			AWCCMSCOPO="caballo";
			break;	
		case 30:
			AWCCMSCOPO="rey";
			break;	

		case 38:
			AWCCMSCOPO="sota";
			break;
		case 39:
			AWCCMSCOPO="caballo";
			break;	
		case 40:
			AWCCMSCOPO="rey";
			break;				
		
		default:
			AWCCMSCOPO="";
			break;
	}
	
	

	
	if(Key<=10)
	{
		SGCSHJVERI="oros"
		if (AWCCMSCOPO=="")
		{
			AWCCMSCOPO=Key
		}

	}
	else
	{
		if(Key<=20)
		{
			SGCSHJVERI="copas"
			if (AWCCMSCOPO=="")
			{
				AWCCMSCOPO=Key-10
			}			

		}
		else
		{
			if(Key<=30)
			{
				SGCSHJVERI="espadas"
				if (AWCCMSCOPO=="")
				{
					AWCCMSCOPO=Key-20
				}				

			}
			else
			{
				SGCSHJVERI="bastos"	
				if (AWCCMSCOPO=="")
				{
					AWCCMSCOPO=Key-30
				}				
			}		
		}	
	}

	var NMBAYQIQHE=AWCCMSCOPO+" "+SGCSHJVERI;
	return NMBAYQIQHE;
}

LVEMXLIFKA=function(ArrayTareasServidor,New)
{
	var i;
	var u;
	var VEFCIYHBGC;
	var ArrayPasar;
	var RRTXUSXBQW=true;
	var EstabaRelleno=false
	
	if (ArrayTareasServidor!=null)
	{
		for(i=0;i<=ArrayTareasServidor.length-1;i++)
		{
			if (JVQXQGYDHH==0 && CNCCBHQJKL==0 && EVAILWGGKX==false && UHHXSNXXJK==0 && PXGXKDDNFK==0) //2.0.1 clave:reinicio
			{
				if (ArrayTareasServidor[i].RHOLNWBOXR=="KJHKHEIEIE" || ArrayTareasServidor[i].RHOLNWBOXR=="HKJSDHFUIW")
				{
					RRTXUSXBQW=false;
					FHKOYDXPCL();
					MHELAUXKXR();
					XEMENNVXGV();						
				}
			}
		}
	}
	else
	{
		console.log("LVEMXLIFKA. No hay tareas nuevas")
	}
	


	if (RRTXUSXBQW==true)
	{
	
		//2.0.1 clave:reinicio quito esto de la lista: 'HKJSDHFUIW','KJHKHEIEIE',
		var DGUPRQJRLP=['OUPPFUDFTA','FFGKWCDVFE','VMCFXIVSKH','PMXHPCMRIF',
		'VOJPSKOTNY','IPGXRVPSID','RNLCJXJTGF','GCOMOMYQBP','TGUUXMBTHT',
		'salir_pantalla_principal']
		//var timerTareas=YMHIHSNADE.time.create(false);
		
		if (ArrayTareasServidor!=null)
		{
			//if (HMVFLEYPXM.length==0) 2.0.7 Intentando simplificar sin buffer.
			//{
				console.log("Longitud a rellenar "+ArrayTareasServidor.length);
				
				var LongitudTareasAntesInsertar=HMVFLEYPXM.length;
				
				for (i=0;i<=ArrayTareasServidor.length-1;i++)
				{
					VEFCIYHBGC=false;
					
					if (DGUPRQJRLP.includes( ArrayTareasServidor[i].RHOLNWBOXR )==true && JSNTWHPRIL.includes( ArrayTareasServidor[i].IdMsgUnico )==false   
					&&  !(  ArrayTareasServidor[i].RHOLNWBOXR=="GCOMOMYQBP" 
							&& (EstaArray(ArrayTareasServidor[i].SSUNXNEEHN,XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK) ) )
					//&&  !(  (ArrayTareasServidor[i].RHOLNWBOXR=="TGUUXMBTHT" || ArrayTareasServidor[i].RHOLNWBOXR=="GCOMOMYQBP" ) 
					//		&& (EstaArray(ArrayTareasServidor[i].SSUNXNEEHN,XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK) ) )
					
					)
					{
						for (u=0;u<=HMVFLEYPXM.length-1;u++)
						{
							//console.log("Obvialo "+HMVFLEYPXM[u].OYJAHGADFQ+" "+ArrayTareasServidor[i].OYJAHGADFQ)
							if (HMVFLEYPXM[u].OYJAHGADFQ==ArrayTareasServidor[i].OYJAHGADFQ   )
							{
								VEFCIYHBGC=true;
								console.log("Misteriosamente lo he encontrado");
							}
						}
						
						if (VEFCIYHBGC==false)
						{
							
							if (LongitudTareasAntesInsertar>0)
							{
								console.log("ESTABA RELLENO "+HMVFLEYPXM[0].RHOLNWBOXR)
								EstabaRelleno=true;
							}								

							if (ArrayTareasServidor[i].RHOLNWBOXR=="PMXHPCMRIF")
							{
								console.log("Lo relleno "+DevuelveNombreCartaDebug(ArrayTareasServidor[i].SJVCMXWVVI));
							}
							else
							{
								console.log("Lo relleno pero es "+ArrayTareasServidor[i].RHOLNWBOXR);
								console.log(ArrayTareasServidor[i].SSUNXNEEHN);
								if (XPBCVAGCDQ.length>0)
								{
									console.log(XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK);
								}
								//console.log(XPBCVAGCDQ[TFSXFTYVGQ-1].JugadorSalaAnterior);
								
							}
							console.log("Inserto tarea "+ArrayTareasServidor[i].RHOLNWBOXR)
							HMVFLEYPXM.push(ArrayTareasServidor[i])
							JSNTWHPRIL.push(ArrayTareasServidor[i].IdMsgUnico)
						}
						
					}
					else
					{
						console.log("No grabo "+ArrayTareasServidor[i].RHOLNWBOXR)
						if (ArrayTareasServidor[i].RHOLNWBOXR=="PMXHPCMRIF")
						{
							console.log("No grabo " +DevuelveNombreCartaDebug(ArrayTareasServidor[i].SJVCMXWVVI))
						}
						/*console.log("No grabo2 "+JSNTWHPRIL.includes( ArrayTareasServidor[i].OYJAHGADFQ ))
						console.log("No grabo3 "+DGUPRQJRLP.includes( ArrayTareasServidor[i].RHOLNWBOXR ))
						console.log("No grabo4 "+!(  (ArrayTareasServidor[i].RHOLNWBOXR=="TGUUXMBTHT" || ArrayTareasServidor[i].RHOLNWBOXR=="GCOMOMYQBP" ) 
							&& ( EstaArray(ArrayTareasServidor[i].SSUNXNEEHN,XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK ))))*/
					}
				}
			//}
			/*else 2.0.7 Intentando simplificar sin buffer
			{
				for (i=0;i<=ArrayTareasServidor.length-1;i++)
				{
					
					VEFCIYHBGC=false;
					
					if (DGUPRQJRLP.includes( ArrayTareasServidor[i].RHOLNWBOXR )==true && JSNTWHPRIL.includes( ArrayTareasServidor[i].OYJAHGADFQ )==false   )
					{
						for (u=0;u<=RLEHYYGBGQ.length-1;u++)
						{
							////console.log("Obvialo "+RLEHYYGBGQ[u].OYJAHGADFQ+" "+ArrayTareasServidor[i].OYJAHGADFQ)
							if (RLEHYYGBGQ[u].OYJAHGADFQ==ArrayTareasServidor[i].OYJAHGADFQ   )
							{
								VEFCIYHBGC=true;
								////console.log("Misteriosamente lo he encontrado");
							}
						}
						
						if (VEFCIYHBGC==false)
						{
							//console.log("Lo relleno");
							RLEHYYGBGQ.push(ArrayTareasServidor[i])
							JSNTWHPRIL.push(ArrayTareasServidor[i].OYJAHGADFQ)
						}
						
					}
				}				
				
			}*/
		}
		else
		{
			console.log("Estaba nulo el array")
		}
				
		
		/*if (HMVFLEYPXM.length>0)
		{
			for (var i=0;i<=HMVFLEYPXM.length-1;i++)
			{
				console.log("ANTES ORD "+HMVFLEYPXM[i].EBAPPJFYSW);
			}
		*/	
			
			HMVFLEYPXM.sort(sort_by('EBAPPJFYSW', false));	
			
		/*	for (var i=0;i<=HMVFLEYPXM.length-1;i++)
			{
				console.log("ORDENANDO "+HMVFLEYPXM[i].EBAPPJFYSW);
			}
		}*/
			
		//timerTareas.loop(3000, function(){	
			
							
			////console.log("Tareas: "+HMVFLEYPXM);
			////console.log("Tarea ")
			
			RRTXUSXBQW=true;
			//if (ArrayTareasServidor!=null ) //2.0.7 && RLEHYYGBGQ.length>0
			//{
			//	RRTXUSXBQW=false;
			//}
			
			if (RRTXUSXBQW==true && EstabaRelleno==true)
			{
				RRTXUSXBQW=false
			}
			
			//console.log()
			if (HMVFLEYPXM.length>0 && RRTXUSXBQW==true )
			{
				
				
				
				ArrayPasar=HMVFLEYPXM.slice();
				//HMVFLEYPXM.splice(0,1);
				
				//idTareaGlobal=ArrayPasar[0].OYJAHGADFQ;
				
					console.log("Voy a bloquear "+ArrayPasar[0].OYJAHGADFQ+" "+ArrayPasar[0].RHOLNWBOXR);
					if (ArrayPasar[0].RHOLNWBOXR=="PMXHPCMRIF")
					{
						console.log("..y es "+DevuelveNombreCartaDebug(ArrayPasar[0].SJVCMXWVVI)+" con ronda "+ArrayPasar[0].AGTXFNIKQD)
						//console.log("por culpa de "+HMVFLEYPXM[0].RHOLNWBOXR+" "+DevuelveNombreCartaDebug(HMVFLEYPXM[0].SJVCMXWVVI))
					}
					
				
				if ( FLKJPGBHIN(ArrayPasar[0].OYJAHGADFQ)==true)
				//if (1==1)
				{
					
					
					
					switch (ArrayPasar[0].RHOLNWBOXR){	
					
						case 'salir_pantalla_principal' :
							console.log("Liberando "+DFBVDPETGO)
							//socket.emit("liberar_sala_amigos",DFBVDPETGO) no hace falta. Ya que cuando la sala está completa, el propio server la libera si no hay ningún vivo.
							MHELAUXKXR();
						break;
						
						case 'OUPPFUDFTA' :	//ok	
							//console.log("Lanza tarea OUPPFUDFTA");
							NSIRYROROW(ArrayPasar[0].JugadoresEnSala,ArrayPasar[0].SalaJoin,ArrayPasar[0].ArrayEnviar,ArrayPasar[0].ESKTEXAVHU,ArrayPasar[0].OYJAHGADFQ);	
							socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
						break;		
						
						case 'FFGKWCDVFE' :	//ok	
							 
							 //console.log("BARAJA SERVER TAREA "+New);
							
							 //if (New==true) //2.0.7
							 //{
								 //console.log("Lanza tarea baraja "+ArrayPasar[0].OYJAHGADFQ);
								KLDULSMKMA(ArrayPasar[0].data,ArrayPasar[0].RDBQUAVHEP,ArrayPasar[0].MQUGCIUQII,ArrayPasar[0].OYJAHGADFQ);	
								socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
								 //console.log("Tarea baraja desde server");
							 //}
							 //else
							 //{
								 //console.log("Tarea baraja desde server es falso "+ArrayPasar[0].OYJAHGADFQ); 
							 //}
							 
						break;			

						case 'VMCFXIVSKH' :	//ok	
							//console.log("Lanza tarea posición");
							  XWGQYYRRQO(ArrayPasar[0].UHTPGPRUJA,ArrayPasar[0].SJVCMXWVVI,ArrayPasar[0].BBSGITWRQX,ArrayPasar[0].OYJAHGADFQ);
							  socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
						break;				
						
						case 'PMXHPCMRIF' :	//ok
							console.log("Lanza tarea centro desde buffer "+ArrayPasar[0].OYJAHGADFQ);
							NOGEVUYFEW(ArrayPasar[0].UHTPGPRUJA,ArrayPasar[0].SJVCMXWVVI,ArrayPasar[0].Turno,ArrayPasar[0].AGTXFNIKQD,ArrayPasar[0].QKVJASWVEO,ArrayPasar[0].OYJAHGADFQ);
							 socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
						break;				
							
						case 'VOJPSKOTNY' :	//ok
							//console.log("Lanza tarea comenzad");
							 NUWTGXUUTS(false,ArrayPasar[0].OYJAHGADFQ);
							 socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
						break;		
						
						case 'IPGXRVPSID' :	//ok
							//console.log("Lanza tarea cante");
							  TGLVJXEMKD(ArrayPasar[0].UHTPGPRUJA,ArrayPasar[0].OMDVKATFLQ,ArrayPasar[0].AWCCMSCOPO,ArrayPasar[0].OYJAHGADFQ);
							  socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
						break;		
				
						case 'RNLCJXJTGF' :		//ok
							//console.log("Lanza tarea cambio7");
							  MBDMSUIWEH(ArrayPasar[0].UHTPGPRUJA,ArrayPasar[0].SJVCMXWVVI,ArrayPasar[0].OYJAHGADFQ);
							  socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
						break;		
			  
						/*case 'HKJSDHFUIW' :	 //ok
							  MCMWUEHUWH(ArrayPasar[0].ArrayDelaPropiaSalaClienteOrdenada,ArrayPasar[0].RDBQUAVHEP,ArrayPasar[0].OYJAHGADFQ);
							  socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
						break;	  
			  
						case 'KJHKHEIEIE' :	//ok
							  BMNBIWEGUY(ArrayPasar[0].OYJAHGADFQ);
							  socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)*/
						case 'GCOMOMYQBP' :	//ok
							console.log("Lanza tarea desconectado "+ArrayPasar[0].OYJAHGADFQ);
							  GDRQVXOCBL(ArrayPasar[0].SSUNXNEEHN,ArrayPasar[0].WWKVHIMWYD,ArrayPasar[0].posicionJugador,ArrayPasar[0].EFWXTVMKRH,ArrayPasar[0].ESKTEXAVHU,ArrayPasar[0].OYJAHGADFQ) 
							  socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
						case 'TGUUXMBTHT' :	//ok
							console.log("Lanza tarea reconectado desde buffer "+ArrayPasar[0].OYJAHGADFQ+" "+ArrayPasar[0].NuevoId);
							console.log("Con estas tareas "+ArrayPasar[0].ArrayTareasServidor)
							BCVWETKAKG(ArrayPasar[0].SSUNXNEEHN,ArrayPasar[0].WWKVHIMWYD,ArrayPasar[0].posicionJugador,ArrayPasar[0].NuevoId, ArrayPasar[0].ArraySalaEnviar, ArrayPasar[0].ESKTEXAVHU,ArrayPasar[0].ArrayTareasServidor,ArrayPasar[0].OYJAHGADFQ)
							  socket.emit("elimina_mensaje",ArrayPasar[0].OYJAHGADFQ)
						break;	

						
						
								
						
					}
				}
				else
				{
					console.log("Tarea bloqueada "+ArrayPasar[0].OYJAHGADFQ);
					if (ArrayPasar[0].RHOLNWBOXR=="PMXHPCMRIF")
					{
						console.log("Tarea bloqueada "+DevuelveNombreCartaDebug(ArrayPasar[0].SJVCMXWVVI))
						console.log("por culpa de "+HMVFLEYPXM[0].RHOLNWBOXR+" "+DevuelveNombreCartaDebug(HMVFLEYPXM[0].SJVCMXWVVI))
					}
				}
				
				//El borrado se hace en las llamadas HMVFLEYPXM.splice(0,1);
				//console.log("Ahora quedan "+HMVFLEYPXM.length+" tareas");
				

				
				
				//if (HMVFLEYPXM.length==0)
				//{
					//var TimerVuelvoAEstarVivo= YMHIHSNADE.time.create(false);
					//DUGDLNBOGK=false;
					
				//}
				
			}
			else
			{
				//timerTareas.stop();
				//if (EstabaRelleno==false)
				//{
					
					//if (HMVFLEYPXM.length>0)
					//{
						console.log("Recuperando desde tareas. NO HAGO NADA. Estaba relleno "+EstabaRelleno+" "+REDYBSYSNN.length);
						if (REDYBSYSNN.length==0) //Importante punto de control para evitar que haya dos tareas a la vez
						{
							OGGWQECXBK("SinClave",false,false);
						}
					//}
					//else
					//{
					//	console.log("No hay nada que recuperar");
					//	GIDSSFEUNT(true); //revision
					//}
				//}
				//else
				//{
				//	
				//}
			}
	}
	else
	{
		console.log("No cumplió para rellenar");
	}
	//}
	
	//});
	//timerTareas.start();		
}

OGGWQECXBK=function(TXLWIIINGQ,Respetar,FuerzaSuperOrganizador)
{
	var i;
	var numero_tareas_ori;
	
	numero_tareas_ori=HMVFLEYPXM.length;
	
	if (Respetar!=true)
	{
		console.log("Borrando la tarea "+TXLWIIINGQ)
		PHPJPBNRNH(TXLWIIINGQ);
	}
	else
	{
		console.log("Respetando la tarea "+TXLWIIINGQ)
	}
	
	//console.log("Tareas buffer "+RLEHYYGBGQ.length)
	/*if (RLEHYYGBGQ.length>0) 2.0.1
	{
		for (i=0;i<=RLEHYYGBGQ.length-1;i++)
		{
			//console.log("Descargando Buffer de tareas..");
			HMVFLEYPXM.push(RLEHYYGBGQ[i]);
		}
		RLEHYYGBGQ.splice(0,10000);
	}*/
	
	//if (Respetar!=true)
	//{
	//console.log("HMVFLEYPXM "+RLEHYYGBGQ.length)
	if (HMVFLEYPXM.length==0)
	{
		IRXOKNWTLV=150;
		MDYSFNYPYP=250;
		PVQFVAAAEY=300;
		BQUYYUASDK=350; 
		console.log("RECU2");
		//var TimerVuelvoAEstarVivo= YMHIHSNADE.time.create(false);
		//console.log("Pongo reconectado a falso");
		//var vEstabaReconectando=DUGDLNBOGK;
		//DUGDLNBOGK=false; 2.0.7
		//if (vEstabaReconectando==true)
		//console.log("RECU1 "+TXLWIIINGQ);
		//if(TXLWIIINGQ==false)
		//{
		//if (numero_tareas_ori>0 && EGPDVIEJEL==true)
		//{
			//console.log("RECU2");
			//No por ahora socket.emit("dime_quien_controla");
		//}
		//else
		//{
		//	//console.log("RECU3");
			//if ( !(TXLWIIINGQ==false || TXLWIIINGQ==undefined || TXLWIIINGQ==null) || FuerzaSuperOrganizador==true ) //2.0.7 Me aseguro que solo lo lance para el que desconectó
			//{
				GIDSSFEUNT();
			//}
			//else
			//{
			//	//console.log("Veneno");					
			//	socket.emit("dime_quien_controla");
			//}
			
			
			
		//}
		//}
		
	}
	else
	{		
		console.log("RECU3");
		LVEMXLIFKA(null); //Quito New
	}
	//}
	//else
	//{
	//	console.log("RESPETO Y NO HAGO NADA")
	//}

}

onSocketErrorDesdeServer= function (NNWWUUQPPP,ErrorPublico) {
	
	////console.log("E R R O R "+ NNWWUUQPPP+" público: " +ErrorPublico)
	
	if (NNWWUUQPPP=="Error0" || NNWWUUQPPP=="Error2" || NNWWUUQPPP=="Error3" || NNWWUUQPPP=="Error4") //Errores de Login
	{
		WFWTECIQSP();
	}
	

	if (NNWWUUQPPP=="Error5") //Usuario deshabilitado
	{
		//lPermisoHabilitado=false;
		VSXSYEUABW(ErrorPublico, true)
	}

	if (NNWWUUQPPP=="Error6") //Usuario en la sala
	{
		VSXSYEUABW(ErrorPublico, false)
	}
	
	if (NNWWUUQPPP=="Error7") //Contraseña Incorrecta
	{
		VSXSYEUABW(ErrorPublico, false)
	}	
	
	if (NNWWUUQPPP=="Error8") //Versión Incorrecta
	{
		VSXSYEUABW(ErrorPublico, true);
	}		
	
	if (NNWWUUQPPP=="Error9" || NNWWUUQPPP=="Error10" || NNWWUUQPPP=="Error11" ) //Sala completa, WWKVHIMWYD de sala no permitido y Sala Existe
	{
		VSXSYEUABW(ErrorPublico, true);
	}		
	
	if (NNWWUUQPPP=="Error12")
	{
		//lPermisoDesconectado=false;
		VSXSYEUABW(ErrorPublico, true);		
	}	
	
	if (NNWWUUQPPP=="Error13")
	{
		//Informar a todos de que un usuario ha sido sancionado
		VSXSYEUABW(ErrorPublico, false);		
	}		
	
}




HAJAHHHETE=function(NMNUEBBPOI)
{
	//alert(NMNUEBBPOI.HJHKJHJKHE+ " "+NMNUEBBPOI.NSUIHIUEUE);

	//JKLJKLRIRI.revive();
	JKLJKLRIRI.text="";
	
	if (NMNUEBBPOI.HJHKJHJKHE!=-9999)
	{
		JKLJKLRIRI.text="Contra el mundo: "+ NMNUEBBPOI.HJHKJHJKHE+" personas\n"+"Contra amigos: "+NMNUEBBPOI.NSUIHIUEUE +" personas\n";
		TPUQKKKNMX=NMNUEBBPOI.HJHKJHJKHE;
	}
	
	
	if (NMNUEBBPOI.CuentaSolos!=-9999)
	{
		JKLJKLRIRI.text=JKLJKLRIRI.text+"Contra el juego: "+NMNUEBBPOI.CuentaSolos+" personas";
	}
	
	if (XPBCVAGCDQ.length==0)
	{
		JKLJKLRIRI.x=YMHIHSNADE.world.centerX + 250+(JKLJKLRIRI.textWidth/2);
	}
	else
	{
		JKLJKLRIRI.x=YMHIHSNADE.world.centerX-125 + (JKLJKLRIRI.textWidth/2);
	}
	

	/*JKLJKLRIRI.text="Contra el mundo: "+ NMNUEBBPOI.HJHKJHJKHE+" personas en línea\n"+"Contra amigos: "+NMNUEBBPOI.NSUIHIUEUE +" personas en línea\n"+
		"Contra el juego: "+NMNUEBBPOI.CuentaSolos+" personas";
	*/
	
	
}


MCMWUEHUWH=function(ArrayDelaPropiaSalaClienteOrdenada,QuienReparteServer,WHNGHDAEUV)
{
	var i;
	
	var JKGHWJKGJW=0;
	if (ESKTEXAVHU>0)
	{
		JKGHWJKGJW=XPBCVAGCDQ[ESKTEXAVHU-1].AURESXCGMK;
	}
	
	XPBCVAGCDQ=ArrayDelaPropiaSalaClienteOrdenada;
	
	for (i=0;i<=XPBCVAGCDQ.length-1;i++)
	{
		if (EstaArray(XPBCVAGCDQ[i].AURESXCGMK,JKGHWJKGJW))
		{
			ESKTEXAVHU=(i+1);
			break;
		}
	}
	
	
	
	
	KYDWXPGHVY.splice(0,1000); //Importante hacer esto porque han cambiado los órdenes
	LRYVPILWKS();
	//1.0.9 IOJCRKJSRL();
	
	
	for (i=0; i<=XPBCVAGCDQ.length-1;i++)
	{
		if (EstaArray(XPBCVAGCDQ[i].AURESXCGMK,socket.id))
		{
			TFSXFTYVGQ=(i+1);
			////console.log("CHANGE2: "+TFSXFTYVGQ)
			////console.log("SOY con el trucaje"+TFSXFTYVGQ);
		}

	}
	
	////console.log("SOY "+TFSXFTYVGQ);
	
	//BSFNXQXOTD.splice(0,1000);
	JHKJKHHJCC();
	
	if (FReconectando(true)==false)
	{
	
		var GXNRNMAAKW=function( QuienSoy,MQUGCIUQII,
			OYJAHGADFQ,OJPXTRQDKS,LYHKNIMVEB,RHOLNWBOXR){
			 this.QuienSoy=QuienSoy
			 this.MQUGCIUQII=MQUGCIUQII
												 
			 this.OYJAHGADFQ=OYJAHGADFQ
			 this.OJPXTRQDKS=OJPXTRQDKS
			 this.LYHKNIMVEB=LYHKNIMVEB
			 this.RHOLNWBOXR=RHOLNWBOXR
			 
			 this.EBAPPJFYSW=new Date(Date.now());
		 }


		 var QPHHGPRJAI=[];
		QPHHGPRJAI.splice(0,1000);

			
		var OYJAHGADFQ=Math.random()*100000;
		var KCPHFPSPLQ=new GXNRNMAAKW(XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK,MQUGCIUQII,
			OYJAHGADFQ,socket.id,DFBVDPETGO,'JHWIEIWIIW');
		NBEJWDVLLV.push(KCPHFPSPLQ);
		QPHHGPRJAI.push(KCPHFPSPLQ);
		
		
		socket.emit('JHWIEIWIIW',QPHHGPRJAI[0],  
		 function(XQLEOGMJYG)
		 {			 
			EXBCVLOIYJ(XQLEOGMJYG,'JHWIEIWIIW');
		 }
		);	
		QPHHGPRJAI.splice(0,1000);		
		//KYDWXPGHVY.splice(0,1000);
		
		////console.log("Soy "+TFSXFTYVGQ+" "+ESKTEXAVHU);
		
		for (i=0;i<=XPBCVAGCDQ.length-1;i++)
		{
			if (TFSXFTYVGQ==ESKTEXAVHU && XPBCVAGCDQ[i].XJARYUVBCB==true)
			{
				////console.log("Enviando..");
				var OYJAHGADFQ=Math.random()*100000;
				var KCPHFPSPLQ=new GXNRNMAAKW(XPBCVAGCDQ[i].AURESXCGMK,MQUGCIUQII,
					OYJAHGADFQ,socket.id,DFBVDPETGO,'JHWIEIWIIW');
				NBEJWDVLLV.push(KCPHFPSPLQ);
				QPHHGPRJAI.push(KCPHFPSPLQ);
				
				
				socket.emit('JHWIEIWIIW',QPHHGPRJAI[0],  
				 function(XQLEOGMJYG)
				 {			 
					EXBCVLOIYJ(XQLEOGMJYG,'JHWIEIWIIW');
				 }
				);	
				QPHHGPRJAI.splice(0,1000);		
				//KYDWXPGHVY.splice(0,1000);
		
		
			}
		}
	}
	
	////console.log("OGGWQECXBK: cambio parejas");
	
	

	
	
}

BMNBIWEGUY=function()
{
	var i;
	var IUWYUIYWIN=false;
	//1.0.9 NKJHKJHHHE.push();
	////console.log("Recibiendo respuestas: "+NKJHKJHHHE.length+" ");
	//console.log("Llega el OK de todos")
	NNSHEUERGY();

	
}

NNSHEUERGY=function()
{
	
	var IUWYUIYWIN=false;
	var i;
	
	////console.log("Debe repartir.."+NKJHKJHHHE.length)
	//IOJCRKJSRL();
	//1.0.9 IOJCRKJSRL();//1.0.6
	
	//console.log("Toma el control "+ESKTEXAVHU+" ..y soy "+TFSXFTYVGQ)
	////console.log("Longitud parejas "+NKJHKJHHHE.length);
	//console.log("Longitud sala "+XPBCVAGCDQ.length)
	//XPBCVAGCDQ
	
	//if (NKJHKJHHHE.length==4 && AGKVNAGGLB.length==0 && KNVKGHHTYC.length==0 && CBCNHFGWLU.length==0 && TWJONOKGHC.length==0)
	if (AGKVNAGGLB.length==0 && KNVKGHHTYC.length==0 && CBCNHFGWLU.length==0 && TWJONOKGHC.length==0)	
	{
		
		
		if (XPBCVAGCDQ.length==4){
		

			DVNRTQIWGL=1;
			//if ( TFSXFTYVGQ==ESKTEXAVHU) //cabezon
			if (TFSXFTYVGQ==DVNRTQIWGL || PermisoParaTomarControl(DVNRTQIWGL))
			{
			 //if (XPBCVAGCDQ[3].AURESXCGMK==socket.id || IUWYUIYWIN==true){ //Se crea la baraja
				
				
				
				if (1==1) //1.0.9 //if (OSBTHSJKFW()==true) //1.0.8
				{
					console.log("Fijo que desde aquí");
					ETKKAJPFXQ(4);	//ILA RDBQUAVHEP
					HKJWHCKHWQ(WUHRYVMYBE,DFBVDPETGO,4,EVAILWGGKX,XPBCVAGCDQ,(JVQXQGYDHH+CNCCBHQJKL)) ; //ILA RDBQUAVHEP
				}
							
			}
		}
		
		
	}
	
	//console.log("OGGWQECXBK: reparto partida inicial");
	
	
}
SRUKEMRQNI=function(LongitudTotalGeneral, LongitudTotalSemanal,LongitudTotalAnterior,LongitudTotal30dias,
	PosicionGlobal, PosicionSemanal, PosicionAnterior,Posicion30dias,
	MedianaGlobal,MedianaGlobal2, MedianaSemanal, Mediana30dias, MedianaSemanal2, MedianaAnterior,MedianaAnterior2,Mediana30dias2){
	var i;
	var row; 
	var cell1;
	var cell2;
	var cell3;
	var cell4;
	var cell5;
	var cell6;
	var cell7;
	var cell8;
	var cell9;
	var Imagen;	
	var index;
	var TextoPosicion="";
	
	//console.log("Clasificacion");
	
	NGHJWGJHWG();
	
	FRMAJHNYJX('general',LongitudTotalGeneral,PosicionGlobal,MedianaGlobal,MedianaGlobal2);
	FRMAJHNYJX('semanal',LongitudTotalSemanal,PosicionSemanal,MedianaSemanal, MedianaSemanal2);
	FRMAJHNYJX('anterior',LongitudTotalAnterior,PosicionAnterior,MedianaAnterior,MedianaAnterior2);
	FRMAJHNYJX('30dias',LongitudTotal30dias,Posicion30dias,Mediana30dias,Mediana30dias2)
	


}


AIGEJGXGDJ=function(Data, Posicion, PCWMELNBUL, NUGWBIYHIL)
{
	var i;
	var table = document.getElementById("TablaClasificacion");
	var rowCount = table.rows.length;
	var row; 
	var cell1;
	var cell2;
	var cell3;
	var cell4;
	var cell5;
	var cell6;
	var cell7;
	var cell8;
	var cell9;
	var cell10;
	var Imagen;	
	var index;
	var TextoPosicion="";

	if (Data!=null && Data.length>0)
	{

		for (i = 1; i < rowCount; i++) {
		  
			table.deleteRow(1);
		}

		
		
		var d=document.getElementById('DivClasificacionContenedor');
		d.style.display = 'inline-block';
		
		index=0;
		for (i=0;i<=Data.length-1;i++)
		{
			if (Data[i]._Tipo==1)
			{
			
				row=table.insertRow(index+1);
				
				cell1 = row.insertCell(0);
				cell2 = row.insertCell(1);
				cell3 = row.insertCell(2);
				cell4 = row.insertCell(3);
				cell5 = row.insertCell(4);
				cell6 = row.insertCell(5);		
				cell7 = row.insertCell(6);
				cell8 = row.insertCell(7);
				cell9 = row.insertCell(8);
				cell10 = row.insertCell(9);
				
				cell1.innerHTML = Data[i]._Posicion;
				
				
				
				if(Data[i].QHHQPXWFNG!=undefined)
				{
					cell2.innerHTML =  "<img class='zoom' src='" + Data[i].QHHQPXWFNG + "' style='max-width:30;max-height:30' >";
					//cell2.innerHTML =  "<a href="+ Data[i].QHHQPXWFNG+" class='fancy'><img src="+ Data[i].QHHQPXWFNG+" style='max-width:140;max-height:140'></a>";
				}
				else
				{
					cell2.innerHTML =  "<img class='zoom' src='" + JHGHJAGCMC+'/assets/images/desconocido.png' + "' style='max-width:30;max-height:30' >";
				}
				cell3.innerHTML = Data[i].SSUNXNEEHN;
				cell4.innerHTML = Data[i]._Jugadas;
				cell5.innerHTML = Data[i]._Ganadas;
				cell6.innerHTML = Data[i]._Perdidas;
				cell7.innerHTML = Data[i]._Retiradas;
				cell8.innerHTML = Data[i]._Grupo;
				cell9.innerHTML = Data[i]._Ratio //parseFloat(Data[i]._Puntos).toFixed(0);
				
				
				Imagen=OIQUIOCVKK(Data[i]._Nivel,1)

				cell10.innerHTML =  "<img class='zoom' src='" + JHGHJAGCMC+'/assets/images/'+Imagen + "' style='max-width:30;max-height:30' >";
				
				index++;
			}
			
			
			
			
			
			
		
		}
		
		
		//console.log("Posicion Global "+Posicion);
		var table = document.getElementById("TextoClasificacionGlobal");
		if (Posicion==-1)
		{
			table.textContent="No sabemos quién eres. Entra con tu usuario en multijugador.";
		}
		else
		{
			if (Posicion==0)
			{
				table.textContent="No sabemos quién eres. Entra con tu usuario en multijugador.";
			}
			else
			{
				table.textContent="Estás en la posición "+Posicion+"."		
			}				
		}
	
			table.textContent=table.textContent+"\r\nPara estar en el grupo de los jugones, juega más de "+PCWMELNBUL+" partidas."+
		"\r\nPara estar en el grupo de los frecuentes, juega más de "+NUGWBIYHIL+" partidas."
	
	}
}



DibujaRanking30dias=function(Data, Posicion, PCWMELNBUL, NUGWBIYHIL)
{
	var i;
	var table = document.getElementById("TablaClasificacion30dias");
	var rowCount = table.rows.length;
	var row; 
	var cell1;
	var cell2;
	var cell3;
	var cell4;
	var cell5;
	var cell6;
	var cell7;
	var cell8;
	var cell9;
	var cell10;
	var Imagen;	
	var index;
	var TextoPosicion="";

	
	if (Data!=null && Data.length>0)
	{

		for (i = 1; i < rowCount; i++) {
		  
			table.deleteRow(1);
		}

		
		
		var d=document.getElementById('DivClasificacionContenedor');
		d.style.display = 'inline-block';
		
		index=0;
		for (i=0;i<=Data.length-1;i++)
		{
			
			if (Data[i]._Tipo==1)
			{
			
				row=table.insertRow(index+1);
				
				cell1 = row.insertCell(0);
				cell2 = row.insertCell(1);
				cell3 = row.insertCell(2);
				cell4 = row.insertCell(3);
				cell5 = row.insertCell(4);
				cell6 = row.insertCell(5);		
				cell7 = row.insertCell(6);
				cell8 = row.insertCell(7);
				cell9 = row.insertCell(8);
				cell10 = row.insertCell(9);
				
				cell1.innerHTML = Data[i]._Posicion;
				
				
				
				if(Data[i].QHHQPXWFNG!=undefined)
				{
					cell2.innerHTML =  "<img class='zoom' src='" + Data[i].QHHQPXWFNG + "' style='max-width:30;max-height:30' >";
					//cell2.innerHTML =  "<a href="+ Data[i].QHHQPXWFNG+" class='fancy'><img src="+ Data[i].QHHQPXWFNG+" style='max-width:140;max-height:140'></a>";
				}
				else
				{
					cell2.innerHTML =  "<img class='zoom' src='" + JHGHJAGCMC+'/assets/images/desconocido.png' + "' style='max-width:30;max-height:30' >";
				}
				cell3.innerHTML = Data[i].SSUNXNEEHN;
				cell4.innerHTML = Data[i]._Jugadas;
				cell5.innerHTML = Data[i]._Ganadas;
				cell6.innerHTML = Data[i]._Perdidas;
				cell7.innerHTML = Data[i]._Retiradas;
				cell8.innerHTML = Data[i]._Grupo;
				cell9.innerHTML = Data[i]._Ratio //parseFloat(Data[i]._Puntos).toFixed(0);
				
				
				Imagen=OIQUIOCVKK(Data[i]._Nivel,1)

				cell10.innerHTML =  "<img class='zoom' src='" + JHGHJAGCMC+'/assets/images/'+Imagen + "' style='max-width:30;max-height:30' >";
				
				index++;
			}
			
			
			
			
			
			
		
		}
		
		
		//console.log("Posicion Global "+Posicion);
		var table = document.getElementById("TextoClasificacion30dias");
		if (Posicion==-1)
		{
			table.textContent="No sabemos quién eres. Entra con tu usuario en multijugador.";
		}
		else
		{
			if (Posicion==0)
			{
				table.textContent="No sabemos quién eres. Entra con tu usuario en multijugador.";
			}
			else
			{
				table.textContent="Estás en la posición "+Posicion+"."		
			}				
		}
	
			table.textContent=table.textContent+"\r\nPara estar en el grupo de los jugones, juega más de "+PCWMELNBUL+" partidas."+
		"\r\nPara estar en el grupo de los frecuentes, juega más de "+NUGWBIYHIL+" partidas."
	
	}
}


BLKQMLBWWA=function(Data,Posicion, PCWMELNBUL, NUGWBIYHIL)
{
	
		var i;
	
	var row; 
	var cell1;
	var cell2;
	var cell3;
	var cell4;
	var cell5;
	var cell6;
	var cell7;
	var cell8;
	var cell9;
	var cell10;
	
	var Imagen;	
	var index;
	var TextoPosicion="";
	
	if (Data!=null && Data.length>0)
	{
		var table = document.getElementById("TablaClasificacionSemanal");
		var rowCount = table.rows.length;

		//console.log("Dibujando ranking semanal "+Data.length);

		for (i = 1; i < rowCount; i++) {
		  
			table.deleteRow(1);
		}

		
		index=0;
		for (i=0;i<=Data.length-1;i++)
		{
			if (Data[i]._Tipo==2)
			{
				////console.log("Rellena");
				row=table.insertRow(index+1);
				
				
				cell1 = row.insertCell(0);
				cell2 = row.insertCell(1);
				cell3 = row.insertCell(2);
				cell4 = row.insertCell(3);
				cell5 = row.insertCell(4);
				cell6 = row.insertCell(5);		
				cell7 = row.insertCell(6);
				cell8 = row.insertCell(7);
				cell9 = row.insertCell(8);
				cell10 = row.insertCell(9);
				
				cell1.innerHTML = Data[i]._Posicion;
				if(Data[i].QHHQPXWFNG!=undefined)
				{
					cell2.innerHTML =  "<img class='zoom' src='" + Data[i].QHHQPXWFNG + "' style='max-width:30;max-height:30' >";
				}
				else
				{
					cell2.innerHTML =  "<img class='zoom' src='" + JHGHJAGCMC+'/assets/images/desconocido.png' + "' style='max-width:30;max-height:30' >";
				}
				cell3.innerHTML = Data[i].SSUNXNEEHN;
				cell4.innerHTML = Data[i]._Jugadas;
				cell5.innerHTML = Data[i]._Ganadas;
				cell6.innerHTML = Data[i]._Perdidas;
				cell7.innerHTML = Data[i]._Retiradas;
				cell8.innerHTML = Data[i]._Grupo;
				cell9.innerHTML = Data[i]._Ratio //parseFloat(Data[i]._Puntos).toFixed(0);
				
				Imagen="sin_logro.png";
				if  (Data[i]._CampeonSemanal==true)
				{
					Imagen='medalla.png'
				}
			
				cell10.innerHTML =  "<img class='zoom' src='" + JHGHJAGCMC+'/assets/images/'+Imagen + "' style='max-width:30;max-height:30' >";
				index++
			}
			
			
			
			
			
			
		
		}
		
		//console.log("Posicion semanal "+Posicion);
		var table = document.getElementById("TextoClasificacionSemanal");
		if (Posicion==-1)
		{
			table.textContent="No sabemos quién eres. Entra con tu usuario en multijugador.";
		}
		else
		{
			if (Posicion==0)
			{
				table.textContent="No sabemos quién eres. Entra con tu usuario en multijugador.";
			}
			else
			{
				table.textContent="Estás en la posición "+Posicion+"."		
			}				
		}
		
		table.textContent=table.textContent+"\r\nPara estar en el grupo de los jugones, juega más de "+PCWMELNBUL+" partidas."+
		"\r\nPara estar en el grupo de los frecuentes, juega más de "+NUGWBIYHIL+" partidas."
	}	
	
}

DibujaRankingAnterior=function(Data,Posicion, PCWMELNBUL, NUGWBIYHIL)
{
	
		var i;
	
	var row; 
	var cell1;
	var cell2;
	var cell3;
	var cell4;
	var cell5;
	var cell6;
	var cell7;
	var cell8;
	var cell9;
	var cell10;
	var Imagen;	
	var index;
	var TextoPosicion="";
	
	if (Data!=null && Data.length>0)
	{
		var table = document.getElementById("TablaClasificacionAnterior");
		var rowCount = table.rows.length;


		for (i = 1; i < rowCount; i++) {
		  
			table.deleteRow(1);
		}

		
		index=0;
		for (i=0;i<=Data.length-1;i++)
		{
			if (Data[i]._Tipo==3)
			{
				////console.log("Rellena");
				row=table.insertRow(index+1);
				
				
				cell1 = row.insertCell(0);
				cell2 = row.insertCell(1);
				cell3 = row.insertCell(2);
				cell4 = row.insertCell(3);
				cell5 = row.insertCell(4);
				cell6 = row.insertCell(5);		
				cell7 = row.insertCell(6);
				cell8 = row.insertCell(7);
				cell9 = row.insertCell(8);
				cell10 = row.insertCell(9);
				
				cell1.innerHTML = Data[i]._Posicion;
				if(Data[i].QHHQPXWFNG!=undefined)
				{
					cell2.innerHTML =  "<img class='zoom' src='" + Data[i].QHHQPXWFNG + "' style='max-width:30;max-height:30' >";
				}
				else
				{
					cell2.innerHTML =  "<img class='zoom' src='" + JHGHJAGCMC+'/assets/images/desconocido.png' + "' style='max-width:30;max-height:30' >";
				}
				cell3.innerHTML = Data[i].SSUNXNEEHN;
				cell4.innerHTML = Data[i]._Jugadas;
				cell5.innerHTML = Data[i]._Ganadas;
				cell6.innerHTML = Data[i]._Perdidas;
				cell7.innerHTML = Data[i]._Retiradas;
				cell8.innerHTML = Data[i]._Grupo;
				cell9.innerHTML = Data[i]._Ratio //parseFloat(Data[i]._Puntos).toFixed(0);
				
				Imagen="sin_logro.png";
				if  (Data[i]._CampeonSemanal==true)
				{
					Imagen='medalla.png'
				}
			
				cell10.innerHTML =  "<img class='zoom' src='" + JHGHJAGCMC+'/assets/images/'+Imagen + "' style='max-width:30;max-height:30' >";
				index++
			}
			
			
			
			
			
			
		
		}
		
		//console.log("Posicion anterior "+Posicion);
		var table = document.getElementById("TextoClasificacionAnterior");
		if (Posicion==-1)
		{
			table.textContent="No sabemos quién eres. Entra con tu usuario en multijugador.";
		}
		else
		{
			if (Posicion==0)
			{
				table.textContent="No sabemos quién eres. Entra con tu usuario en multijugador.";
			}
			else
			{
				table.textContent="Estás en la posición "+Posicion+"."		
			}				
		}
		
				table.textContent=table.textContent+"\r\nPara estar en el grupo de los jugones, juega más de "+PCWMELNBUL+" partidas."+
		"\r\nPara estar en el grupo de los frecuentes, juega más de "+NUGWBIYHIL+" partidas."
		
	}	
	
}

QAFLUOOCBX=function(Validacion,Sala){
	if (Validacion==true)
	{
		KKJJKHAJHK(1,Sala);
	}
	else
	{
		////console.log("mal");
		//VSXSYEUABW("Contraseña incorrecta.",false); //1.0.8
		onSocketErrorDesdeServer("Error7","Contraseña incorrecta.");
		
	}
}
VSXSYEUABW=function(RPHWVBBGIM,Salir)
{


	var	UYEUYIYECB=IEUIUCYUCC(RPHWVBBGIM,40);
	UYEUYIYECB.alpha=1;
	var tw = YMHIHSNADE.add.tween(UYEUYIYECB).to( { alpha: 0 }, 1000, KYFMRVNHIQ, true,5000);
	tw.onComplete.add( function(){
		UYEUYIYECB.kill();
		if (Salir==true)
		{
			if (KYLIAIETHX==false)
			{
				socket.emit('Consola',"EL SERVIDOR ME ECHA");
			}
			FHKOYDXPCL();
			MHELAUXKXR();
			XEMENNVXGV();			
		}
		
	}
		
		
	);
}



FGRXSJFOOH=function()
{
	//YUXWLFWVRD();
		//console.log("fallido")
	/*if (JHGHJAGCMC==MaquinaSSH)
	{
		JHGHJAGCMC=MaquinaSinSSH;
	}
	else
	{
		JHGHJAGCMC=MaquinaSSH;
	}*/
	
}

MNTKNVATCM=function()
{
	//console.log("Caido "+ JHGHJAGCMC +" "+MaquinaSSH);
	/*if (JHGHJAGCMC==MaquinaSSH)
	{
		JHGHJAGCMC=MaquinaSinSSH;
	}
	else
	{
		JHGHJAGCMC=MaquinaSSH;
	}*/
	//console.log("MAQUINA CAMBIADA: "+JHGHJAGCMC)	
	YUXWLFWVRD();
}

CURCDCWNHB=function(CYHNPORXFJ)
{
		//alert(CYHNPORXFJ[0].IRQGAFESIC);
		var tapete;
		
		PWMIBRSDCJ.splice(0,1000);
		
		/*tapete=CYHNPORXFJ[0].IRQGAFESIC
		if (JHJEWHFWNL==true)
		{
			tapete=tapete.replace('.jpg','_43.jpg');
		}*/
		//log("ENTRO "+CYHNPORXFJ[0].MBMWBWUYUY)
		
		
		CerrarGPRD();
		
		PWMIBRSDCJ.push(new AWXPNWRCHC(CYHNPORXFJ[0].WWKVHIMWYD,
			CYHNPORXFJ[0].BONQVNOXDP,
			CYHNPORXFJ[0].QHHQPXWFNG,
			CYHNPORXFJ[0].EJOYNSESRD,
			CYHNPORXFJ[0].IRQGAFESIC,
			CYHNPORXFJ[0].FFRVOEAXTF,
			CYHNPORXFJ[0].BDYYDTFQAO,
			CYHNPORXFJ[0].UHYGLMAUNK,
			CYHNPORXFJ[0].DNQIYVAFPR,
			CYHNPORXFJ[0].XCXKVEEIOO,
			CYHNPORXFJ[0].BUJELVTIKU,
			CYHNPORXFJ[0].NBJHGSFSJS,
			CYHNPORXFJ[0].MBMWBWUYUY,
			CYHNPORXFJ[0].OIUIOWCHVW,
			CYHNPORXFJ[0].NHWYTYUSYG,
			CYHNPORXFJ[0].NMABCQQCDD,
			CYHNPORXFJ[0].AMBCNABIQQ,
			CYHNPORXFJ[0].gprd,
			CYHNPORXFJ[0].LimiteReconexiones,
			CYHNPORXFJ[0].LimiteMinimizados,
			CYHNPORXFJ[0].LimiteTiempoReconexion,
			CYHNPORXFJ[0].GbitsResultado,
			CYHNPORXFJ[0].GbitsDiario,
			CYHNPORXFJ[0].GbitsPlus,
			CYHNPORXFJ[0].NuevoDia,
			CYHNPORXFJ[0].PuntuaciondePRO
			));
			
			//alert(PWMIBRSDCJ[0].IRQGAFESIC);
		
		//console.log("emitter "+CYHNPORXFJ[0].AMBCNABIQQ);
		if (CYHNPORXFJ[0].gprd==true)
		{
			
			LimiteReconexiones=CYHNPORXFJ[0].LimiteReconexiones
			LimiteMinimizados=CYHNPORXFJ[0].LimiteMinimizados
			LimiteTiempoReconexion=CYHNPORXFJ[0].LimiteTiempoReconexion
			
			MuestraGBits(false);
		
			if ( CYHNPORXFJ[0].XCXKVEEIOO!="" )
			{
				////console.log("Debe Salir "+CYHNPORXFJ[0].DNQIYVAFPR);
				//VSXSYEUABW(CYHNPORXFJ[0].XCXKVEEIOO,CYHNPORXFJ[0].DNQIYVAFPR); //1.0.8
				onSocketErrorDesdeServer("Error8",CYHNPORXFJ[0].XCXKVEEIOO); //1.0.8
				//VXEWRTCPMM=CYHNPORXFJ[0].DNQIYVAFPR; //1.0.8
				
				
			}
			
			//console.log("intenta0");
			if (UHHXSNXXJK==0 && PXGXKDDNFK==0 && JVQXQGYDHH==0 && CNCCBHQJKL==0)
			{
				if (YMHIHSNADE.cache.checkImageKey('publi')==false)
				{
					//console.log("intenta");
					var LoaderPubli=YMHIHSNADE.load.atlas('publi', CYHNPORXFJ[0].AMBCNABIQQ	, JHGHJAGCMC+'/assets/images/publi.json',Phaser.Loader.TEXTURE_ATLAS_JSON_HASH);
					LoaderPubli.crossOrigin ="Anonymous"
					LoaderPubli.start();				
				}
			}			
			
			HSKJFHWVUV(PWMIBRSDCJ[0].IRQGAFESIC, PWMIBRSDCJ[0].NMABCQQCDD, PWMIBRSDCJ[0].EJOYNSESRD,PWMIBRSDCJ[0].BUJELVTIKU);
			

			
			if (UEHYPTREIH.alive==false && XPBCVAGCDQ.length==0) //1.0.8 El IF solamente. Resulta que según la rapidez de calculaperfil se superponían imágenes de los botones
			{
				YBWXJFDOAW();
			}
			//console.log("Sin problemas");
		}
		else
		{
			MostrarGPRD();
		}
}

HSKJFHWVUV=function(TapeteMostrarNormal,TapeteMostrar43, ReversoMostrar,NoticiaMostrar)
{
		
		//DCIKAAMXTU=new Phaser.Loader(YMHIHSNADE); 2.0.1 03/02/2018
		var TapeteMostrar;
		
		if (JHJEWHFWNL==false)
		{
			TapeteMostrar=TapeteMostrarNormal;
		}
		else
		{
			TapeteMostrar=TapeteMostrar43;
		}
		
		//console.log("Pide el tapete "+TapeteMostrar);

				
		
		var MABCQOOEVD;
		if (KVBNWXDTON.name=='LEQRGVLYLX')
		{
			MABCQOOEVD='TapeteRemoto2'
		}
		else
		{
			MABCQOOEVD='LEQRGVLYLX'
		}


		var AMSBCAQQCG;
		if (RCYRGXLWBR=='ReversoRemoto')
		{
			AMSBCAQQCG='ReversoRemoto2'
		}
		else
		{
			AMSBCAQQCG='ReversoRemoto'
		}		
		

		var LLALAQDVQD;
		if (BUJELVTIKU.name=='NoticiaRemoto')
		{
			LLALAQDVQD='NoticiaRemoto2'
		}
		else
		{
			LLALAQDVQD='NoticiaRemoto'
		}		

		
		if ( DCIKAAMXTU==undefined || DCIKAAMXTU==null || DCIKAAMXTU=="" )
		{
			DCIKAAMXTU=new Phaser.Loader(YMHIHSNADE);
		}		
		DCIKAAMXTU.crossOrigin ="Anonymous"
		DCIKAAMXTU.image(MABCQOOEVD, TapeteMostrar,true); //sobreescribe
		DCIKAAMXTU.onFileComplete.add( function() { BHAACHYLAS();  }  );
		DCIKAAMXTU.start();

		if ( CBGXLQKDBG==undefined || CBGXLQKDBG==null || CBGXLQKDBG=="" )
		{
			CBGXLQKDBG=new Phaser.Loader(YMHIHSNADE);
		}
		CBGXLQKDBG.crossOrigin ="Anonymous"
		CBGXLQKDBG.image(AMSBCAQQCG, ReversoMostrar,true);
		CBGXLQKDBG.onFileComplete.add( function() { GXFPVAOHBL();  }  );
		CBGXLQKDBG.start();
		
		if (PWMIBRSDCJ[0].BUJELVTIKU!=null && ISVLSNLHWR<=2 && XPBCVAGCDQ.length!=4 && EHUHWTYXOS==false )
		{			
			if ( ETJWOWNABD==undefined || ETJWOWNABD==null || ETJWOWNABD=="" )
			{			
				ETJWOWNABD=new Phaser.Loader(YMHIHSNADE);
			}
			ETJWOWNABD.crossOrigin ="Anonymous"
			ETJWOWNABD.image(LLALAQDVQD, NoticiaMostrar,true);
			ETJWOWNABD.onFileComplete.add( function() { OJPKPPKDJU();  }  );
			ETJWOWNABD.start();
		}
		
		ISVLSNLHWR++;
		if (ISVLSNLHWR>10)
		{
			ISVLSNLHWR=0;
		}
		
		
	
}

DVCXGBTNWL=function(CYHNPORXFJ)
{
	
	var i;
	
	//No puedo hacer destroys porque se revienta en los carteles de fin de partida



		//alert(CYHNPORXFJ[0].IRQGAFESIC);
		PWMIBRSDCJ.splice(0,1000);
	
		var tapete=CYHNPORXFJ[0].IRQGAFESIC;
		/*if (JHJEWHFWNL==true) //2.0.1
		{
			tapete=tapete.replace('.jpg','_43.jpg');
		}*/
		//console.log("ENTRO1 "+CYHNPORXFJ[0].MBMWBWUYUY)
		PWMIBRSDCJ.push(new AWXPNWRCHC(CYHNPORXFJ[0].WWKVHIMWYD,
			CYHNPORXFJ[0].BONQVNOXDP,
			CYHNPORXFJ[0].QHHQPXWFNG,
			CYHNPORXFJ[0].EJOYNSESRD,
			CYHNPORXFJ[0].IRQGAFESIC,
			CYHNPORXFJ[0].FFRVOEAXTF,
			CYHNPORXFJ[0].BDYYDTFQAO,
			CYHNPORXFJ[0].UHYGLMAUNK,
			CYHNPORXFJ[0].DNQIYVAFPR,
			CYHNPORXFJ[0].XCXKVEEIOO,
			CYHNPORXFJ[0].BUJELVTIKU,
			CYHNPORXFJ[0].NBJHGSFSJS,
			CYHNPORXFJ[0].MBMWBWUYUY,
			CYHNPORXFJ[0].OIUIOWCHVW,
			CYHNPORXFJ[0].NHWYTYUSYG,
			CYHNPORXFJ[0].NMABCQQCDD,
			CYHNPORXFJ[0].AMBCNABIQQ,
			CYHNPORXFJ[0].gprd,
			CYHNPORXFJ[0].LimiteReconexiones,
			CYHNPORXFJ[0].LimiteMinimizados,
			CYHNPORXFJ[0].LimiteTiempoReconexion,
			CYHNPORXFJ[0].GbitsResultado,
			CYHNPORXFJ[0].GbitsDiario,
			CYHNPORXFJ[0].GbitsPlus,
			CYHNPORXFJ[0].NuevoDia,
			CYHNPORXFJ[0].PuntuaciondePRO			
			));
			
		if ( CYHNPORXFJ[0].XCXKVEEIOO!="" )
		{
			////console.log("Debe Salir "+CYHNPORXFJ[0].DNQIYVAFPR)
			//VSXSYEUABW(CYHNPORXFJ[0].XCXKVEEIOO,CYHNPORXFJ[0].DNQIYVAFPR)	//1.0.8
			onSocketErrorDesdeServer("Error8",CYHNPORXFJ[0].XCXKVEEIOO); //1.0.8
			//VXEWRTCPMM=CYHNPORXFJ[0].DNQIYVAFPR; //1.0.8
		}	
			


		
		HSKJFHWVUV(PWMIBRSDCJ[0].IRQGAFESIC, PWMIBRSDCJ[0].NMABCQQCDD, PWMIBRSDCJ[0].EJOYNSESRD,PWMIBRSDCJ[0].BUJELVTIKU);
		
		
		

	
	
}

ExisteJugador=function(JJHEHUIEGO)
{
	var i;
	var Existe=false;
			
	for (i=0;i<=XPBCVAGCDQ.length-1;i++)
	{
		if ( EstaArray(XPBCVAGCDQ[i].AURESXCGMK,JJHEHUIEGO) ) //2.0.7 || XPBCVAGCDQ[i].JugadorSalaAnterior==JJHEHUIEGO
		{
			Existe=true;		
			break;
		}			
		
	}
	
	return Existe;
}

GDRQVXOCBL=function(JJHEHUIEGO,NombreDesconectado,posicionJugador,EFWXTVMKRH,QuienTomaControlServer,TXLWIIINGQ)
{
	var LQPUBPQTJA;
	var i;
	var u;
	var NPYBJSHIFL;
	var STLEOJDWSU;
	var x1;
	var y1;
	var x1text;
	var y1text;
	var UBWRXKMTQN;
	var AjusteLetra=30;
	//return true;
	
	
	//console.log("DESCONECTADO: "+HMVFLEYPXM.length+" "+RLEHYYGBGQ.length)
	//ESKTEXAVHU=FHDOFSEVXQ(QuienTomaControlServer);
	console.log("Control DESCONECTADO "+ESKTEXAVHU);
	
	if (XPBCVAGCDQ.length>0 && EstaArray(XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK,JJHEHUIEGO)==false
		&& ExisteJugador(JJHEHUIEGO)==true //2.0.7 porque a veces se pierden las claves y eliminaba la imagen propia
	) //2.0.7 && JJHEHUIEGO!=XPBCVAGCDQ[TFSXFTYVGQ-1].JugadorSalaAnterior
	{
		/*if (KYLIAIETHX==false)
		{
			socket.emit("Consola","PRESoy "+TFSXFTYVGQ+". Desde desconectado");
		}*/
		
		
		//console.log("Toma el control a "+ESKTEXAVHU  +" desde desconectado "+QuienTomaControlServer);
		//}
		//else
		//{
		//	ESKTEXAVHU=-1;
		//}
		
		log(true,"Desconecta el jugador ");
		log(true,"JUGADOR QUE DESCONECTA "+JJHEHUIEGO);
		
		////console.log("SSUNXNEEHN que desconecta "+JJHEHUIEGO);
		for (var i=0;i<=XPBCVAGCDQ.length-1;i++)
		{
			////console.log("Desconectando... "+XPBCVAGCDQ[i].AURESXCGMK+" "+XPBCVAGCDQ[i].WWKVHIMWYD);
			if (EstaArray(XPBCVAGCDQ[i].AURESXCGMK,JJHEHUIEGO) ) //2.0.7 || XPBCVAGCDQ[i].JugadorSalaAnterior==JJHEHUIEGO
			{
				XPBCVAGCDQ[i].XJARYUVBCB=true;
				//KYDWXPGHVY.push( new UVYJLLYCYD ( (i+1),JJHEHUIEGO ));
				//ArrayJugadoresDesconectadosID.push(JJHEHUIEGO);
			}			
			
		}
		//1.0.9 IOJCRKJSRL();
		LRYVPILWKS();
		if (EGPDVIEJEL==true && FReconectando(true)==false )
		{
			
			
			
			//No se si sobra
			//1.0.9
			
			WRGLRODAXY();
		}
		

		//1.0.4
		if (EGPDVIEJEL==true && MYQBNBVHKU==false && FReconectando(true)==false)//1.0.6
		{
			console.log("Debe elegir pareja");
			if (TFSXFTYVGQ==ESKTEXAVHU && JVQXQGYDHH==0 && CNCCBHQJKL==0 && EVAILWGGKX==false && UHHXSNXXJK==0 && PXGXKDDNFK==0
			&& EligiendoPareja==true) //1.0.8 Nos aseguramos con UHHXSNXXJK y PXGXKDDNFK de que realmente la partida nunca comenzó
			{
				console.log("Debe elegir pareja2");
				if (SNJCSVWFCC()==true)
				{
					
					console.log("Debe elegir pareja3");
					
					NXVIOTGLQV(2);
					/*
					var GXNRNMAAKW=function( QuienSoy,MQUGCIUQII,
						OYJAHGADFQ,OJPXTRQDKS,LYHKNIMVEB,RHOLNWBOXR){
						 this.QuienSoy=QuienSoy
						 this.MQUGCIUQII=MQUGCIUQII
															 
						 this.OYJAHGADFQ=OYJAHGADFQ
						 this.OJPXTRQDKS=OJPXTRQDKS
						 this.LYHKNIMVEB=LYHKNIMVEB
						 this.RHOLNWBOXR=RHOLNWBOXR
						 
						 this.EBAPPJFYSW=new Date(Date.now());
					 }


					 var QPHHGPRJAI=[];
					QPHHGPRJAI.splice(0,1000);

						
					var OYJAHGADFQ=Math.random()*100000;
					var KCPHFPSPLQ=new GXNRNMAAKW(JJHEHUIEGO,MQUGCIUQII,
						OYJAHGADFQ,socket.id,DFBVDPETGO,'JHWIEIWIIW');
					NBEJWDVLLV.push(KCPHFPSPLQ);
					QPHHGPRJAI.push(KCPHFPSPLQ);

					
					////console.log("Envio JHWIEIWIIW desde desconectados");
					socket.emit('JHWIEIWIIW',QPHHGPRJAI[0],
					 function(XQLEOGMJYG)
					 {			 
						EXBCVLOIYJ(XQLEOGMJYG,'JHWIEIWIIW');
					 }
					);	
					QPHHGPRJAI.splice(0,1000);		
					*/
				}
			}	
		}
		

	
	
	
	

	

		NPYBJSHIFL=1;
		for (var i=0;i<=XPBCVAGCDQ.length-1;i++)
		{
			if (EstaArray(XPBCVAGCDQ[i].AURESXCGMK,JJHEHUIEGO) ) //2.0.7
			{
				NPYBJSHIFL=i;			
			}			
			
		}
		///////////
		//console.log("COMIENZA");
		UBWRXKMTQN=HHOPUSIABJ(NPYBJSHIFL+1);
		//console.log("HA DEVUELTO "+UBWRXKMTQN);
				if (UBWRXKMTQN=="D")
				{				
					x1=WIEVLYANFM("D_5",0)+110;
					y1=FIGQBSJQGA("L_0",0)+20;
					x1text=x1+125;
					y1text=y1+35;
				}
				if (UBWRXKMTQN=="R")
				{
					if (JHJEWHFWNL==false)
					{
						x1=WIEVLYANFM("D_5",0)+245;
					}
					else
					{
						x1=WIEVLYANFM("R_5",0)-20;
					}
				
					y1=FIGQBSJQGA("R_5",0)-147
					
						
					x1text=x1+20;
					y1text=y1+35;			
					
				}
				if (UBWRXKMTQN=="U")
				{
					x1=WIEVLYANFM("D_0",0)+25;
					if (JHJEWHFWNL==false)
					{
						y1=FIGQBSJQGA("R_5",0)-147;
					}
					else
					{
						y1=FIGQBSJQGA("U_0",0)-95;
					}

					x1text=x1+20;
					y1text=y1+35;		
				}
				  
				if (UBWRXKMTQN=="L")
				{
					x1=WIEVLYANFM("L_0",0);
					y1=FIGQBSJQGA("L_0",0)+20;
					x1text=x1+125;
					y1text=y1+35;		
					Desplazamiento=75;				
				}
		
		
		//////////
		
		if (NPYBJSHIFL==0)
		{
			UWROMBGGSY.x=x1text;
			UWROMBGGSY.text="Ordenador 1";
			if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
			{
				UWROMBGGSY.x=UWROMBGGSY.x-(UWROMBGGSY.textWidth/2)-AjusteLetra;
			}
			else
			{
				UWROMBGGSY.x=UWROMBGGSY.x+(UWROMBGGSY.textWidth/2)-AjusteLetra;
			}
			UWROMBGGSY.y=y1text;

			
			XPBCVAGCDQ[NPYBJSHIFL].WWKVHIMWYD="Ordenador 1"
			//IDKJKASOTQ.loadTexture('JHGHJAGCMC', 0);
			QYBDUBOCBT.loadTexture('JHGHJAGCMC', 0);
			QYBDUBOCBT.width=PJRPWGXEYM;
			QYBDUBOCBT.height=PJRPWGXEYM;
			
			if (NBHWGUGUWB!=undefined)
			{
				//NBHWGUGUWB.destroy();
				NBHWGUGUWB.kill();
			}

			if (XPLHSUIGIU!=undefined)
			{
				//XPLHSUIGIU.destroy();
				XPLHSUIGIU.kill();
			}		
			
			
			
		}
		
		if (NPYBJSHIFL==1)
		{
			HUPALFWPFI.x=x1text;
			HUPALFWPFI.text="Ordenador 2";
			if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
			{
				HUPALFWPFI.x=HUPALFWPFI.x-(HUPALFWPFI.textWidth/2)-AjusteLetra;
			}
			else
			{
				HUPALFWPFI.x=HUPALFWPFI.x+(HUPALFWPFI.textWidth/2)-AjusteLetra;
			}
			HUPALFWPFI.y=y1text;
			
			XPBCVAGCDQ[NPYBJSHIFL].WWKVHIMWYD="Ordenador 2"
			BDQHBTUNWW.loadTexture('JHGHJAGCMC', 0);
			BDQHBTUNWW.width=PJRPWGXEYM;
			BDQHBTUNWW.height=PJRPWGXEYM;
			
			if (HGYGDVGQUY!=undefined)
			{
				//HGYGDVGQUY.destroy();
				HGYGDVGQUY.kill();
			}

			if (NHGUGUEUER!=undefined)
			{
				//NHGUGUEUER.destroy();
				NHGUGUEUER.kill();
			}	
		}	
		if (NPYBJSHIFL==2)
		{
			BXYCJYDVRT.x=x1text;
			BXYCJYDVRT.text="Ordenador 3";
			if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
			{
				BXYCJYDVRT.x=BXYCJYDVRT.x-(BXYCJYDVRT.textWidth/2)-AjusteLetra;
			}
			else
			{
				BXYCJYDVRT.x=BXYCJYDVRT.x+(BXYCJYDVRT.textWidth/2)-AjusteLetra;
			}
			BXYCJYDVRT.y=y1text;
			
			
			XPBCVAGCDQ[NPYBJSHIFL].WWKVHIMWYD="Ordenador 3"
			PRWBHVTUSC.loadTexture('JHGHJAGCMC', 0);
			PRWBHVTUSC.width=PJRPWGXEYM;
			PRWBHVTUSC.height=PJRPWGXEYM;
			
			if (XXGUGUYWUW!=undefined)
			{
				//XXGUGUYWUW.destroy();
				XXGUGUYWUW.kill();
			}

			if (HGWUGIVGWP!=undefined)
			{
				//HGWUGIVGWP.destroy();
				HGWUGIVGWP.kill();
			}		
		}
		if (NPYBJSHIFL==3)
		{
			IRAIEARIWA.x=x1text;
			IRAIEARIWA.text="Ordenador 4";
			if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
			{
				IRAIEARIWA.x=IRAIEARIWA.x-(IRAIEARIWA.textWidth/2)-AjusteLetra;
			}
			else
			{
				IRAIEARIWA.x=IRAIEARIWA.x+(IRAIEARIWA.textWidth/2)-AjusteLetra;
			}
			IRAIEARIWA.y=y1text;		
			
			XPBCVAGCDQ[NPYBJSHIFL].WWKVHIMWYD="Ordenador 4"
			BMWINQGWDD.loadTexture('JHGHJAGCMC', 0);
			BMWINQGWDD.width=PJRPWGXEYM;
			BMWINQGWDD.height=PJRPWGXEYM;
			
			if (XKIOHWGJHG!=undefined)
			{
				//XKIOHWGJHG.destroy();
				XKIOHWGJHG.kill();
			}

			if (HGWYUYGVWO!=undefined)
			{
				//HGWYUYGVWO.destroy();
				HGWYUYGVWO.kill();
			}	
		}	
		
		/* recuperar if (KYDWXPGHVY.length==0)
		{
			VVCDGUUDWR(false);
		}*/
		
		if (FReconectando(true)==false)
		{
			//vacas VWYRRWMSJI('XJARYUVBCB',NPYBJSHIFL);
			if (EFWXTVMKRH>0)
			{
				onSocketErrorDesdeServer("Error13",NombreDesconectado+" será sancionado\n con "+EFWXTVMKRH+" minutos si no logra reconectar.");
			}

			
			/*if (EligiendoPareja==true) //2.0.7
			{
				NXVIOTGLQV(2);
			}*/
			
			
			
			//1.0.6  && ESKTEXAVHU==TFSXFTYVGQ
			/*if (AGKVNAGGLB.length==0 && VDKOVQXHON.length==0 && KNVKGHHTYC.length==0 && CBCNHFGWLU.length==0 && XPBCVAGCDQ.length>=4 && ESKTEXAVHU==TFSXFTYVGQ && JHHWEKWEJK==false && FReconectando(true)==false) //1.0.8 JHHWEKWEJK==false)
			{
				//alert("jj");
				console.log("Nueva partida desconecetado");
				
				KPQSPDMKJE(DVNRTQIWGL);
								if (KYLIAIETHX==false)
				{
					socket.emit("Consola","Nueva partida desconectado"+TFSXFTYVGQ);
				}
				////console.log("Llamada 7");
				//IOJCRKJSRL();
			}*/
		}
	
	}
	else
	{
		//console.log("No se mete en desconectado "+JJHEHUIEGO+" "+XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK+" "+XPBCVAGCDQ[TFSXFTYVGQ-1].JugadorSalaAnterior)
		
	}
	
	console.log("RECUPERA_ XJARYUVBCB");
	
	var timerdelay;
	
	timerdelay=YMHIHSNADE.time.create(false);
	
	timerdelay.add(5000, function()
	{	
		console.log("DELAY");	
		socket.emit("Consola","Delay de  "+TFSXFTYVGQ+" con ronda "+LUCRWXJMDR);
		timerdelay.stop();
		OGGWQECXBK(TXLWIIINGQ,false,true); //Fuera para que se lance el superorganizador aunque no tenga tareas por hacer
	}
	);
	timerdelay.start();
	
	
	
	
	
	
		
}


/*VWYRRWMSJI=function(HOGPTRLBYH,NPYBJSHIFL)
{
	//return true;
	//	var HOGPTRLBYH= 'XJARYUVBCB';
	var STLEOJDWSU;
	var GCTYDSCWXE;
	var YSMHGCUJFD;
	
	STLEOJDWSU= HHOPUSIABJ(NPYBJSHIFL+1);
	
	if (STLEOJDWSU=="D")
	{

			GCTYDSCWXE=YMHIHSNADE.world.centerX; //(( YMHIHSNADE.world.width-AQONVWHHFT-((SXSHBRJFIR*6)) - (YAJVUBPNNW*5)  +  SXSHBRJFIR  )    /2)+(SXSHBRJFIR*1.5);
			YSMHGCUJFD=YMHIHSNADE.world.height-(SXSHBRJFIR*2);
			



	}	
	if (STLEOJDWSU=="U")
	{
	
						
			GCTYDSCWXE=YMHIHSNADE.world.centerX; //(( YMHIHSNADE.world.width-AQONVWHHFT-((SXSHBRJFIR*6)) - (YAJVUBPNNW*5)  +  SXSHBRJFIR  )    /2)+(SXSHBRJFIR*1.5);
			YSMHGCUJFD=(MKSLYEWQQS)*1.5;	

		

	}
	if (STLEOJDWSU=="L")
	{
	
			GCTYDSCWXE=(COIVBWRMCC*2.5);
			//YSMHGCUJFD=YMHIHSNADE.world.height/2-COIVBWRMCC;
			YSMHGCUJFD=YMHIHSNADE.world.centerY;
			
	
		
	}
	if (STLEOJDWSU=="R")
	{
		
	
			GCTYDSCWXE=YMHIHSNADE.world.width-(COIVBWRMCC*2.5);
			//YSMHGCUJFD=YMHIHSNADE.world.height/2-COIVBWRMCC;	
			YSMHGCUJFD=YMHIHSNADE.world.centerY;
			
	
	}	
	
	
	

		
	log(false,"NPYBJSHIFL FTBVKLREAE: "+GCTYDSCWXE);
		
		
		
	//var bmd = YMHIHSNADE.add.bitmapData(YMHIHSNADE.world.width,YMHIHSNADE.world.height);

	// draw to the canvas context like normal


	// use the bitmap data as the texture for the sprite
	//var WTCIGMLJUY = YMHIHSNADE.add.image(0, 0, bmd);
	WTCIGMLJUY.revive();
	WTCIGMLJUY.alpha=0.7;
	WTCIGMLJUY.bringToTop();

	var FTBVKLREAE=YMHIHSNADE.add.image(GCTYDSCWXE,YSMHGCUJFD, 'general', HOGPTRLBYH);
	FTBVKLREAE.anchor.setTo(0.5, 0.5);


		
		var TTCLPDJAMD = YMHIHSNADE.add.tween(WTCIGMLJUY).to( { alpha: 0.7 }, 1000, KYFMRVNHIQ, true);
		TTCLPDJAMD.onComplete.add(  function(){
				TTCLPDJAMD = YMHIHSNADE.add.tween(WTCIGMLJUY).to( { alpha: 0 }, 500, KYFMRVNHIQ, true,1000,0);
				WTCIGMLJUY.kill();
			}
		);
		
		
		var NKJEHKJJJK = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 1 }, 1000, KYFMRVNHIQ, true);
		NKJEHKJJJK.onComplete.add(  function(){
				var twBocadilloDesconectado2 = YMHIHSNADE.add.tween(FTBVKLREAE).to( { alpha: 0 }, 500, KYFMRVNHIQ, true,1000,0);
				twBocadilloDesconectado2.onComplete.add(  function(){
					////console.log("Elimino imagen mensaje especial")
					FTBVKLREAE.destroy();
				})
			}
		);
}*/

BCVWETKAKG=function(JugadorQueReconecta,NombreDesconectado,posicionJugador,NuevoID,ArraySalaEnviar,QuienTomaControlServer,ArrayTareasServidor,TXLWIIINGQ)
{
	var LQPUBPQTJA;
	var i;
	var u;
	var NPYBJSHIFL;
	var STLEOJDWSU;
	var vEstabaReconectando;
	var UYEUYIYECB;
	//var EjecutandoTarea=false;
	
	//console.log("SALA ENVIAR "+ArraySalaEnviar.length);
	if (ArraySalaEnviar!= undefined && ArraySalaEnviar.length==1) //2.0.7
	{
		
		UYEUYIYECB=IEUIUCYUCC("La sala ya no es válida. ¡Entra de nuevo! :)" ,40);

		
		UYEUYIYECB.alpha=1
		var tw = YMHIHSNADE.add.tween(UYEUYIYECB).to( { alpha: 0 }, 1000, KYFMRVNHIQ, true,4000);
		tw.onComplete.add(function(){
			UYEUYIYECB.kill();
			
			FHKOYDXPCL();
			MHELAUXKXR();
			XEMENNVXGV();	
			
			
		});
	}
	

	
	if  (!(NuevoID==null || NuevoID==undefined || NuevoID==false))
	{
		
		console.log("Reconecto.. "+JugadorQueReconecta+" Nuevo "+NuevoID+" Tareas "+ArrayTareasServidor);
		console.log("y con este id "+TXLWIIINGQ);	
			
		if ( !(ArrayTareasServidor==false || ArrayTareasServidor==undefined || ArrayTareasServidor.length==0) )	
		{
			console.log("Tareas server "+ArrayTareasServidor.length)	
			for (i=0;i<=ArrayTareasServidor.length-1;i++)
			{
				console.log(ArrayTareasServidor[i].RHOLNWBOXR)
			}
		}
		else
		{
			console.log("No hay tareas servidor en reconectado");
		}
		
		/*if (NuevoID==undefined)
		{
			if (KYLIAIETHX==false)
			{
				socket.emit("Consola","Raruno");
			}
			console.log("Salgo a lo cobarde")
			return false;
		}*/
			
		//vEstabaReconectando=DUGDLNBOGK; 2.0.7
		
		//console.log("RECONECTADO "+HMVFLEYPXM.length+" "+RLEHYYGBGQ.length+" "+TXLWIIINGQ);
		//1.0.9
		if (XPBCVAGCDQ.length>0)
		{
			if (EstaArray(XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK,JugadorQueReconecta))
			{
				//DUGDLNBOGK=true; 2.0.7
				console.log("PARO EL TIEMPO");
				
				HUUCUYFBLW.stop();
				TKXPPGUPVV.stop();
			}
			else
			{
				console.log("NO PARO EL TIEMPO");
			}
		}
		//1.0.9 HUUCUYFBLW.stop();
		
		//return true;
		//PUBDSNTIUS.stop();
		
		log(true,"Desconecta el jugador ");
		log(true,"JUGADOR QUE RECONECTA "+JugadorQueReconecta);
		
		
		
		for (i=0;i<=KYDWXPGHVY.length-1;i++)
		{
			if (EstaArray(KYDWXPGHVY[i].AURESXCGMK,JugadorQueReconecta))
			{
				KYDWXPGHVY.splice(i,1);
				break;
			}			
			
		}
		
		
		var NumeroJugador=-1;
		for (i=0;i<=XPBCVAGCDQ.length-1;i++)
		{
			////console.log("Actualizando id: "+XPBCVAGCDQ[i].AURESXCGMK+ " "+ JugadorQueReconecta);
			if (EstaArray(XPBCVAGCDQ[i].AURESXCGMK,JugadorQueReconecta))
			{
				NPYBJSHIFL=i;	
				XPBCVAGCDQ[i].XJARYUVBCB=false;
				//XPBCVAGCDQ[i].AURESXCGMK=NuevoID; NOOO, se arregla más abajo.
				////console.log("Mi nuevo id: "+NuevoID);
				break;
			}
		}
		
		//LRYVPILWKS();
		

		
		
		//Para por si acaso no me he enterado de alguna desconexión mientras estaba desconectado
		if (ArraySalaEnviar!=undefined && ArraySalaEnviar!=null && ArraySalaEnviar.length>0)
		{
			for (i=0;i<=ArraySalaEnviar.length-1;i++)
			{
				
				for (u=0;u<=XPBCVAGCDQ.length-1;u++)
				{
					if (EstaArray(ArraySalaEnviar[i].AURESXCGMK,XPBCVAGCDQ[u].AURESXCGMK))
					{
						//XPBCVAGCDQ[u].JugadorSalaAnterior=XPBCVAGCDQ[u].AURESXCGMK; //dangerous 2.0.7
						
						console.log("Actualizando id: |"+XPBCVAGCDQ[i].AURESXCGMK+ "| "+ ArraySalaEnviar[i].AURESXCGMK);
						XPBCVAGCDQ[u].XJARYUVBCB=ArraySalaEnviar[i].XJARYUVBCB;
						XPBCVAGCDQ[u].AURESXCGMK=ArraySalaEnviar[i].AURESXCGMK;
						////console.log("Mi nuevo id: "+NuevoID);
						
					}
				}
			}
		}
		
		
		/*if (QuienTomaControlServer!=0)
		{
			ESKTEXAVHU=FHDOFSEVXQ(QuienTomaControlServer);   //1.0.9
			console.log("Control RECONECTADO "+ESKTEXAVHU+" "+QuienTomaControlServer+" Socket"+socket.id);
		
		}
		else
		{
			ESKTEXAVHU=-5;
		}*/
		
		
		if (KYLIAIETHX==false)
		{
			socket.emit("Consola","PRESoy "+TFSXFTYVGQ+". Desde reconectado "+QuienTomaControlServer+"   "+NuevoID);
		}
		

		//console.log("Toma el control a "+ESKTEXAVHU  +" desde desconectado "+QuienTomaControlServer);
		
		KYDWXPGHVY.splice(0,1000);
		LRYVPILWKS();


		/*if (XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK==NuevoID)
		{
			JHWIQQCLKD(DFBVDPETGO);
		}*/
		
		JHKJKHHJCC();

		if (TXLWIIINGQ!=false)
		{
			//vacas VWYRRWMSJI('Conectado',NPYBJSHIFL);
		}
		//IOJCRKJSRL();//1.0.6  1.0.9
		
		
		//Borro las tareas mías
		//NSYQEINSHS();
			
		
		
		//console.log("R1 "+XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK+ "  -  "+NuevoID+" "+TXLWIIINGQ);
		
		//if (vEstabaReconectando==false)
		//if (TXLWIIINGQ==false)
		//{
		//	//console.log("Tarea desde reconectado solo borrar "+TXLWIIINGQ);
		//
		//}
		//else
		//{
		//}
			
			PHPJPBNRNH(TXLWIIINGQ);
			if (XPBCVAGCDQ.length>0 && EstaArray(XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK,NuevoID))
			{
				//console.log("Entra al lanzador");
				if ( (ArrayTareasServidor==false || ArrayTareasServidor==undefined || ArrayTareasServidor.length==0) )
				{
					console.log("Entra al lanzador2");
					if (FReconectando()==false && (TXLWIIINGQ!=false && TXLWIIINGQ!=undefined && TXLWIIINGQ!=null) )
					{
						console.log("RECUPERA_ lanzador2");
						OGGWQECXBK(TXLWIIINGQ,false,false); //QUITADO
					}
					
				}
				else
				{		
					if (RapidoEnDesconexiones==true)
					{
						IRXOKNWTLV=50;
						MDYSFNYPYP=30;
						PVQFVAAAEY=500;
						BQUYYUASDK=30; 
					}
					console.log("RECUPERA_ insertando tareas");
					LVEMXLIFKA(ArrayTareasServidor,true);
				}
			}
			else
			{
				console.log("Entra al lanzador 5 y recupero");
				if (TXLWIIINGQ!=false && TXLWIIINGQ!=undefined && TXLWIIINGQ!=null)
				{
					var timerdelay;
					timerdelay=YMHIHSNADE.time.create(false);
					timerdelay.add(1500, function()
					{
						console.log("RECUPERA_ lanzador5");
						OGGWQECXBK(TXLWIIINGQ,false,false); //QUITADO
					});
					timerdelay.start();
				}
			}
	}
	else
	{
		/*if (QuienTomaControlServer!=0)
		{
			ESKTEXAVHU=FHDOFSEVXQ(QuienTomaControlServer);   //1.0.9
			console.log("Control RECONECTADO "+ESKTEXAVHU+" "+QuienTomaControlServer+" Socket"+socket.id);
		
		}
		else
		{
			ESKTEXAVHU=-7;
		}*/
	
		//OGGWQECXBK(TXLWIIINGQ,false,false); vacaciones
	}

	
	
	
	
}

PHPJPBNRNH=function(TXLWIIINGQ)
{
	var i;
	if (HMVFLEYPXM.length>0)
	{

		/* 2.0.1 cuelgue. Cambio por el while
		for (i=0;i<=HMVFLEYPXM.length-1;i++)
		{
			if (HMVFLEYPXM[i].OYJAHGADFQ==TXLWIIINGQ)
			{
				//console.log("Elimino la tarea desde reconectado R4"+HMVFLEYPXM[i].OYJAHGADFQ)
				HMVFLEYPXM.splice(i,1);							
			}
		}*/
		
		i=HMVFLEYPXM.length;
		while (i--)
		{
			if (HMVFLEYPXM[i].OYJAHGADFQ==TXLWIIINGQ)
			{
				//console.log("Elimino la tarea desde reconectado R4"+HMVFLEYPXM[i].OYJAHGADFQ)
				console.log("Borro tarea ")
				if (HMVFLEYPXM[i].RHOLNWBOXR=="PMXHPCMRIF")
				{
					console.log("Elimino tarea "+DevuelveNombreCartaDebug(HMVFLEYPXM[i].SJVCMXWVVI))
				}
				HMVFLEYPXM.splice(i,1);		
				
			}			
		}	
		
			
		
	}
	
	DesbloquearTirada(); //2.0.1 clave:bloqueotirada
	
	if (REDYBSYSNN.length>0)
	{
		/*for (i=0;i<=REDYBSYSNN.length-1;i++)
		{
			if (REDYBSYSNN[i]==TXLWIIINGQ)
			{
				//console.log("Elimino la tarea de bloqueos "+REDYBSYSNN[i])
				REDYBSYSNN.splice(i,1);							
			}
		}*/
		
		i=REDYBSYSNN.length;
		while (i--)
		{
			if (REDYBSYSNN[i]==TXLWIIINGQ)
			{
				//console.log("Elimino la tarea de bloqueos "+REDYBSYSNN[i])
				REDYBSYSNN.splice(i,1);							
			}			
		}
	}
	
}
/*NSYQEINSHS=function()
{
	var i;
	var u;
	
	if (HMVFLEYPXM.length>0)
		{
			for (i=0;i<=HMVFLEYPXM.length-1;i++)
			{
				if (HMVFLEYPXM[i].RHOLNWBOXR=="TGUUXMBTHT")
				{
					if (XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK==HMVFLEYPXM[i].SSUNXNEEHN
						|| XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK==HMVFLEYPXM[i].NuevoId) 
					{
						HMVFLEYPXM[i]["Borrar"]=true;
					}
				}			
			}
			
			for (i=0;i<=HMVFLEYPXM.length-1;i++)
			{
				if (HMVFLEYPXM[i].RHOLNWBOXR=="GCOMOMYQBP")
				{
					if (XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK==HMVFLEYPXM[i].SSUNXNEEHN
						) 
					{
						HMVFLEYPXM[i]["Borrar"]=true;
					}
				}			
			}		
			
			while (i--)
			{
				if (HMVFLEYPXM[i]["Borrar"]==true)
				{
					HMVFLEYPXM.splice(i,1);
				}
			}
		}
		
		DesbloquearTirada(); //2.0.1 clave:bloqueotirada
	
}*/

function BHAACHYLAS() {

	var key;
	
	//key='LEQRGVLYLX';		
	
	
	//KVBNWXDTON.name = key;
	//KVBNWXDTON.loadTexture(key, 0);
	
	NHLRWTHYVG=true;
	//alert("TAPETE DESCARGADO "+NHLRWTHYVG);
	

}


function GXFPVAOHBL() {

	var key;
	
	VKYLOUGFGR=true;
	
	
	//QYBDUBOCBT.x=QYBDUBOCBT.x*(-1);
	//QYBDUBOCBT.y=QYBDUBOCBT.y*(-1);
	//BackDorso.name = key;
	//BackDorso.loadTexture(key, 0);
	
	//QYBDUBOCBT.width=PJRPWGXEYM;
	//QYBDUBOCBT.height=PJRPWGXEYM;
	
	//log(true,"Se recalcula");

}


function OJPKPPKDJU() {

	var key;
	
	if (PWMIBRSDCJ[0].BUJELVTIKU!=null)
	{
		//LogicalNoticia=true;
		
		/*if (YMHIHSNADE.cache.checkImageKey('NoticiaRemoto')  && YMHIHSNADE.cache.checkImageKey('NoticiaRemoto2'))
		{
			key='NoticiaRemoto2';	
		}
		else
		{		 
			if (YMHIHSNADE.cache.checkImageKey('NoticiaRemoto') )
			{
				key='NoticiaRemoto';
			}
			else
			{
				key='NoticiaRemoto2';
			}
		}*/
		
	   if(BUJELVTIKU.name=='NoticiaRemoto')
	   {
		   key='NoticiaRemoto2';
	   }
	   else
	   {
		    key='NoticiaRemoto';
	   }	
		
		
		
		///
		if (YMHIHSNADE.cache.checkImageKey(key))
		{
			BUJELVTIKU.loadTexture(key, 0);	
			BUJELVTIKU.revive();			
		}
		
		if (key=='NoticiaRemoto')
		{
			if (YMHIHSNADE.cache.checkImageKey('NoticiaRemoto2'))
			{				
				YMHIHSNADE.cache.removeImage('NoticiaRemoto2');
			}
		}
		else
		{
			if (YMHIHSNADE.cache.checkImageKey('NoticiaRemoto'))
			{
				YMHIHSNADE.cache.removeImage('NoticiaRemoto');
			}			
		}				
		

		
		
		
		BUJELVTIKU.x=230; //2.0.1
		BUJELVTIKU.y=-500;	//2.0.1
		
		var tw=YMHIHSNADE.add.tween(BUJELVTIKU).to( { y: 345 }, 1000, QUXNHVVDDK);
		tw.start();
		////console.log("DIBUJA");
	}

}

function SJXIUSUWHQ(SinImagen) {

	var key;
	
	key='imagen1';		
	
	if (QYBDUBOCBT.x<0)
	{
		QYBDUBOCBT.x=QYBDUBOCBT.x*(-1);
		QYBDUBOCBT.y=QYBDUBOCBT.y*(-1);
	}
	
	//QYBDUBOCBT.name = key;
	if (SinImagen==true)
	{
		QYBDUBOCBT.loadTexture('general','desconocido', 0);
	}
	else
	{
		if (YMHIHSNADE.cache.checkImageKey(key))
		{
			try
			{
				QYBDUBOCBT.loadTexture(key, 0);
			}
			catch(e)
			{
				log(true,"No consigo cargar la imagen de sprite 1");
				//console.log("No pudo")
			}
		}
		else
		{
			QYBDUBOCBT.loadTexture('general','desconocido', 0);
		}
	}
	QYBDUBOCBT.width=PJRPWGXEYM;
	QYBDUBOCBT.height=PJRPWGXEYM;
	
	log(true,"Se recalcula");

}
function CWTXODSQLJ(SinImagen) {

	var key;
	
	key='imagen2';		
	
	if (BDQHBTUNWW.x<0)
	{
		BDQHBTUNWW.x=BDQHBTUNWW.x*(-1);
		BDQHBTUNWW.y=BDQHBTUNWW.y*(-1);
	}
	
	//QYBDUBOCBT.name = key;
	if (SinImagen==true)
	{
		BDQHBTUNWW.loadTexture('general','desconocido', 0);
	}
	else
	{
		if (YMHIHSNADE.cache.checkImageKey(key))
		{
			try
			{
				BDQHBTUNWW.loadTexture(key, 0);
			}
			catch(e)
			{
				log(true,"No consigo cargar la imagen de sprite 2");
				//console.log("No pudo")
			}
		}
		else
		{
			BDQHBTUNWW.loadTexture('general','desconocido', 0);
		}
	}
	
	BDQHBTUNWW.width=PJRPWGXEYM;
	BDQHBTUNWW.height=PJRPWGXEYM;
	
	log(true,"Se recalcula");

}

function EXQNVUFJLI(SinImagen) {

	var key;
	
	key='imagen3';		
	
	if (PRWBHVTUSC.x<0)
	{
		PRWBHVTUSC.x=PRWBHVTUSC.x*(-1);
		PRWBHVTUSC.y=PRWBHVTUSC.y*(-1);
	}
	
	//QYBDUBOCBT.name = key;
	if (SinImagen==true)
	{
		PRWBHVTUSC.loadTexture('general','desconocido', 0);
	}
	else
	{
		if (YMHIHSNADE.cache.checkImageKey(key))
		{
			try
			{
				PRWBHVTUSC.loadTexture(key, 0);
			}
			catch(e)
			{
				log(true,"No consigo cargar la imagen de sprite 1");
				//console.log("No pudo")
			}
		}
		else
		{
			PRWBHVTUSC.loadTexture('general','desconocido', 0);
		}
	}
	
	PRWBHVTUSC.width=PJRPWGXEYM;
	PRWBHVTUSC.height=PJRPWGXEYM;
	
	log(true,"Se recalcula");

}

function DJAOLUHAHL(SinImagen) {

	var key;
	
	key='imagen4';		
	
	if (BMWINQGWDD.x<0)
	{
		BMWINQGWDD.x=BMWINQGWDD.x*(-1);
		BMWINQGWDD.y=BMWINQGWDD.y*(-1);
	}
	
	//QYBDUBOCBT.name = key;
	if (SinImagen==true)
	{
		BMWINQGWDD.loadTexture('general','desconocido', 0);
	}
	else
	{	
		if (YMHIHSNADE.cache.checkImageKey(key))
		{
			try
			{
				BMWINQGWDD.loadTexture(key, 0);
			}
			catch(e)
			{
				log(true,"No consigo cargar la imagen de sprite 1");
				//console.log("No pudo")
			}
		}
		else
		{
			BMWINQGWDD.loadTexture('general','desconocido', 0);
		}
	}
	
	BMWINQGWDD.width=PJRPWGXEYM;
	BMWINQGWDD.height=PJRPWGXEYM;
	
	log(true,"Se recalcula");

}

function fileError1() {

	
	if (QYBDUBOCBT.x<0)
	{
		QYBDUBOCBT.x=QYBDUBOCBT.x*(-1);
		QYBDUBOCBT.y=QYBDUBOCBT.y*(-1);
	}
	
	//QYBDUBOCBT.name = key;
	QYBDUBOCBT.loadTexture('general','desconocido', 0);
	
	QYBDUBOCBT.width=PJRPWGXEYM;
	QYBDUBOCBT.height=PJRPWGXEYM;
	
	log(true,"Se recalcula");

}

function fileError2() {

	
	if (BDQHBTUNWW.x<0)
	{
		BDQHBTUNWW.x=BDQHBTUNWW.x*(-1);
		BDQHBTUNWW.y=BDQHBTUNWW.y*(-1);
	}
	
	//QYBDUBOCBT.name = key;
	BDQHBTUNWW.loadTexture('general','desconocido', 0);
	
	BDQHBTUNWW.width=PJRPWGXEYM;
	BDQHBTUNWW.height=PJRPWGXEYM;
	
	log(true,"Se recalcula");

}

function fileError3() {

	
	if (PRWBHVTUSC.x<0)
	{
		PRWBHVTUSC.x=PRWBHVTUSC.x*(-1);
		PRWBHVTUSC.y=PRWBHVTUSC.y*(-1);
	}
	
	//QYBDUBOCBT.name = key;
	PRWBHVTUSC.loadTexture('general','desconocido', 0);
	
	PRWBHVTUSC.width=PJRPWGXEYM;
	PRWBHVTUSC.height=PJRPWGXEYM;
	
	log(true,"Se recalcula");

}

function fileError4() {

	
	if (BMWINQGWDD.x<0)
	{
		BMWINQGWDD.x=BMWINQGWDD.x*(-1);
		BMWINQGWDD.y=BMWINQGWDD.y*(-1);
	}
	
	//QYBDUBOCBT.name = key;
	BMWINQGWDD.loadTexture('general','desconocido', 0);
	
	BMWINQGWDD.width=PJRPWGXEYM;
	BMWINQGWDD.height=PJRPWGXEYM;
	//console.log("jj");
	log(true,"Se recalcula");

}
// Socket connected
AYAOSXTCBR  = function() {
	
	//console.log("CONECTADO");
	var UYEUYIYECB="";
	console.log("QKVJASWVEO caida "+UJHVBJDGJD);
	if (XPBCVAGCDQ.length>0 && EGPDVIEJEL==true) //Significa que ya estoy en modo juego
	{
		
		if (DesdeMinimizado==true) //O uno u otro
		{	
			vVecesMinimizado++;
		}
		else
		{
			vVecesReconectado++;
		}
		
		console.log("LIMITES "+LimiteReconexiones+" "+LimiteMinimizados);
		if (vVecesMinimizado>=LimiteMinimizados)
		{
			UYEUYIYECB=IEUIUCYUCC("Te has ausentado de la partida "+vVecesMinimizado+" veces.\n"+
				"Tu pareja te necesita al 100% :)",40);
			
		}
		else
		{
			if (vVecesReconectado>=LimiteReconexiones)
			{	
				UYEUYIYECB=IEUIUCYUCC("Pierdes la conectividad con mucha frecuencia.\n"+
				"Intenta mejorarla y ¡disfruta! :)",40);
			}
		}
		
		if (UYEUYIYECB=="")
		{
			var Ahora=new Date(Date.now());
			var	Dif=Ahora-UJHVBJDGJD;

		if (Dif>=LimiteTiempoReconexion*1000)
			UYEUYIYECB=IEUIUCYUCC("Has tardado demasiado tiempo en regresar. :(",40)
		}
		
		
	}
	
	if (UYEUYIYECB!="")
	{
		SimularQuitarGBits();
		
		
		vVecesMinimizado=0;
		vVecesReconectado=0;
		
		UYEUYIYECB.alpha=1
		var tw = YMHIHSNADE.add.tween(UYEUYIYECB).to( { alpha: 0 }, 1000, KYFMRVNHIQ, true,4000);
		tw.onComplete.add(function(){
			UYEUYIYECB.kill();
			
			FHKOYDXPCL();
			MHELAUXKXR();
			XEMENNVXGV();	
			
			
		});
		
	}
	else
	{
		if (DesdeMinimizado==true)
		{		
			
			console.log("CONECTADO DESDE MINIMiZADO");
			if (XPBCVAGCDQ.length>0) //2.0.7
			{
				console.log("Envio al server en conected "+socket.id);
				//alert("Envio al server conected "+socket.id)
				socket.emit("Reconectado", XPBCVAGCDQ[TFSXFTYVGQ-1].AURESXCGMK,XPBCVAGCDQ[TFSXFTYVGQ-1].Sala,true,socket.id,MQUGCIUQII);	  
			}
		}
		DesdeMinimizado=false;
		
		if (TDILLGNFGX==true)
		{
			TDILLGNFGX=false;
			JVEHDHOEEM();		
		}
		
		JKCANKPQBB=0;
		////console.log("CONECTADO");
	 // log(false,'Conectado al servidor:')
	  ////console.log(socket.id);
	  ////console.log("kkk");
	  //console.log("Jj");
		if (SNJCSVWFCC()==true)
		{
			if (SNJCSVWFCC()==true && ( UEHYPTREIH.alive==true || LNJDKEVPQE.alive==true  ))
			{
				
				socket.emit('JKHWJKHIWF');
				socket.emit('EOMOFODTKB', socket.id,SFKLFIJOIO) ; //2.0.1 03/02/2018 Clave:PubliMono
			}
			
			if (SNJCSVWFCC()==true && UEHYPTREIH.alive==false ) //Solo se envia la peticion si no estoy en la pantalla principal
			//Ya que si no aparece la pantalla de login al principio
			{
				if (MYQBNBVHKU==false && EGPDVIEJEL==true)
				{
					
					socket.emit('PIXQSCGEJH', DFBVDPETGO,socket.id, false,SFKLFIJOIO,ObjetoG) ;
					//rave socket.emit('SNEESSIXBK', SFKLFIJOIO);
				}
			}
			else
			{
				//rave if (SNJCSVWFCC()==true)
				//{

					//rave
					/*socket.emit('EOMOFODTKB', socket.id,SFKLFIJOIO) ;
					
					if (PWMIBRSDCJ.length>0)
					{
						var JugadorPubli=PWMIBRSDCJ[0].WWKVHIMWYD;
						var JugadorFullPubli=PWMIBRSDCJ[0].FFRVOEAXTF + '-'+ PWMIBRSDCJ[0].BDYYDTFQAO;
						socket.emit('EOMOFODTKB', socket.id,SFKLFIJOIO,ObjetoG) ;
					}
					else
					{
						socket.emit('EOMOFODTKB', socket.id,SFKLFIJOIO,ObjetoG) ;
					}*/
					
					
					//rave socket.emit('SNEESSIXBK', SFKLFIJOIO);
				//}
			}
			
			
		}
	}
  //socket.emit('adduser', prompt("What's your name?"));
  
};

SNJCSVWFCC=function()
{
	var Conectado=false;
	
	try
	{
		Conectado=socket.connected;
	}
	catch(e)
	{
		Conectado=false;
		////console.log("Conectado2 "+socket.connected);
	}
	
	return Conectado;
}
RWOCHOBYJY  = function() {
	YUXWLFWVRD();
};

AAQWTFMQMA = function() {
 log(false,'carta movida')
 //log(false,this.hola)
//Level.prototype.Dibuja();
//Dibuja();
 
 };
 
 DQNJCOABIH = function() {
 log(false,'ya te la envo')
 //log(false,this.hola)
//Level.prototype.Dibuja();

 
 };

 NUWTGXUUTS=function(VKEXSBRECU,TXLWIIINGQ) {
	log(true,"Le llega");
	NSNUIQUYIU.kill();
	JSJSHSHSSE.kill();
	MYQBNBVHKU=true;
	//alert("COMENZADA");
	////console.log("Llamada 9");
	//IOJCRKJSRL();
	////console.log("Antes de prepararcaracteristicamano");
	JQSOOBSDDS();	
	KKQJCHKQEP();
	//console.log("superorganizador desde comenzad");
	//GIDSSFEUNT();
	
	if (VKEXSBRECU==false)
	{
		//console.log("OGGWQECXBK: comenzando partida");
		console.log("RECUPERA_ quedapillado");
		OGGWQECXBK(TXLWIIINGQ,false,false); //Comenzando partida
	}
	////console.log("Después de prepararcaracteristicamano");
	
 };
 
 KSKJDEIIEI=function()
 {
	
	JSJSHSHSSE.kill();
	JBXCGDTWYW.revive();
	YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
    JBXCGDTWYW.alpha = 0;

    //  Create our tween. This will fade the sprite to alpha 1 over the duration of 2 seconds
    var tween = YMHIHSNADE.add.tween(JBXCGDTWYW).to( { alpha: 1 }, 1500, "Linear", true, 0, -1);

    //  And this tells it to yoyo, i.e. fade back to zero again before repeating.
    //  The 3000 tells it to wait for 3 seconds before starting the fade back.
    tween.yoyo(true, 3000);
	

 }
 
  UWHKCVJHKV=function()
 {
	
	JSJSHSHSSE.kill();
	NSNUIQUYIU.revive();
	YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
    NSNUIQUYIU.alpha = 0;

    //  Create our tween. This will fade the sprite to alpha 1 over the duration of 2 seconds
    var tween = YMHIHSNADE.add.tween(NSNUIQUYIU).to( { alpha: 1 }, 1500, "Linear", true, 0, -1);

    //  And this tells it to yoyo, i.e. fade back to zero again before repeating.
    //  The 3000 tells it to wait for 3 seconds before starting the fade back.
    tween.yoyo(true, 3000);
	

 }
 
  NHKJAHUEIE=function()
 {
	 var i;
	 var vivo=0;
	 
	EligiendoPareja=true; 
	for (i=0;i<=XPBCVAGCDQ.length-1;i++)
	{
		if (XPBCVAGCDQ[i].XJARYUVBCB==false)
		{
			vivo=i;
		}
	}
	 
	JBXCGDTWYW.kill();
	if (XPBCVAGCDQ.length>0)
	{
		JSJSHSHSSE.text=XPBCVAGCDQ[vivo].WWKVHIMWYD+" está eligiendo pareja";
	}
	else
	{
		JSJSHSHSSE.text="Se está eligiendo pareja";
	}
	
	JSJSHSHSSE.revive();
    JSJSHSHSSE.alpha = 0;

	
    //  Create our tween. This will fade the sprite to alpha 1 over the duration of 2 seconds
    var tween = YMHIHSNADE.add.tween(JSJSHSHSSE).to( { alpha: 1 }, 1500, "Linear", true, 0, -1);

    //  And this tells it to yoyo, i.e. fade back to zero again before repeating.
    //  The 3000 tells it to wait for 3 seconds before starting the fade back.
    tween.yoyo(true, 3000);
	

 }
 
 RUVPPDCRDY=function(OrdenConectado)
 {
	 var STLEOJDWSU;
	 
 }
 
 RWANTPBSQE=function(MMIFVRWSYK)
 {
	 
	var QuienDeshabilito;
	var STLEOJDWSU;
	var i;
	var VEFCIYHBGC=false;
	var SSUNXNEEHN;
	var UYEUYIYECB;
	
	SSUNXNEEHN=MMIFVRWSYK;
	
	STLEOJDWSU=HHOPUSIABJ(SSUNXNEEHN);
	log(true,"ALGO CON LA STLEOJDWSU "+STLEOJDWSU);
	for (i=0;i<=QLNEIQGEDF.length-1;i++)
	{
		if (QLNEIQGEDF[i]==STLEOJDWSU)
		{
			VEFCIYHBGC=true;
			break;
		}
	}
	
	if (VEFCIYHBGC==false) //Hay que deshabilitarlo
	{
		if(STLEOJDWSU!="D")
		{
			QLNEIQGEDF.push(STLEOJDWSU);
		
			
			if (MMIFVRWSYK==1)
			 {
				QYBDUBOCBT.tint=Phaser.Color.getColor(110,110,110);
			 }
			 if (MMIFVRWSYK==2)
			 {
				 BDQHBTUNWW.tint=Phaser.Color.getColor(110,110,110);
			 }	
			 if (MMIFVRWSYK==3)
			 {
				 PRWBHVTUSC.tint=Phaser.Color.getColor(110,110,110);
			 }	 
			 if (MMIFVRWSYK==4)
			 {
				 BMWINQGWDD.tint=Phaser.Color.getColor(110,110,110);
			 }	 
			 
		 }
	}
	else
	{
		QLNEIQGEDF.splice(i,1);
		if (MMIFVRWSYK==1)
		 {
			QYBDUBOCBT.tint=Phaser.Color.getColor(255,255,255);
		 }
		 if (MMIFVRWSYK==2)
		 {
			 BDQHBTUNWW.tint=Phaser.Color.getColor(255,255,255);
		 }	
		 if (MMIFVRWSYK==3)
		 {
			 PRWBHVTUSC.tint=Phaser.Color.getColor(255,255,255);
		 }	 
		 if (MMIFVRWSYK==4)
		 {
			 BMWINQGWDD.tint=Phaser.Color.getColor(255,255,255);
		 }	 
	}
	
	if (STLEOJDWSU=="D")
	{
		
		UYEUYIYECB=IEUIUCYUCC("Pulse sobre la foto de los jugadores\npara activar o desactivar el chat con ellos",40);
	}
	else
	{
		if (VEFCIYHBGC==false)
		{
			UYEUYIYECB=IEUIUCYUCC("Chat deshabilitado con "+XPBCVAGCDQ[MMIFVRWSYK-1].WWKVHIMWYD,40);
			
			if (XPBCVAGCDQ[0].Amigo==false)
			{
				socket.emit("JKJHCJKAQE", PWMIBRSDCJ[0].OBTBPOULAV, PWMIBRSDCJ[0].NBJHGSFSJS, XPBCVAGCDQ[MMIFVRWSYK-1].OBTBPOULAV,DFBVDPETGO);				
			}
		}
		else
		{
			UYEUYIYECB=IEUIUCYUCC("Chat habilitado con "+XPBCVAGCDQ[MMIFVRWSYK-1].WWKVHIMWYD,40);
			if (XPBCVAGCDQ[0].Amigo==false)
			{
				socket.emit("UIHVKHWKOV", PWMIBRSDCJ[0].OBTBPOULAV, PWMIBRSDCJ[0].NBJHGSFSJS, XPBCVAGCDQ[MMIFVRWSYK-1].OBTBPOULAV,DFBVDPETGO);
			}
		}
		

	}
	
	UYEUYIYECB.alpha=1
	var tw = YMHIHSNADE.add.tween(UYEUYIYECB).to( { alpha: 0 }, 1000, KYFMRVNHIQ, true,1000);
	tw.onComplete.add(function(){
		UYEUYIYECB.kill();
	});
	 
 }
 
 FHDOFSEVXQ=function(QuienTomaControlServer)
 {
	 var i;
	 var QOWECQVXCM=0;
	 var SoloYo;
	 var UHYCGYFWYJ=0;
	 //var u;
	 
	 for (i=0;i<=XPBCVAGCDQ.length-1;i++)
	 {
		 //for (u=0;u<=QuienTomaControlServer.length-1;u++)
		 //{
			 if (EstaArray(XPBCVAGCDQ[i].AURESXCGMK,QuienTomaControlServer))
			 {
				 QOWECQVXCM=(i+1);
			 }
		 //}
	 }
	 
	// if (QOWECQVXCM==0)
	// {
		 //console.log("OJO QUE NO ENCUENTRA AL PLAYER "+QuienTomaControlServer+" "+QuienTomaControlServer)
		 //for (i=0;i<=XPBCVAGCDQ.length-1;i++)
		 //{
			 //console.log("Desglosando: "+XPBCVAGCDQ[i].AURESXCGMK);
		/*	 if (XPBCVAGCDQ[i].XJARYUVBCB==true)
			 {
				 UHYCGYFWYJ++;
			 }*/
		// }		 
		 //QOWECQVXCM=TFSXFTYVGQ;
		 
		/* if (UHYCGYFWYJ==4)
		 {
			QOWECQVXCM=TFSXFTYVGQ; 
		 }
		 else
		 {
			 QOWECQVXCM=0;
		 }*/
		 
		 
	// }
	
	if (KYLIAIETHX==false)
	{	
		socket.emit("Consola","Soy "+TFSXFTYVGQ+". Toma el control "+QOWECQVXCM)
	}
	 
	 return QOWECQVXCM;
 }
 
 NSIRYROROW = function(conectados,room,HGIFKEMXAD,QuienTomaControlServer,TXLWIIINGQ) {
	 NGHJWGJHWG();
	 DFBVDPETGO=room;
	 log(false,'conectados: '+conectados)
	 log(false,'DFBVDPETGO: '+DFBVDPETGO)

	 //console.log("CONECTADOS SALAS");
	if (XPBCVAGCDQ.length>0)
	{
		//DUGDLNBOGK=true; 2.0.1 critico
		//console.log("Pongo reconectado desde conectado")
	}
	
	//console.log("CON");
	var LongitudArray = HGIFKEMXAD.length-1;

	var i;
	var u;
	var VEFCIYHBGC;
	var QHHQPXWFNG;
	//var textJugador;
	var UBWRXKMTQN;
	var x1;
	var y1;
	var x1text;
	var y1text;
	var JKAHSQUUIA=0;
	var imagen1="";
	var imagen2="";
	var imagen3="";
	var imagen4="";

	var tapete;
	var LEQRGVLYLX="";
	var DCIKAAMXTU="";
	var CBGXLQKDBG="";	
	var JBCHKJWHKP="";

	//Onjetos Loader;
	var a;
	var b;
	var c;
	var d;

	FSKHWVCMCA=false;
	CUUKQAGFEB.x=QETACVSHAR;
	//XPBCVAGCDQ.splice(0,1000);

	EFKTQSXAMA.kill();
	LNJDKEVPQE.kill();
	TextGbits.kill();
	TextGbitsIndicador.kill();
	bolsa_dinero.kill();
	
	//if (JBXCGDTWYW==undefined)
	//{
	log(true,"Longitud de conectados sala aleatoria "+LongitudArray)

	
	console.log("CONECTADO SALA");
	YHNMANDWLT();
		
	log(true,"Se borra "+LongitudArray);
	for (i=0;i<=LongitudArray;i++){
		////console.log("SOCKETS: ");
		////console.log("SOCKETS ID: "+socket.id);
		////console.log("SOCKETS JUGADOR: "+HGIFKEMXAD[i].AURESXCGMK);
		if (HGIFKEMXAD[i].Sala==room)
		{
			
			VEFCIYHBGC=false;
			for (u=0;u<=XPBCVAGCDQ.length-1;u++)
			{
				if (EstaArray(HGIFKEMXAD[i].AURESXCGMK,XPBCVAGCDQ[u].AURESXCGMK))
				{
					VEFCIYHBGC=true;
				}			
			}	
			
			if (VEFCIYHBGC==false)
			{
				
				/*tapete=HGIFKEMXAD[i].IRQGAFESIC;
				if (JHJEWHFWNL==true)
				{
					tapete=tapete.replace('.jpg','_43.jpg');
				}*/ //2.0.1 20180201
				
				if (HGIFKEMXAD[i].QHHQPXWFNG==null || HGIFKEMXAD[i].QHHQPXWFNG=="null"  || HGIFKEMXAD[i].QHHQPXWFNG==undefined)
				{					
					//QHHQPXWFNG=JHGHJAGCMC+"/assets/images/desconocido.png";
					QHHQPXWFNG="sin_foto"; //2.0.6 sin que lo coja de Máquina para que lo coja en local
				}
				else
				{
					QHHQPXWFNG=HGIFKEMXAD[i].QHHQPXWFNG
				}
				
				////console.log("Mi nivelaco "+HGIFKEMXAD[i].OIUIOWCHVW);
				
				//NOOOOO
				XPBCVAGCDQ.push(new JHIWUIUYCJ(HGIFKEMXAD[i].AURESXCGMK,HGIFKEMXAD[i].Sala,false,HGIFKEMXAD[i].WWKVHIMWYD,
					HGIFKEMXAD[i].BONQVNOXDP,QHHQPXWFNG,null,HGIFKEMXAD[i].XJARYUVBCB,HGIFKEMXAD[i].ReconectadoFecha,HGIFKEMXAD[i].EJOYNSESRD,HGIFKEMXAD[i].IRQGAFESIC, HGIFKEMXAD[i].Amigo , HGIFKEMXAD[i].OBTBPOULAV, (i+1), "",HGIFKEMXAD[i].WWKVHIMWYD, HGIFKEMXAD[i].UHYGLMAUNK,HGIFKEMXAD[i].NBJHGSFSJS,
					HGIFKEMXAD[i].OIUIOWCHVW,HGIFKEMXAD[i].NHWYTYUSYG,HGIFKEMXAD[i].NMABCQQCDD,HGIFKEMXAD[i].AMBCNABIQQ
					));
					
					/*			XPBCVAGCDQ.push(new JHIWUIUYCJ(HGIFKEMXAD[i].AURESXCGMK,HGIFKEMXAD[i].Sala,false,HGIFKEMXAD[i].WWKVHIMWYD,
					HGIFKEMXAD[i].BONQVNOXDP,QHHQPXWFNG,null,false,HGIFKEMXAD[i].ReconectadoFecha,HGIFKEMXAD[i].EJOYNSESRD,HGIFKEMXAD[i].IRQGAFESIC, HGIFKEMXAD[i].Amigo , HGIFKEMXAD[i].OBTBPOULAV, (i+1), "",HGIFKEMXAD[i].WWKVHIMWYD, HGIFKEMXAD[i].UHYGLMAUNK,HGIFKEMXAD[i].NBJHGSFSJS,
					1,true,HGIFKEMXAD[i].NMABCQQCDD,HGIFKEMXAD[i].AMBCNABIQQ
					))	*/
					
					
					
					
					
				////console.log("Campeon semanal "+HGIFKEMXAD[i].NHWYTYUSYG+" "+HGIFKEMXAD[i].OIUIOWCHVW);	
					
				//log(true,"Se está recibiendo "+HGIFKEMXAD[i].WWKVHIMWYD+" "+HGIFKEMXAD[i].XJARYUVBCB	);
				//log(true,"Se ha guardado ");
				//log(true,"Se ha guardado "+XPBCVAGCDQ[XPBCVAGCDQ.length-1].XJARYUVBCB);
			}
			else
			{
				//DUGDLNBOGK=true; //2.0.1 critico
				//console.log("Pongo DUGDLNBOGK a true desde NSIRYROROW");
			}
		}			
	}
	
	if (KYLIAIETHX==false)
	{
		socket.emit("Consola","PRESoy "+TFSXFTYVGQ+". Desde conectados");
	}
	
	//ESKTEXAVHU=FHDOFSEVXQ(QuienTomaControlServer);
	//console.log("Toma el control al conectar: "+QuienTomaControlServer+" "+ESKTEXAVHU);
	
	LRYVPILWKS(); //1.0.9

	if (LongitudArray<=2)
	{
		KSKJDEIIEI();
	}
	else
	{
		NHKJAHUEIE();
	}
	
	////console.log("Llamada 10");
	//1.0.9 IOJCRKJSRL();

	//Saco el bucle porque si se conecta el segundo, no sabe quien es
	 for (var i=0;i<=XPBCVAGCDQ.length-1;i++){
		////console.log("RECIBIENDO JUGADORES: "+XPBCVAGCDQ[i].AURESXCGMK+  "    "+socket.id)
		if (EstaArray(XPBCVAGCDQ[i].AURESXCGMK,socket.id))
		{
			
			//ACGJHQWGVB();
			
			TFSXFTYVGQ=i+1;
			////console.log("CHANGE1: "+TFSXFTYVGQ);
			
			XIQDONAJMM.kill();
			KVBNWXDTON.revive();
			
			//DMLCWWNWRP();
			
			
			log(true,XPBCVAGCDQ[i].IRQGAFESIC);
			log(true,XPBCVAGCDQ[i].EJOYNSESRD);
			////console.log("CHAT "+PWMIBRSDCJ[0].MBMWBWUYUY);
			IFMJVFFEQN.revive();
			PANPKTGSCV.kill();
			HRGDCMPPKU.revive();
			KAHCKJHQEO.revive();
		  
			if (PWMIBRSDCJ.length>0)
			{
				IFMJVFFEQN.visible=PWMIBRSDCJ[0].MBMWBWUYUY;	 //1.0.8
				PANPKTGSCV.visible=PWMIBRSDCJ[0].MBMWBWUYUY;
				HRGDCMPPKU.visible=PWMIBRSDCJ[0].MBMWBWUYUY
				
				if (PWMIBRSDCJ[0].MBMWBWUYUY==false)
				{
					PANPKTGSCV.kill();
					HRGDCMPPKU.kill();
				}
				
			}

			
		}
	}


		
	JHKJKHHJCC();
	


	if (XPBCVAGCDQ.length==4){
		HJKHDKJHWU.kill();
		var MMNORPWJDC;
		for (i=0;i<=XPBCVAGCDQ.length-1;i++)
		{
			////console.log("Antes "+XPBCVAGCDQ[i].WWKVHIMWYD+" Orden: "+ XPBCVAGCDQ[i].KKUYGYRGYG+ " "+XPBCVAGCDQ[i].AURESXCGMK + " "+socket.id)
			if (XPBCVAGCDQ[i].XJARYUVBCB==false)
			{
				MMNORPWJDC=XPBCVAGCDQ[i].AURESXCGMK;
			}
		}

		

		 if (EstaArray(MMNORPWJDC,socket.id)){ //Se crea la baraja
			
			DVNRTQIWGL=1;
			VVCDGUUDWR(true);

		 }
		
	 }
	 else
	 {
		 for (i=0;i<=XPBCVAGCDQ.length-1;i++)
		 {
			if (XPBCVAGCDQ[i].XJARYUVBCB==false)
			{
				MMNORPWJDC=XPBCVAGCDQ[i].AURESXCGMK;
			} 
		 }
		 
		 if (EstaArray(MMNORPWJDC,socket.id))
		 {	
			//if (TPUQKKKNMX<=40 || XPBCVAGCDQ[i].Amigo==true)
			//console.log("Usuarios online "+TPUQKKKNMX);
			if (TPUQKKKNMX<=40 || XPBCVAGCDQ[0].Amigo==true ) //2.0.1 pongo esto
			{
				HJKHDKJHWU.revive();
			}
			else
			{
				HJKHDKJHWU.kill();
			}
		 }
		 else
		 {
			HJKHDKJHWU.kill();
		 }
		 
		 
	 }
	 
	//console.log("OGGWQECXBK: conectados sala");
	//OGGWQECXBK(TXLWIIINGQ,false,false); //Conectados Sala
 };
 
 EstaArray=function(Buscar1,Buscar2)
{
	var i;
	var u;
	
	var BusquedaArray=[];
	var BusquedaArray2=[];
	
	if (Array.isArray(Buscar2)==true)
	{
		//console.log("ES ARRAY");
		BusquedaArray2=Buscar2.slice();
	}
	else
	{
		
		BusquedaArray2.push(Buscar2);
		//console.log("NO ES ARRAY");
	}
	
	//console.log("QUE PASA "+BusquedaArray[0]+" "+BusquedaArray.length);
	
	
	if (Array.isArray(Buscar1)==true)
	{
		//console.log("ES ARRAY");
		BusquedaArray1=Buscar1.slice();
	}
	else
	{
		
		BusquedaArray1.push(Buscar1);
		//console.log("NO ES ARRAY");
	}	
	
	
	var VEFCIYHBGC=false;
	for (i=0;i<=BusquedaArray1.length-1;i++)
	{
		for (u=0;u<=BusquedaArray2.length-1;u++)
		{
			//console.log("COMPARANDO "+BusquedaArray1[i]+" con "+BusquedaArray2[u])
			if (BusquedaArray1[i]==BusquedaArray2[u])
			{
				VEFCIYHBGC=true;
				break;
			}
		}
	}
	return VEFCIYHBGC;
}

 OIQUIOCVKK=function(OIUIOWCHVW,Origen)
 {
	 //Origen 1: Tabla Clasificacion Origen 2: DKIFYHXLLC
	 var Logro="SinLogro";
	 var Imagen="sin_logro.png";
	 
 
	 
	 var RTOSLKFWHC="";
	 if (OIUIOWCHVW==1)
	 {
		 Logro='nivel_pro';
		 Imagen='nivel_pro.png'
	 }
	 if (OIUIOWCHVW==2)
	 {
		 Logro='nivel_ninja';
		 Imagen='nivel_ninja.png'
	 }
	 if (OIUIOWCHVW==3)
	 {
		 Logro='nivel_mago';
		 Imagen='nivel_mago.png'
	 }
	 if (OIUIOWCHVW==4)
	 {
		 Logro='nivel_diplomado';
		 Imagen='nivel_diplomado.png'
	 }	 
	
	if (Origen==1)
	{
		RTOSLKFWHC=Imagen;
	}
	else
	{
		RTOSLKFWHC=Logro;
	}
	
	return RTOSLKFWHC;
	
 }
 		
 
  JHKJKHHJCC=function(){
	 
	var i;
	var u;
	var VEFCIYHBGC;
	//var textJugador;
	var UBWRXKMTQN;
	var x1;
	var y1;
	var x1text;
	var y1text;
	var JKAHSQUUIA=0;
	var imagen1="";
	var imagen2="";
	var imagen3="";
	var imagen4="";

	var LEQRGVLYLX="";
	var DCIKAAMXTU="";
	var CBGXLQKDBG="";
	var JBCHKJWHKP="";

	//Onjetos Loader;
	var a;
	var b;
	var c;
	var d;
	var AjusteLetra=30;
	
	var Desplazamiento;
	var DesplazamientoY;
	var xLogro=0;
	var yLogro=0;
	var	xMedalla=0;
	var yMedalla=0;
	
	MMNXBIJWIW();

	for (i=0;i<=XPBCVAGCDQ.length-1;i++){
		//console.log("QHHQPXWFNG "+i+" "+XPBCVAGCDQ[i].QHHQPXWFNG);
		JKAHSQUUIA=i+1;
		//if (IGPARKSECH(JKAHSQUUIA)==true)
		if (1==1)
		{
	 		log(true,"SSUNXNEEHN Temporal "+JKAHSQUUIA);
			////console.log("1");
		
			UBWRXKMTQN=HHOPUSIABJ(JKAHSQUUIA);
			////console.log("1.1");
			log(true,"Ha devuelto "+UBWRXKMTQN);
			SUMEMLHUFX("D");
			////console.log("1.2");
			////console.log(UBWRXKMTQN);
			Desplazamiento=0;
			DesplazamientoY=0;
			if (UBWRXKMTQN=="D")
			{
				////console.log("1.3");
				x1=WIEVLYANFM("D_5",0)+150;
				////console.log("1.4");
				
				if (JHJEWHFWNL==false)
				{
					y1=FIGQBSJQGA("L_0",0)+60;
				}
				else
				{
					x1=WIEVLYANFM("D_5",0)+125;
					y1=FIGQBSJQGA("L_0",0)+70;
				}
				

					
					
				//XPBCVAGCDQ[i].WWKVHIMWYD="AWCCMSCOPO largo en la parte de abajo"
				////console.log("1.5");
				//var IQVAAXFOXW = { font: "bold 18px Arial", fill: "#fff", align: "left", boundsAlignH: "left", boundsAlignV: "middle" , wordWrap: true, wordWrapWidth: 160};	
				////console.log("1.6");
				x1text=x1+85;
				y1text=y1-15;
				
				Desplazamiento=45;
				DesplazamientoY=-10;
				
				
				xMedalla=x1+Desplazamiento;
				yMedalla=y1+15+DesplazamientoY-5;
				
				xLogro=x1+Desplazamiento+50;
				yLogro=y1+15+DesplazamientoY-5;				

			}
			if (UBWRXKMTQN=="R")
			{
				//x1=WIEVLYANFM("R_0",0)-30;
				if (JHJEWHFWNL==false)
				{
					x1=WIEVLYANFM("D_5",0)+285; //245
				}
				else
				{
					x1=WIEVLYANFM("R_5",0)-30;
				}
			//	x1=500;
				//if (JHJEWHFWNL==false)
				//{
				y1=FIGQBSJQGA("R_5",0)-110;
				
				
				//}
				//else
				//{
				//	y1=FIGQBSJQGA("R_5",0)
				//}
				//XPBCVAGCDQ[i].WWKVHIMWYD="Pepito Grillo es gay ya te digo";
				//XPBCVAGCDQ[i].WWKVHIMWYD="Ivan";
				var IQVAAXFOXW = { font: "bold 18px Arial", fill: "#fff", align: "right", boundsAlignH: "right", boundsAlignV: "middle" , wordWrap: true, wordWrapWidth: 160};	
				x1text=x1-30;
				//x1text=100;
				y1text=y1+10;	
				Desplazamiento=-100;				
				DesplazamientoY=0;
				
				xMedalla=x1+Desplazamiento;
				yMedalla=y1+25+DesplazamientoY;
				
				xLogro=x1+Desplazamiento-50;
				yLogro=y1+25+DesplazamientoY;							
			}
			if (UBWRXKMTQN=="U")
			{
				x1=WIEVLYANFM("D_0",0)+65;
				//x1=WIEVLYANFM("D_5",0)+90;
				if (JHJEWHFWNL==false)
				{
					y1=FIGQBSJQGA("R_5",0)-110;
				}
				else
				{
					y1=FIGQBSJQGA("U_0",0)-50;
					x1=WIEVLYANFM("D_0",0)+95;
				}
				

				
				//XPBCVAGCDQ[i].WWKVHIMWYD="y algo mariposón. Tb lo se"
				//var IQVAAXFOXW = { font: "bold 18px Arial", fill: "#fff", align: "right", boundsAlignH: "right", boundsAlignV: "middle" , wordWrap: true, wordWrapWidth: 160};	
				x1text=x1-30;
				y1text=y1+10;		
				//y1text=y1+25;		
				Desplazamiento=-100;
				DesplazamientoY=0;
				
				xMedalla=x1+Desplazamiento;
				yMedalla=y1+25+DesplazamientoY;

				xLogro=x1+Desplazamiento-50;
				yLogro=y1+25+DesplazamientoY;			

				//Desplazamiento=0;				
			}
			  
			if (UBWRXKMTQN=="L")
			{
				////console.log("1.11");
				x1=WIEVLYANFM("L_0",0)+40;
				////console.log("1.12");
				
				if (JHJEWHFWNL==false)
				{
					y1=FIGQBSJQGA("L_0",0)+60;
				}
				else
				{
					y1=FIGQBSJQGA("L_0",0)+70;
				}				

		
				//XPBCVAGCDQ[i].WWKVHIMWYD="Otro AWCCMSCOPO largo en la parte izquierda"
				////console.log("1.13");
				//var IQVAAXFOXW = { font: "bold 18px Arial", fill: "#fff", align: "left", boundsAlignH: "left", boundsAlignV: "middle" , wordWrap: true, wordWrapWidth: 160};	
				////console.log("1.14");
				x1text=x1+85;
				y1text=y1-15;				
				
				Desplazamiento=45;
				DesplazamientoY=-10;	

				xMedalla=x1+Desplazamiento;
				yMedalla=y1+15+DesplazamientoY-5;
		
				xLogro=x1+Desplazamiento+50;
				yLogro=y1+15+DesplazamientoY-5;			
				
			}
			////console.log("i "+i );
				////console.log("Dice que no existe "+XPBCVAGCDQ[i].XJARYUVBCB);
					/*var Desplazamiento=0
					if(UBWRXKMTQN=="D" || UBWRXKMTQN=="U" || UBWRXKMTQN=="L" || UBWRXKMTQN=="R")
					{
						Desplazamiento=75
					}
					else
					{
						Desplazamiento=-55
					}*/
					
				if (i==0){
					//UWROMBGGSY = YMHIHSNADE.add.text(x1+60, y1+15, XPBCVAGCDQ[i].WWKVHIMWYD,style);
					////console.log("2");
					////console.log("DKIFYHXLLC "+QYBDUBOCBT);
					
					/*if (QYBDUBOCBT!=undefined)
					{
						QYBDUBOCBT.destroy();
						UWROMBGGSY.destroy();
					}	
					QYBDUBOCBT= YMHIHSNADE.add.image(x1*(-1),y1*(-1),'general','imagen_turno');
					QYBDUBOCBT.inputEnabled = true;
					////console.log("3");
					QYBDUBOCBT.events.onInputDown.add( function(){ RWANTPBSQE(1); } );
					
					if (NBHWGUGUWB!=undefined)
					{
						NBHWGUGUWB.destroy();
					}*/
					//QYBDUBOCBT.frameName='desconocido' //2.0.6 ponía imagen_turno
					QYBDUBOCBT.x=x1;//*(-1);
					QYBDUBOCBT.y=y1;//*(-1);
					QYBDUBOCBT.revive();

					
					if (XPBCVAGCDQ[i].NHWYTYUSYG==true && XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						//NBHWGUGUWB = YMHIHSNADE.add.image(x1+Desplazamiento,y1+55,'general','medalla');
						NBHWGUGUWB.frameName='medalla';
						NBHWGUGUWB.x=xMedalla;
						NBHWGUGUWB.y=yMedalla;
						NBHWGUGUWB.revive();
					}
					
					if (XPLHSUIGIU!=undefined)
					{
						//XPLHSUIGIU.destroy();
					}
					
					if (XPBCVAGCDQ[i].OIUIOWCHVW>0 && XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						//XPLHSUIGIU = YMHIHSNADE.add.image(x1+Desplazamiento,y1-35,'general',OIQUIOCVKK(XPBCVAGCDQ[i].OIUIOWCHVW,2));	
						XPLHSUIGIU.frameName=OIQUIOCVKK(XPBCVAGCDQ[i].OIUIOWCHVW,2);
						//XPLHSUIGIU.x=x1+Desplazamiento;
						//XPLHSUIGIU.y=y1-75+DesplazamientoY;
						XPLHSUIGIU.x=xLogro;
						XPLHSUIGIU.y=yLogro;
						XPLHSUIGIU.revive();
					}
					
					if (UWROMBGGSY!=undefined)
					{
						//UWROMBGGSY.destroy();
					}
					//UWROMBGGSY=YMHIHSNADE.add.text(0, 0, "",IQVAAXFOXW);
					//UWROMBGGSY.setTextBounds(x1text, y1text, 190, 90);
					
					
					/*UWROMBGGSY=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteAmarilla', 'BitmapText', 22);
					UWROMBGGSY.anchor.set(0.5,0.5)*/
					UWROMBGGSY.x=x1text;
					
					UWROMBGGSY.text="";
					UWROMBGGSY.text=XPBCVAGCDQ[i].JJHFHGHSUI;
					UWROMBGGSY.revive();
					
					
					XPBCVAGCDQ[i].WWKVHIMWYD=XPBCVAGCDQ[i].JJHFHGHSUI;
					//UWROMBGGSY.text="Tengo Tengo Tengo";
					if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
					{
						UWROMBGGSY.x=UWROMBGGSY.x-(UWROMBGGSY.textWidth/2)-AjusteLetra;
					}
					else
					{
						UWROMBGGSY.x=UWROMBGGSY.x+(UWROMBGGSY.textWidth/2)-AjusteLetra;
					}
					UWROMBGGSY.y=y1text;
					
					//UWROMBGGSY.x=(x1text);
					//UWROMBGGSY.y=(y1text);
					//alert("jj");
					//UWROMBGGSY.style=IQVAAXFOXW;
					

					
					
					
					//imagen1=XPBCVAGCDQ[i].QHHQPXWFNG
					
					if (IDKJKASOTQ!=undefined)
					{
						try
						{
							IDKJKASOTQ.removeAll();
						}
						catch(e){}
						//IDKJKASOTQ=undefined;
					}
					
					if (IDKJKASOTQ==undefined)
					{						
						IDKJKASOTQ=new Phaser.Loader(YMHIHSNADE);
					}
					
					if ( XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						//console.log("FOTO: "+XPBCVAGCDQ[i].QHHQPXWFNG);
						
						if (XPBCVAGCDQ[i].QHHQPXWFNG=="sin_foto")
						{
							SJXIUSUWHQ(true);
						}
						else
						{
							IDKJKASOTQ.crossOrigin ="Anonymous"
							IDKJKASOTQ.image('imagen1',XPBCVAGCDQ[i].QHHQPXWFNG,true);
							IDKJKASOTQ.onFileComplete.add( function() { SJXIUSUWHQ(false);  }  );
							IDKJKASOTQ.onFileError.add( function() { fileError1();  }  );
							IDKJKASOTQ.onFileStart.add( function() { fileError1();  }  );
							IDKJKASOTQ.start();
						}
					}
					else
					{
						//UWROMBGGSY.text="";
						//UWROMBGGSY.text="Ordenador 1";
						

						UWROMBGGSY.x=x1text;						
						UWROMBGGSY.text="Ordenador 1";
						
						if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
						{
							UWROMBGGSY.x=UWROMBGGSY.x-(UWROMBGGSY.textWidth/2)-AjusteLetra;
						}
						else
						{
							UWROMBGGSY.x=UWROMBGGSY.x+(UWROMBGGSY.textWidth/2)-AjusteLetra;
						}
						UWROMBGGSY.y=y1text;
					
						XPBCVAGCDQ[i].WWKVHIMWYD="Ordenador 1"
						var key='JHGHJAGCMC'					
						if (QYBDUBOCBT.x<0)
						{
							QYBDUBOCBT.x=QYBDUBOCBT.x*(-1);
							QYBDUBOCBT.y=QYBDUBOCBT.y*(-1);
						}
						QYBDUBOCBT.name = key;
						QYBDUBOCBT.loadTexture(key, 0);
						QYBDUBOCBT.width=PJRPWGXEYM;
						QYBDUBOCBT.height=PJRPWGXEYM;	
					}
					
				}
				if (i==1){
					//HUPALFWPFI = YMHIHSNADE.add.text(x1+60, y1+15, XPBCVAGCDQ[i].WWKVHIMWYD,style);
					/*if (BDQHBTUNWW!=undefined)
					{
						BDQHBTUNWW.destroy();
						HUPALFWPFI.destroy();
					}	
					BDQHBTUNWW= YMHIHSNADE.add.image(x1*(-1),y1*(-1),'general','imagen_turno');
					BDQHBTUNWW.inputEnabled = true;
					BDQHBTUNWW.events.onInputDown.add( function(){ RWANTPBSQE(2); } );
					
					

					if (HGYGDVGQUY!=undefined)
					{
						HGYGDVGQUY.destroy();
					}*/
					
					//BDQHBTUNWW.frameName='desconocido' //2.0.6 ponía imagen_turno
					BDQHBTUNWW.x=x1;//*(-1);
					BDQHBTUNWW.y=y1;//*(-1);
					BDQHBTUNWW.revive();					

					
					if (XPBCVAGCDQ[i].NHWYTYUSYG==true  && XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						//HGYGDVGQUY = YMHIHSNADE.add.image(x1+Desplazamiento,y1+55,'general','medalla'); //-55
						HGYGDVGQUY.frameName='medalla';
						//HGYGDVGQUY.x=x1+Desplazamiento;
						//HGYGDVGQUY.y=y1+15+DesplazamientoY;
						HGYGDVGQUY.x=xMedalla;
						HGYGDVGQUY.y=yMedalla;
						HGYGDVGQUY.revive();
					}
					
					if (NHGUGUEUER!=undefined)
					{
						//NHGUGUEUER.destroy();
					}
					
					if (XPBCVAGCDQ[i].OIUIOWCHVW>0  && XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						//NHGUGUEUER = YMHIHSNADE.add.image(x1+Desplazamiento,y1-35,'general',OIQUIOCVKK(XPBCVAGCDQ[i].OIUIOWCHVW,2));							
						NHGUGUEUER.frameName=OIQUIOCVKK(XPBCVAGCDQ[i].OIUIOWCHVW,2);
						//NHGUGUEUER.x=x1+Desplazamiento;
						//NHGUGUEUER.y=y1-75+DesplazamientoY;
						
						
						//XPLHSUIGIU.x=x1+Desplazamiento;
						//XPLHSUIGIU.y=y1-75+DesplazamientoY;
						//NHGUGUEUER.x=x1+Desplazamiento+50;
						//NHGUGUEUER.y=y1+15+DesplazamientoY;
						NHGUGUEUER.x=xLogro;
						NHGUGUEUER.y=yLogro;

						
						NHGUGUEUER.revive();
					}
					
					/*HUPALFWPFI=YMHIHSNADE.add.text(0, 0, "",IQVAAXFOXW);
					HUPALFWPFI.setTextBounds(x1text, y1text, 190, 90);
					

					
					HUPALFWPFI.text="";
					HUPALFWPFI.text=XPBCVAGCDQ[i].JJHFHGHSUI;*/
					////console.log("RPHWVBBGIM jugador 2: "+XPBCVAGCDQ[i].WWKVHIMWYD);
					
					if (HUPALFWPFI!=undefined)
					{
						//HUPALFWPFI.destroy();
					}
					
					//HUPALFWPFI=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteAmarilla', 'BitmapText', 22);
					//HUPALFWPFI.anchor.set(0.5,0.5)
					HUPALFWPFI.revive();
					HUPALFWPFI.x=x1text;
					
					HUPALFWPFI.text="";
					HUPALFWPFI.text=XPBCVAGCDQ[i].JJHFHGHSUI;
					XPBCVAGCDQ[i].WWKVHIMWYD=XPBCVAGCDQ[i].JJHFHGHSUI;
					//HUPALFWPFI.text="Tengo2 Tengo2 Tengo2";
					if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
					{
						HUPALFWPFI.x=HUPALFWPFI.x-(HUPALFWPFI.textWidth/2)-AjusteLetra;
					}
					else
					{
						HUPALFWPFI.x=HUPALFWPFI.x+(HUPALFWPFI.textWidth/2)-AjusteLetra;
					}
					HUPALFWPFI.y=y1text;
					
					
					//imagen2=XPBCVAGCDQ[i].QHHQPXWFNG
					if (MMKMYKBXGH!=undefined)
					{
						try
						{
							MMKMYKBXGH.removeAll();
						}
						catch(e){}
						//MMKMYKBXGH=undefined;
					}
					if (MMKMYKBXGH==undefined)
					{
						MMKMYKBXGH=new Phaser.Loader(YMHIHSNADE);
					}
					
					
					if ( XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						if (XPBCVAGCDQ[i].QHHQPXWFNG=="sin_foto")
						{
							CWTXODSQLJ(true);
						}
						else
						{
							MMKMYKBXGH.crossOrigin ="Anonymous"
							MMKMYKBXGH.image('imagen2',XPBCVAGCDQ[i].QHHQPXWFNG,true);
							MMKMYKBXGH.onFileComplete.add( function() { CWTXODSQLJ(false);  }  );
							MMKMYKBXGH.onFileError.add( function() { fileError2();  }  );
							MMKMYKBXGH.onFileStart.add( function() { fileError2();  }  );
							MMKMYKBXGH.start();
						}
					}
					else
					{
						//HUPALFWPFI.text="";
						//HUPALFWPFI.text="Ordenador 2";
						
						HUPALFWPFI.x=x1text;						
						HUPALFWPFI.text="Ordenador 2";
						
						if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
						{
							HUPALFWPFI.x=HUPALFWPFI.x-(HUPALFWPFI.textWidth/2)-AjusteLetra;
						}
						else
						{
							HUPALFWPFI.x=HUPALFWPFI.x+(HUPALFWPFI.textWidth/2)-AjusteLetra;
						}
						HUPALFWPFI.y=y1text;
						
						
						XPBCVAGCDQ[i].WWKVHIMWYD="Ordenador 2"
						var key='JHGHJAGCMC'					
						if (BDQHBTUNWW.x<0)
						{
							BDQHBTUNWW.x=BDQHBTUNWW.x*(-1);
							BDQHBTUNWW.y=BDQHBTUNWW.y*(-1);
						}
						BDQHBTUNWW.name = key;
						BDQHBTUNWW.loadTexture(key, 0);
						BDQHBTUNWW.width=PJRPWGXEYM;
						BDQHBTUNWW.height=PJRPWGXEYM;	
					}
				}
				if (i==2){
					//BXYCJYDVRT = YMHIHSNADE.add.text(x1+60, y1+15, XPBCVAGCDQ[i].WWKVHIMWYD,style);
					/*if (PRWBHVTUSC!=undefined)
					{
						PRWBHVTUSC.destroy();
						BXYCJYDVRT.destroy();
					}
					PRWBHVTUSC= YMHIHSNADE.add.image(x1*(-1),y1*(-1),'general','imagen_turno');
					PRWBHVTUSC.inputEnabled = true;
					PRWBHVTUSC.events.onInputDown.add(  function(){ RWANTPBSQE(3); } );				
							
					
					if (XXGUGUYWUW!=undefined)
					{
						XXGUGUYWUW.destroy();
					}
					*/
	
					//PRWBHVTUSC.frameName='desconocido' //2.0.6 ponía imagen_turno
					PRWBHVTUSC.x=x1;//*(-1);
					PRWBHVTUSC.y=y1;//*(-1);
					PRWBHVTUSC.revive();		
					
					if (XPBCVAGCDQ[i].NHWYTYUSYG==true && XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						//XXGUGUYWUW = YMHIHSNADE.add.image(x1+Desplazamiento,y1+55,'general','medalla'); //-55
						XXGUGUYWUW.frameName='medalla';
						XXGUGUYWUW.x=xMedalla;
						XXGUGUYWUW.y=yMedalla;
						XXGUGUYWUW.revive();
					}

					if (HGWUGIVGWP!=undefined)
					{
						//HGWUGIVGWP.destroy();
					}
					
					if (XPBCVAGCDQ[i].OIUIOWCHVW>0 && XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						//HGWUGIVGWP = YMHIHSNADE.add.image(x1+Desplazamiento,y1-35,'general',OIQUIOCVKK(XPBCVAGCDQ[i].OIUIOWCHVW,2));			
						HGWUGIVGWP.frameName=OIQUIOCVKK(XPBCVAGCDQ[i].OIUIOWCHVW,2);
						HGWUGIVGWP.x=xLogro;
						HGWUGIVGWP.y=yLogro;
						HGWUGIVGWP.revive();
					}
					
					/*BXYCJYDVRT=YMHIHSNADE.add.text(0, 0, "",IQVAAXFOXW);
					BXYCJYDVRT.setTextBounds(x1text, y1text, 190, 90);
					BXYCJYDVRT.text="";
					BXYCJYDVRT.text=XPBCVAGCDQ[i].JJHFHGHSUI;*/
					
					if (BXYCJYDVRT!=undefined)
					{
						//BXYCJYDVRT.destroy();
					}					
					
					/*
					BXYCJYDVRT=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteAmarilla', 'BitmapText', 22);
					BXYCJYDVRT.anchor.set(0.5,0.5)
					*/
					
					BXYCJYDVRT.revive();
					BXYCJYDVRT.x=x1text;
					
					BXYCJYDVRT.text="";
					BXYCJYDVRT.text=XPBCVAGCDQ[i].JJHFHGHSUI;
					XPBCVAGCDQ[i].WWKVHIMWYD=XPBCVAGCDQ[i].JJHFHGHSUI;
					//BXYCJYDVRT.text="Tengo3 Tengo3 Tengo3";
					if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
					{
						BXYCJYDVRT.x=BXYCJYDVRT.x-(BXYCJYDVRT.textWidth/2)-AjusteLetra;
					}
					else
					{
						BXYCJYDVRT.x=BXYCJYDVRT.x+(BXYCJYDVRT.textWidth/2)-AjusteLetra;
					}
					BXYCJYDVRT.y=y1text;
					
					
					////console.log("RPHWVBBGIM jugador 3: "+XPBCVAGCDQ[i].WWKVHIMWYD);
					
					//imagen3=XPBCVAGCDQ[i].QHHQPXWFNG
					//imagen3=XPBCVAGCDQ[i].QHHQPXWFNG
				
					if (AQXDDTTNUH!=undefined)
					{
						try
						{
							AQXDDTTNUH.removeAll();
						}
						catch(e){}
						//AQXDDTTNUH=undefined;
					}
					
					if (AQXDDTTNUH==undefined)
					{
						AQXDDTTNUH=new Phaser.Loader(YMHIHSNADE);
					}
					if ( XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						if (XPBCVAGCDQ[i].QHHQPXWFNG=="sin_foto")
						{
							EXQNVUFJLI(true);
						}
						else
						{
							AQXDDTTNUH.crossOrigin ="Anonymous"
							AQXDDTTNUH.image('imagen3',XPBCVAGCDQ[i].QHHQPXWFNG,true);
							AQXDDTTNUH.onFileComplete.add( function() { EXQNVUFJLI(false);  }  );
							AQXDDTTNUH.onFileError.add( function() { fileError3();  }  );
							AQXDDTTNUH.onFileStart.add( function() { fileError3();  }  );
							AQXDDTTNUH.start();
						}
					}
					else
					{
						//BXYCJYDVRT.text="";
						//BXYCJYDVRT.text="Ordenador 3";
						
						BXYCJYDVRT.x=x1text;						
						BXYCJYDVRT.text="Ordenador 3";
						
						if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
						{
							BXYCJYDVRT.x=BXYCJYDVRT.x-(BXYCJYDVRT.textWidth/2)-AjusteLetra;
						}
						else
						{
							BXYCJYDVRT.x=BXYCJYDVRT.x+(BXYCJYDVRT.textWidth/2)-AjusteLetra;
						}
						BXYCJYDVRT.y=y1text;
						
						XPBCVAGCDQ[i].WWKVHIMWYD="Ordenador 3"
						var key='JHGHJAGCMC'					
						if (PRWBHVTUSC.x<0)
						{
							PRWBHVTUSC.x=PRWBHVTUSC.x*(-1);
							PRWBHVTUSC.y=PRWBHVTUSC.y*(-1);
						}
						PRWBHVTUSC.name = key;
						PRWBHVTUSC.loadTexture(key, 0);
						PRWBHVTUSC.width=PJRPWGXEYM;
						PRWBHVTUSC.height=PJRPWGXEYM;	
					}
				}
				if (i==3){
					//IRAIEARIWA = YMHIHSNADE.add.text(x1+60, y1+15, XPBCVAGCDQ[i].WWKVHIMWYD,style);
					////console.log("1.31");
					/*
					if (BMWINQGWDD!=undefined)
					{
						BMWINQGWDD.destroy();
						IRAIEARIWA.destroy();
					}					
					BMWINQGWDD= YMHIHSNADE.add.image(x1*(-1),y1*(-1),'general','imagen_turno');
					

					
					////console.log("1.32");
					BMWINQGWDD.inputEnabled = true;
					////console.log("1.33");
					BMWINQGWDD.events.onInputDown.add( function(){ RWANTPBSQE(4); } );
					////console.log("1.34");
	
					if (XKIOHWGJHG!=undefined)
					{
						XKIOHWGJHG.destroy();
					}
					*/
					
					//BMWINQGWDD.frameName='desconocido' //2.0.6 ponía imagen_turno
					BMWINQGWDD.x=x1;//*(-1);
					BMWINQGWDD.y=y1;//*(-1);
					BMWINQGWDD.revive();	
					
					
					if (XPBCVAGCDQ[i].NHWYTYUSYG==true && XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						//XKIOHWGJHG = YMHIHSNADE.add.image(x1+Desplazamiento,y1+55,'general','medalla');//75
						XKIOHWGJHG.frameName='medalla';
						XKIOHWGJHG.x=xMedalla;
						XKIOHWGJHG.y=yMedalla;
						XKIOHWGJHG.revive();
					}
					
					/*if (HGWYUYGVWO!=undefined)
					{
						HGWYUYGVWO.destroy();
					}*/
					
					if (XPBCVAGCDQ[i].OIUIOWCHVW>0 && XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						//HGWYUYGVWO = YMHIHSNADE.add.image(x1+Desplazamiento,y1-35,'general',OIQUIOCVKK(XPBCVAGCDQ[i].OIUIOWCHVW,2));		
						HGWYUYGVWO.frameName=OIQUIOCVKK(XPBCVAGCDQ[i].OIUIOWCHVW,2);
						HGWYUYGVWO.x=xLogro;
						HGWYUYGVWO.y=yLogro;
						HGWYUYGVWO.revive();						
					}
					
					/*IRAIEARIWA=YMHIHSNADE.add.text(0, 0, "",IQVAAXFOXW);
					IRAIEARIWA.setTextBounds(x1text, y1text, 190, 90);
					IRAIEARIWA.text="";
					IRAIEARIWA.text=XPBCVAGCDQ[i].JJHFHGHSUI;*/
					////console.log("RPHWVBBGIM jugador 4: "+XPBCVAGCDQ[i].WWKVHIMWYD);
					
					if (IRAIEARIWA!=undefined)
					{
						//IRAIEARIWA.destroy();
					}							
					
					/*
					IRAIEARIWA=YMHIHSNADE.add.bitmapText(0, 0, 'MiFuenteAmarilla', 'BitmapText', 22);
					IRAIEARIWA.anchor.set(0.5,0.5)
					*/
					IRAIEARIWA.revive();
					IRAIEARIWA.x=x1text;
					
					IRAIEARIWA.text="";
					IRAIEARIWA.text=XPBCVAGCDQ[i].JJHFHGHSUI;
					XPBCVAGCDQ[i].WWKVHIMWYD=XPBCVAGCDQ[i].JJHFHGHSUI;
					//IRAIEARIWA.text="Tengo4 Tengo4 Tengo4";
					if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
					{
						IRAIEARIWA.x=IRAIEARIWA.x-(IRAIEARIWA.textWidth/2)-AjusteLetra;
					}
					else
					{
						IRAIEARIWA.x=IRAIEARIWA.x+(IRAIEARIWA.textWidth/2)-AjusteLetra;
					}
					IRAIEARIWA.y=y1text;					
					
					//imagen4=XPBCVAGCDQ[i].QHHQPXWFNG
			
					if (JNMGJTHVNF!=undefined)
					{
						try
						{
							JNMGJTHVNF.removeAll();
						}
						catch(e){}
						//JNMGJTHVNF=undefined;
					}
					
					if (JNMGJTHVNF==undefined)
					{
						JNMGJTHVNF=new Phaser.Loader(YMHIHSNADE);
					}
					
					if ( XPBCVAGCDQ[i].XJARYUVBCB==false)
					{
						if (XPBCVAGCDQ[i].QHHQPXWFNG=="sin_foto")
						{
							DJAOLUHAHL(true);
						}
						else
						{
							JNMGJTHVNF.crossOrigin ="Anonymous"
							JNMGJTHVNF.image('imagen4',XPBCVAGCDQ[i].QHHQPXWFNG,true);
							JNMGJTHVNF.onFileComplete.add( function() { DJAOLUHAHL(false);  }  );
							JNMGJTHVNF.onFileError.add( function() { fileError4();  }  );
							JNMGJTHVNF.onFileStart.add( function() { fileError4();  }  );
							JNMGJTHVNF.start();
						}
						
						////console.log("1.37");
					}
					else
					{
						//IRAIEARIWA.text="";
						//IRAIEARIWA.text="Ordenador 4";
						IRAIEARIWA.x=x1text;						
						IRAIEARIWA.text="Ordenador 4";
						if (UBWRXKMTQN=="U" || UBWRXKMTQN=="R"  )
						{
							IRAIEARIWA.x=IRAIEARIWA.x-(IRAIEARIWA.textWidth/2)-AjusteLetra;
						}
						else
						{
							IRAIEARIWA.x=IRAIEARIWA.x+(IRAIEARIWA.textWidth/2)-AjusteLetra;
						}
						IRAIEARIWA.y=y1text;
						
						
						XPBCVAGCDQ[i].WWKVHIMWYD="Ordenador 4"
						var key='JHGHJAGCMC'					
						if (BMWINQGWDD.x<0)
						{
							BMWINQGWDD.x=BMWINQGWDD.x*(-1);
							BMWINQGWDD.y=BMWINQGWDD.y*(-1);
						}
						BMWINQGWDD.name = key;
						BMWINQGWDD.loadTexture(key, 0);
						BMWINQGWDD.width=PJRPWGXEYM;
						BMWINQGWDD.height=PJRPWGXEYM;	
						
					}	
				}			
		}	
	}	
		
 }
 
 
consol=function()
{
	log(false,"a");
}
KLDULSMKMA=function(Data,RDBQUAVHEP,KKAJSKKAQC,TXLWIIINGQ) {
//Tipo Idas o Vueltas
	
 
 //log(false,this.hola)
//Level.prototype.Dibuja();
var i;
var XJARYUVBCB=false;
var QueHago;

//console.log("Me llega la id partida "+KKAJSKKAQC)
//console.log("Debería repartir")
//MQUGCIUQII=KKAJSKKAQC; 2.0.1 20180210
QueHago=RDBQUAVHEP;
/*QueHago=RDBQUAVHEP-1;
if (QueHago==0)
{
	QueHago=4;
}*/

	log(true,'El que reparte es '+RDBQUAVHEP+" y yo soy "+TFSXFTYVGQ )
	//alert('El que reparte es '+RDBQUAVHEP+" y yo soy "+TFSXFTYVGQ );
	
	/*for (i=0;i<=KYDWXPGHVY.length-1;i++)
	{
		if (RDBQUAVHEP==KYDWXPGHVY[i].SSUNXNEEHN)
		{
			XJARYUVBCB=true;
		}
	}*/
	
	
//if (DVNRTQIWGL==KYDWXPGHVY[i].SSUNXNEEHN && TFSXFTYVGQ==ESKTEXAVHU)
	
	
	//if ( //(RDBQUAVHEP!=TFSXFTYVGQ &&  XJARYUVBCB==true && ESKTEXAVHU==TFSXFTYVGQ  )  

	//		1==1 //1.0.9 (OSBTHSJKFW()==true) 
			//!( RDBQUAVHEP==TFSXFTYVGQ ||  (RDBQUAVHEP!=TFSXFTYVGQ && ESKTEXAVHU==TFSXFTYVGQ && XJARYUVBCB==true))  
		
	//	) //(AGKVNAGGLB.length==0 && KNVKGHHTYC.length==0 && CBCNHFGWLU.length==0 && TWJONOKGHC.length==0)
	//{
		
		log(true,'Recibiendo baraja..')
		//SXFHAGTGJT no se elimina. Se usa por el tema pestaas y porque se eliminaba la variable en QSAXUCPASV

	
//	if (Tipo=="Idas")
//	{
//		DVNRTQIWGL=1;
//	}
	//else{
		log(true,"Creo el FXGSEGRXKC de apoyo");
		//for (i=0;i<=Data.length-1;i++) //A veces acaba antes que el que reparte, se crea el FXGSEGRXKC de apoyo y después se llama, pero creo que lo dejo obsoleto por un TKXPPGUPVV
		//{
		//	SXFHAGTGJT.push(new TVYNYTCQYW(Data[i].SGCSHJVERI,Data[i].UUOPKETETA,Data[i].HVCFEWNDRF,null,null,null));
		//}
		//if (!BDEFDQUJJE.isRunning  && !CKOUBGTDUF.isRunning  && !JLFYUAKDIJ.isRunning && !PQUFIBKJJH.isRunning && !LJRRHVSVKD.isRunning && !LCYAHFBDTT.isRunning)
		//{
		//	log(true,"la crea");
		//	CLWUDOTYHT(Data,RDBQUAVHEP);
		//}
		//else
		//{
			log(true,"la crea a malas ");
			console.log("Apunto de crear baraja recibida");
			
			
			if (EGPDVIEJEL==true)
			{
				console.log("BORRO TODOS LOS TIMERS");
				try
				{
					YMHIHSNADE.time.removeAll()				
					PPWJOWHOIW();
				}
				catch(e){}
			}
			
			CVTBLMKIGL.loop(1000, function(){
				console.log("dentro TKXPPGUPVV barajarecibida "+MQUGCIUQII+"   "+KKAJSKKAQC);
				//log(true, "Dando vueltas como un capullo2 "+Data.length+" BDEFDQUJJE "+BDEFDQUJJE.isRunning+" CKOUBGTDUF "+CKOUBGTDUF.isRunning+" JLFYUAKDIJ "+JLFYUAKDIJ.isRunning+" PQUFIBKJJH "+PQUFIBKJJH.isRunning+" LJRRHVSVKD "+LJRRHVSVKD.isRunning+ "  LCYAHFBDTT "+LCYAHFBDTT.isRunning);
				//if (!BDEFDQUJJE.isRunning  && !CKOUBGTDUF.isRunning  && !JLFYUAKDIJ.isRunning && !PQUFIBKJJH.isRunning && !LJRRHVSVKD.isRunning && !LCYAHFBDTT.isRunning)
				//if (JEHYBALODM.length==0)
				if (CompruebaPartidaFinalizada(KKAJSKKAQC)) //2.0.1 clave:reparto	
					{
						console.log("dentro TKXPPGUPVV barajarecibida2");
						//console.log("Dando vueltas como un capullo "+ KKAJSKKAQC);
						if (KYLIAIETHX==false)
						{
							MensajeError2("Dando vueltas "+ KKAJSKKAQC);
							console.log("Dando vueltas "+ KKAJSKKAQC);
						}
						BorrarTareasObsoletas();
						CVTBLMKIGL.stop();
						console.log("Limpio CVTBLMKIGL en baraja desde server")
						MMCDRVCGAV.stop(); //2.0.1
						MQUGCIUQII=KKAJSKKAQC;
						CLWUDOTYHT(Data,RDBQUAVHEP,TXLWIIINGQ);
					}
				}
			);
			CVTBLMKIGL.start();	
			
		//}
	//}
	//else
	//{
	//	log(true,"Yo no hago nada con la baraja recibida");
	//}


 
 };
 
 
 TGLVJXEMKD= function(UHTPGPRUJA,OMDVKATFLQ, AWCCMSCOPO,TXLWIIINGQ) {
	//LGDEYPLFSA(UHTPGPRUJA,OMDVKATFLQ, AWCCMSCOPO); 
	
	XIAPNYIGXV(UHTPGPRUJA,AWCCMSCOPO,true,OMDVKATFLQ,true,TXLWIIINGQ);
	//HUCLBWTDFV(UHTPGPRUJA,AWCCMSCOPO,OMDVKATFLQ);
	
 };
 
 
XWGQYYRRQO = function(UHTPGPRUJA,SJVCMXWVVI,BBSGITWRQX,TXLWIIINGQ) {
 log(false,'Recibiendo NPYBJSHIFL de jugador'+UHTPGPRUJA+": "+SJVCMXWVVI+" "+BBSGITWRQX)
 RAVHQRVMNJ(UHTPGPRUJA,SJVCMXWVVI,BBSGITWRQX,TXLWIIINGQ); 
 };
 
 
 NOGEVUYFEW=function(UHTPGPRUJA,SJVCMXWVVI,turnoRecibido,SLGKDYQCAY,VMKDXVSQEY,TXLWIIINGQ) {

				//HUUCUYFBLW.stop(); //rave
				//TKXPPGUPVV.stop(); //rave
				
				//console.log("LLEGA DESDE LEJOS "+UHTPGPRUJA+" con tarea "+TXLWIIINGQ);
				VPDVSDLPHG(UHTPGPRUJA,SJVCMXWVVI,SLGKDYQCAY,VMKDXVSQEY,TXLWIIINGQ); 
				//console.log("FIN");
	
	

 }
 
 MBDMSUIWEH = function(UHTPGPRUJA,SJVCMXWVVI,TXLWIIINGQ){
  NPOUCHQXMY(UHTPGPRUJA,SJVCMXWVVI,false,false,TXLWIIINGQ,false); 
 }
 
 VMSUJQUAGD=function(RPHWVBBGIM,QuienHabla){
  XIAPNYIGXV(QuienHabla,RPHWVBBGIM,false,false,false,false); 
 }
 

YHNMANDWLT=function()
{
	var d;
	
	d=document.getElementById('Login');
		d.style.display = 'none';
	//	d.style.zIndex=-1;
		

}
RevivirTextCuentaMundo=function()
{
	JKLJKLRIRI.text="";
	if (XPBCVAGCDQ.length==0)
	{
		JKLJKLRIRI.x=YMHIHSNADE.world.centerX + 250+(JKLJKLRIRI.textWidth/2);
	}
	else
	{
		JKLJKLRIRI.x=YMHIHSNADE.world.centerX-125 + (JKLJKLRIRI.textWidth/2);
	}
	JKLJKLRIRI.revive();
}

MCFSLYOMHE=function()
{
	var d;
	
	d=document.getElementById('Login');
		d.style.display = 'none';
	//	d.style.zIndex=-1;
		
	UEHYPTREIH.revive();
	IBECDOLWLN.revive();
	POEICHMHDL.revive(); //1.0.8
	RIHFCSEMIJ.revive();
	RevivirTextCuentaMundo();
	
	EFKTQSXAMA.kill(); //1.0.8 resuelve bug cerrar de la x el login.
	LNJDKEVPQE.kill(); //1.0.8
	CUUKQAGFEB.kill(); //1.0.8
	TextGbits.kill();
	TextGbitsIndicador.kill();
	bolsa_dinero.kill();
}

YUXWLFWVRD=function()
{
	if (EGPDVIEJEL==true)
	{
		UJHVBJDGJD=new Date(Date.now());	
		
		console.log("QUEDAN "+TiempoAntesDesconexion);
		HUUCUYFBLW.stop();
		TKXPPGUPVV.stop();
		//console.log("Toma el control a 0 desde Error Conexion");
		ESKTEXAVHU=0;
	}
	
	//YHNMANDWLT();
	
}

SVHMCOYULR=function(RPHWVBBGIM)
{
	//tocar 1000 y 50
	//var styleMarcador = { font: "bold 50px Arial", fill: "#fff", align: "center", boundsAlignH: "center", boundsAlignV: "middle" , wordWrap: true, wordWrapWidth: 800};	
	//var BMQCYKJAHO=YMHIHSNADE.add.text(0, 0, RPHWVBBGIM, styleMarcador);
	
	
	
	if (YMHIHSNADE!=undefined)
	{
		VTEVNYKAUB.removeAll(); //2.0.1 clave:textoseliminar
		
		var TextoGeneral=YMHIHSNADE.add.bitmapText(YMHIHSNADE.world.centerX, YMHIHSNADE.world.centerY-25, 'MiFuenteAmarilla', 'BitmapText', 50);
		TextoGeneral.anchor.set(0.5,0.5)
		TextoGeneral.text=RPHWVBBGIM;
		
		/*TextoGeneral.revive();
		TextoGeneral.alpha=1;
		TextoGeneral.text=RPHWVBBGIM;
		TextoGeneral.fontSize=50;*/
		
		VTEVNYKAUB.add(TextoGeneral); //2.0.1 clave:textoseliminar
		YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
		
		/*BMQCYKJAHO.stroke = '#961918';
		BMQCYKJAHO.strokeThickness = 4;
		BMQCYKJAHO.fill = '#F8E600';		
		//ATTUXTNNKX.setTextBounds(960,310,300,100)
		BMQCYKJAHO.setTextBounds(100,150,1200,200)*/
		
		TextoGeneral.alpha=1;
		var	twMensajeError = YMHIHSNADE.add.tween(TextoGeneral).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,1000);
		twMensajeError.onComplete.add(function()
		{
			TextoGeneral.kill(); 
		});
	}
	
	
}

MensajeError2=function(RPHWVBBGIM)
{
	//tocar 1000 y 50
	//var styleMarcador = { font: "bold 50px Arial", fill: "#fff", align: "center", boundsAlignH: "center", boundsAlignV: "middle" , wordWrap: true, wordWrapWidth: 800};	
	//var BMQCYKJAHO=YMHIHSNADE.add.text(0, 0, RPHWVBBGIM, styleMarcador);
	
	
	if (YMHIHSNADE!=undefined)
	{
		VTEVNYKAUB.removeAll(); //2.0.1 clave:textoseliminar
		
		var TextoGeneral=YMHIHSNADE.add.bitmapText(YMHIHSNADE.world.centerX, YMHIHSNADE.world.centerY-25, 'MiFuenteAmarilla', 'BitmapText', 24);
		TextoGeneral.anchor.set(0.5,0.5)
		TextoGeneral.text=RPHWVBBGIM;
		
		/*TextoGeneral.revive();
		TextoGeneral.alpha=1;
		TextoGeneral.text=RPHWVBBGIM;
		TextoGeneral.fontSize=16;*/
		
		VTEVNYKAUB.add(TextoGeneral); //2.0.1 clave:textoseliminar
		YMHIHSNADE.world.bringToTop(VTEVNYKAUB);
		
		/*BMQCYKJAHO.stroke = '#961918';
		BMQCYKJAHO.strokeThickness = 4;
		BMQCYKJAHO.fill = '#F8E600';		
		//ATTUXTNNKX.setTextBounds(960,310,300,100)
		BMQCYKJAHO.setTextBounds(100,150,1200,200)*/
		
		var	twMensajeError = YMHIHSNADE.add.tween(TextoGeneral).to( { alpha: 0 }, 1500, KYFMRVNHIQ, true,1000);
		twMensajeError.onComplete.add(function()
		{
			TextoGeneral.kill(); 
		});
	}
	
	
}

Salir=function(VideoJuego){
	
	//if (XPBCVAGCDQ.length==4 || EGPDVIEJEL==false)
	//{
		XHSDDIIBGG(VideoJuego);
	//}
	//else
	//{
	//	FHKOYDXPCL();
	//}
}

FHKOYDXPCL=function()
{

	NFARLTEOCI();
	EHUHWTYXOS=false;
	//	WNEWPCNXPA();
	/*1.0.6 YTUGCWECJC=false;
	try
	{
		socket.disconnect();
		DFBVDPETGO=Math.floor(Math.random());
	}
	catch(e){}*/
	
	//XIQDONAJMM.revive();
	//YJEISFVFQY(); //1.0.8 Daba problemas pero es que además se ejecuta en WNEWPCNXPA
	QSAXUCPASV();	
	WNEWPCNXPA();
	/*if (JKCANKPQBB<=2)
	{
		PWGIQBBAWX=true;
	}
	else
	{
		PWGIQBBAWX=false;
	}*/
	ERQHLTPETK=true;
	//YMHIHSNADE.state.start("Level");	
	//1.0.6
	
	
	//MHELAUXKXR();
	//BNCAIUQIJJ=false;
}

/*SalirDesdeLogueo=function()
{
	NFARLTEOCI();
	EHUHWTYXOS=false;
	//	WNEWPCNXPA();
	YTUGCWECJC=false;
	

	
	//XIQDONAJMM.revive();
	YJEISFVFQY();
	QSAXUCPASV();	
	WNEWPCNXPA();
	PWGIQBBAWX=true;
	////console.log("Conecta: Llamada SalirDesdeLogueo");			
	//1.0.8 jo XEMENNVXGV();
	//JVEHDHOEEM();
}
*/

EXBCVLOIYJ=function(XQLEOGMJYG,Origen)
{
	var encontrado=false;
	var i;
	
	for (i=0;i<=NBEJWDVLLV.length-1;i++)
	{
		if (NBEJWDVLLV[i].OYJAHGADFQ==XQLEOGMJYG)
		{
			encontrado=true;
			break;
		}
	}
	if (encontrado==true)
	{
		NBEJWDVLLV.splice(i,1);
		////console.log("Eliminado mensaje "+Origen+" "+XQLEOGMJYG)
	}
}	


KKQJCHKQEP=function()
{
	var UBWRXKMTQN=HHOPUSIABJ(DVNRTQIWGL);
	var FXGSEGRXKC;
	var i;
	var tween1;
	var tween2;
	var tween3;
	var tween4;
	var u;
	//var
	
	////console.log("Animacion "+UBWRXKMTQN);
	
	//KJHKJQQCCE(DHJGJHGWCY);
	if (EGPDVIEJEL==true && XPBCVAGCDQ.length>0)
	{
		DHJGJHGWCY.revive();
		BNVUWCOWEC.revive();
		GJHWUYGCBN.revive();
		UYIUYIUYIU.revive();
		
		if (UBWRXKMTQN=="D")
		{
			KJHKJQQCCE(DHJGJHGWCY);
			LIQHCBMZAX(BNVUWCOWEC);
			LIQHCBMZAX(GJHWUYGCBN);
			LIQHCBMZAX(UYIUYIUYIU);	
		}
		
		if (UBWRXKMTQN=="U")
		{
			KJHKJQQCCE(UYIUYIUYIU);
			LIQHCBMZAX(BNVUWCOWEC);
			LIQHCBMZAX(GJHWUYGCBN);
			LIQHCBMZAX(DHJGJHGWCY);
		}
		
		if (UBWRXKMTQN=="L")
		{
			KJHKJQQCCE(BNVUWCOWEC);
			LIQHCBMZAX(UYIUYIUYIU);
			LIQHCBMZAX(GJHWUYGCBN);
			LIQHCBMZAX(DHJGJHGWCY);
		}	
		
		if (UBWRXKMTQN=="R")
		{
			KJHKJQQCCE(GJHWUYGCBN);
			LIQHCBMZAX(UYIUYIUYIU);
			LIQHCBMZAX(BNVUWCOWEC);
			LIQHCBMZAX(DHJGJHGWCY);
		}	
		
	//console.log("KKQJCHKQEP: Soy "+TFSXFTYVGQ+" Turno: "+DVNRTQIWGL+"AGTXFNIKQD: "+LUCRWXJMDR+" Control:"+ESKTEXAVHU)
	//RAKA BSUNPMKJSM();
	}
	
}	

KJHKJQQCCE=function(Obj)
{
	
	//Obj.tint=Phaser.Color.getColor(255,255,255);
	var imagenTurno="";

	if (MYQBNBVHKU==true && EGPDVIEJEL==true)
	{
		switch (TGTQPBEQFR){
			
			case "oros":
				imagenTurno="color_oros";
				break;
				
			case "copas":
				imagenTurno="color_copas";
				break;

			case "espadas":
				imagenTurno="color_espadas";
				break;

			case "bastos":
				imagenTurno="color_bastos";
				break;				
		}
		Obj.frameName=imagenTurno;
		Obj.revive();
	}
	
	
	
	/*var tween;
		
		tween = YMHIHSNADE.add.tween(Obj);
		tween.to( {alpha:1

		}
		, MDYSFNYPYP, KYFMRVNHIQ,false,500);
		tween.start();
	*/

}

LIQHCBMZAX=function(Obj)
{

	Obj.kill();
	//Obj.tint=Phaser.Color.getColor(110,110,110);
	/*var tween;
		
		tween = YMHIHSNADE.add.tween(Obj);
		tween.to( {alpha:0.5

		}
		, MDYSFNYPYP, KYFMRVNHIQ,false,500);
		tween.start();*/

}



/*Level.prototype.render=function(){
	var a;
	a=YMHIHSNADE.add.text(0, 0, "");
	a.text=""
	a.text="aaa"+UHHXSNXXJK;
}*/